function xI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ko(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I0={exports:{}},Fu={},A0={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ea=Symbol.for("react.element"),kI=Symbol.for("react.portal"),DI=Symbol.for("react.fragment"),NI=Symbol.for("react.strict_mode"),OI=Symbol.for("react.profiler"),MI=Symbol.for("react.provider"),VI=Symbol.for("react.context"),LI=Symbol.for("react.forward_ref"),bI=Symbol.for("react.suspense"),FI=Symbol.for("react.memo"),$I=Symbol.for("react.lazy"),yg=Symbol.iterator;function jI(e){return e===null||typeof e!="object"?null:(e=yg&&e[yg]||e["@@iterator"],typeof e=="function"?e:null)}var S0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C0=Object.assign,R0={};function Do(e,t,n){this.props=e,this.context=t,this.refs=R0,this.updater=n||S0}Do.prototype.isReactComponent={};Do.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Do.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function P0(){}P0.prototype=Do.prototype;function qf(e,t,n){this.props=e,this.context=t,this.refs=R0,this.updater=n||S0}var Wf=qf.prototype=new P0;Wf.constructor=qf;C0(Wf,Do.prototype);Wf.isPureReactComponent=!0;var vg=Array.isArray,x0=Object.prototype.hasOwnProperty,Kf={current:null},k0={key:!0,ref:!0,__self:!0,__source:!0};function D0(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)x0.call(t,r)&&!k0.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ea,type:e,key:o,ref:s,props:i,_owner:Kf.current}}function UI(e,t){return{$$typeof:Ea,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ea}function BI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _g=/\/+/g;function Xc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BI(""+e.key):t.toString(36)}function Sl(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ea:case kI:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Xc(s,0):r,vg(i)?(n="",e!=null&&(n=e.replace(_g,"$&/")+"/"),Sl(i,t,n,"",function(u){return u})):i!=null&&(Gf(i)&&(i=UI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(_g,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",vg(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Xc(o,a);s+=Sl(o,t,n,l,i)}else if(l=jI(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Xc(o,a++),s+=Sl(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ka(e,t,n){if(e==null)return e;var r=[],i=0;return Sl(e,r,"","",function(o){return t.call(n,o,i++)}),r}function zI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pt={current:null},Cl={transition:null},HI={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Cl,ReactCurrentOwner:Kf};se.Children={map:Ka,forEach:function(e,t,n){Ka(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ka(e,function(){t++}),t},toArray:function(e){return Ka(e,function(t){return t})||[]},only:function(e){if(!Gf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Do;se.Fragment=DI;se.Profiler=OI;se.PureComponent=qf;se.StrictMode=NI;se.Suspense=bI;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HI;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=C0({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Kf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)x0.call(t,l)&&!k0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ea,type:e.type,key:i,ref:o,props:r,_owner:s}};se.createContext=function(e){return e={$$typeof:VI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:MI,_context:e},e.Consumer=e};se.createElement=D0;se.createFactory=function(e){var t=D0.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:LI,render:e}};se.isValidElement=Gf;se.lazy=function(e){return{$$typeof:$I,_payload:{_status:-1,_result:e},_init:zI}};se.memo=function(e,t){return{$$typeof:FI,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Cl.transition;Cl.transition={};try{e()}finally{Cl.transition=t}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(e,t){return Pt.current.useCallback(e,t)};se.useContext=function(e){return Pt.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return Pt.current.useDeferredValue(e)};se.useEffect=function(e,t){return Pt.current.useEffect(e,t)};se.useId=function(){return Pt.current.useId()};se.useImperativeHandle=function(e,t,n){return Pt.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return Pt.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Pt.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Pt.current.useMemo(e,t)};se.useReducer=function(e,t,n){return Pt.current.useReducer(e,t,n)};se.useRef=function(e){return Pt.current.useRef(e)};se.useState=function(e){return Pt.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return Pt.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return Pt.current.useTransition()};se.version="18.2.0";A0.exports=se;var I=A0.exports;const re=ko(I),qI=xI({__proto__:null,default:re},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WI=I,KI=Symbol.for("react.element"),GI=Symbol.for("react.fragment"),QI=Object.prototype.hasOwnProperty,YI=WI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XI={key:!0,ref:!0,__self:!0,__source:!0};function N0(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)QI.call(t,r)&&!XI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:KI,type:e,key:o,ref:s,props:i,_owner:YI.current}}Fu.Fragment=GI;Fu.jsx=N0;Fu.jsxs=N0;I0.exports=Fu;var _=I0.exports,th={},O0={exports:{}},Wt={},M0={exports:{}},V0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,z){var te=O.length;O.push(z);e:for(;0<te;){var ke=te-1>>>1,Ue=O[ke];if(0<i(Ue,z))O[ke]=z,O[te]=Ue,te=ke;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],te=O.pop();if(te!==z){O[0]=te;e:for(var ke=0,Ue=O.length,xi=Ue>>>1;ke<xi;){var ve=2*(ke+1)-1,On=O[ve],_n=ve+1,ki=O[_n];if(0>i(On,te))_n<Ue&&0>i(ki,On)?(O[ke]=ki,O[_n]=te,ke=_n):(O[ke]=On,O[ve]=te,ke=ve);else if(_n<Ue&&0>i(ki,te))O[ke]=ki,O[_n]=te,ke=_n;else break e}}return z}function i(O,z){var te=O.sortIndex-z.sortIndex;return te!==0?te:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(O){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=O)r(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function p(O){if(v=!1,E(O),!y)if(n(l)!==null)y=!0,de(T);else{var z=n(u);z!==null&&je(p,z.startTime-O)}}function T(O,z){y=!1,v&&(v=!1,m(x),x=-1),f=!0;var te=h;try{for(E(z),d=n(l);d!==null&&(!(d.expirationTime>z)||O&&!ue());){var ke=d.callback;if(typeof ke=="function"){d.callback=null,h=d.priorityLevel;var Ue=ke(d.expirationTime<=z);z=e.unstable_now(),typeof Ue=="function"?d.callback=Ue:d===n(l)&&r(l),E(z)}else r(l);d=n(l)}if(d!==null)var xi=!0;else{var ve=n(u);ve!==null&&je(p,ve.startTime-z),xi=!1}return xi}finally{d=null,h=te,f=!1}}var C=!1,P=null,x=-1,j=5,F=-1;function ue(){return!(e.unstable_now()-F<j)}function q(){if(P!==null){var O=e.unstable_now();F=O;var z=!0;try{z=P(!0,O)}finally{z?M():(C=!1,P=null)}}else C=!1}var M;if(typeof g=="function")M=function(){g(q)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Je=G.port2;G.port1.onmessage=q,M=function(){Je.postMessage(null)}}else M=function(){w(q,0)};function de(O){P=O,C||(C=!0,M())}function je(O,z){x=w(function(){O(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){y||f||(y=!0,de(T))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var te=h;h=z;try{return O()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var te=h;h=O;try{return z()}finally{h=te}},e.unstable_scheduleCallback=function(O,z,te){var ke=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ke+te:ke):te=ke,O){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=te+Ue,O={id:c++,callback:z,priorityLevel:O,startTime:te,expirationTime:Ue,sortIndex:-1},te>ke?(O.sortIndex=te,t(u,O),n(l)===null&&O===n(u)&&(v?(m(x),x=-1):v=!0,je(p,te-ke))):(O.sortIndex=Ue,t(l,O),y||f||(y=!0,de(T))),O},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(O){var z=h;return function(){var te=h;h=z;try{return O.apply(this,arguments)}finally{h=te}}}})(V0);M0.exports=V0;var JI=M0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0=I,Ht=JI;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b0=new Set,Fs={};function wi(e,t){po(e,t),po(e+"Capture",t)}function po(e,t){for(Fs[e]=t,e=0;e<t.length;e++)b0.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nh=Object.prototype.hasOwnProperty,ZI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Eg={},wg={};function eA(e){return nh.call(wg,e)?!0:nh.call(Eg,e)?!1:ZI.test(e)?wg[e]=!0:(Eg[e]=!0,!1)}function tA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nA(e,t,n,r){if(t===null||typeof t>"u"||tA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qf=/[\-:]([a-z])/g;function Yf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qf,Yf);ct[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qf,Yf);ct[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qf,Yf);ct[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xf(e,t,n,r){var i=ct.hasOwnProperty(t)?ct[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nA(t,n,i,r)&&(n=null),r||i===null?eA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Zn=L0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ga=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),Jf=Symbol.for("react.strict_mode"),rh=Symbol.for("react.profiler"),F0=Symbol.for("react.provider"),$0=Symbol.for("react.context"),Zf=Symbol.for("react.forward_ref"),ih=Symbol.for("react.suspense"),oh=Symbol.for("react.suspense_list"),ep=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),j0=Symbol.for("react.offscreen"),Tg=Symbol.iterator;function qo(e){return e===null||typeof e!="object"?null:(e=Tg&&e[Tg]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Jc;function us(e){if(Jc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jc=t&&t[1]||""}return`
`+Jc+e}var Zc=!1;function ed(e,t){if(!e||Zc)return"";Zc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Zc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?us(e):""}function rA(e){switch(e.tag){case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return e=ed(e.type,!1),e;case 11:return e=ed(e.type.render,!1),e;case 1:return e=ed(e.type,!0),e;default:return""}}function sh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fi:return"Fragment";case bi:return"Portal";case rh:return"Profiler";case Jf:return"StrictMode";case ih:return"Suspense";case oh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $0:return(e.displayName||"Context")+".Consumer";case F0:return(e._context.displayName||"Context")+".Provider";case Zf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ep:return t=e.displayName||null,t!==null?t:sh(e.type)||"Memo";case sr:t=e._payload,e=e._init;try{return sh(e(t))}catch{}}return null}function iA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sh(t);case 8:return t===Jf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function U0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oA(e){var t=U0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qa(e){e._valueTracker||(e._valueTracker=oA(e))}function B0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=U0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ah(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ig(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function z0(e,t){t=t.checked,t!=null&&Xf(e,"checked",t,!1)}function lh(e,t){z0(e,t);var n=xr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uh(e,t.type,n):t.hasOwnProperty("defaultValue")&&uh(e,t.type,xr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ag(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function uh(e,t,n){(t!=="number"||Hl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cs=Array.isArray;function Ji(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ch(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(cs(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xr(n)}}function H0(e,t){var n=xr(t.value),r=xr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Cg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ya,W0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ya=Ya||document.createElement("div"),Ya.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ya.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $s(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sA=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(e){sA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ws[t]=ws[e]})});function K0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ws.hasOwnProperty(e)&&ws[e]?(""+t).trim():t+"px"}function G0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=K0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var aA=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hh(e,t){if(t){if(aA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function fh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=null;function tp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mh=null,Zi=null,eo=null;function Rg(e){if(e=Ia(e)){if(typeof mh!="function")throw Error(D(280));var t=e.stateNode;t&&(t=zu(t),mh(e.stateNode,e.type,t))}}function Q0(e){Zi?eo?eo.push(e):eo=[e]:Zi=e}function Y0(){if(Zi){var e=Zi,t=eo;if(eo=Zi=null,Rg(e),t)for(e=0;e<t.length;e++)Rg(t[e])}}function X0(e,t){return e(t)}function J0(){}var td=!1;function Z0(e,t,n){if(td)return e(t,n);td=!0;try{return X0(e,t,n)}finally{td=!1,(Zi!==null||eo!==null)&&(J0(),Y0())}}function js(e,t){var n=e.stateNode;if(n===null)return null;var r=zu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var gh=!1;if(Hn)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){gh=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{gh=!1}function lA(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ts=!1,ql=null,Wl=!1,yh=null,uA={onError:function(e){Ts=!0,ql=e}};function cA(e,t,n,r,i,o,s,a,l){Ts=!1,ql=null,lA.apply(uA,arguments)}function dA(e,t,n,r,i,o,s,a,l){if(cA.apply(this,arguments),Ts){if(Ts){var u=ql;Ts=!1,ql=null}else throw Error(D(198));Wl||(Wl=!0,yh=u)}}function Ti(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function e1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pg(e){if(Ti(e)!==e)throw Error(D(188))}function hA(e){var t=e.alternate;if(!t){if(t=Ti(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Pg(i),e;if(o===r)return Pg(i),t;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function t1(e){return e=hA(e),e!==null?n1(e):null}function n1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=n1(e);if(t!==null)return t;e=e.sibling}return null}var r1=Ht.unstable_scheduleCallback,xg=Ht.unstable_cancelCallback,fA=Ht.unstable_shouldYield,pA=Ht.unstable_requestPaint,$e=Ht.unstable_now,mA=Ht.unstable_getCurrentPriorityLevel,np=Ht.unstable_ImmediatePriority,i1=Ht.unstable_UserBlockingPriority,Kl=Ht.unstable_NormalPriority,gA=Ht.unstable_LowPriority,o1=Ht.unstable_IdlePriority,$u=null,Cn=null;function yA(e){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot($u,e,void 0,(e.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:EA,vA=Math.log,_A=Math.LN2;function EA(e){return e>>>=0,e===0?32:31-(vA(e)/_A|0)|0}var Xa=64,Ja=4194304;function ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ds(a):(o&=s,o!==0&&(r=ds(o)))}else s=n&~i,s!==0?r=ds(s):o!==0&&(r=ds(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fn(t),i=1<<n,r|=e[n],t&=~i;return r}function wA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-fn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=wA(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function vh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function s1(){var e=Xa;return Xa<<=1,!(Xa&4194240)&&(Xa=64),e}function nd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fn(t),e[t]=n}function IA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-fn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function rp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pe=0;function a1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var l1,ip,u1,c1,d1,_h=!1,Za=[],mr=null,gr=null,yr=null,Us=new Map,Bs=new Map,lr=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kg(e,t){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(t.pointerId)}}function Ko(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ia(t),t!==null&&ip(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function SA(e,t,n,r,i){switch(t){case"focusin":return mr=Ko(mr,e,t,n,r,i),!0;case"dragenter":return gr=Ko(gr,e,t,n,r,i),!0;case"mouseover":return yr=Ko(yr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Us.set(o,Ko(Us.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bs.set(o,Ko(Bs.get(o)||null,e,t,n,r,i)),!0}return!1}function h1(e){var t=Yr(e.target);if(t!==null){var n=Ti(t);if(n!==null){if(t=n.tag,t===13){if(t=e1(n),t!==null){e.blockedOn=t,d1(e.priority,function(){u1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Eh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ph=r,n.target.dispatchEvent(r),ph=null}else return t=Ia(n),t!==null&&ip(t),e.blockedOn=n,!1;t.shift()}return!0}function Dg(e,t,n){Rl(e)&&n.delete(t)}function CA(){_h=!1,mr!==null&&Rl(mr)&&(mr=null),gr!==null&&Rl(gr)&&(gr=null),yr!==null&&Rl(yr)&&(yr=null),Us.forEach(Dg),Bs.forEach(Dg)}function Go(e,t){e.blockedOn===t&&(e.blockedOn=null,_h||(_h=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,CA)))}function zs(e){function t(i){return Go(i,e)}if(0<Za.length){Go(Za[0],e);for(var n=1;n<Za.length;n++){var r=Za[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mr!==null&&Go(mr,e),gr!==null&&Go(gr,e),yr!==null&&Go(yr,e),Us.forEach(t),Bs.forEach(t),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)h1(n),n.blockedOn===null&&lr.shift()}var to=Zn.ReactCurrentBatchConfig,Ql=!0;function RA(e,t,n,r){var i=pe,o=to.transition;to.transition=null;try{pe=1,op(e,t,n,r)}finally{pe=i,to.transition=o}}function PA(e,t,n,r){var i=pe,o=to.transition;to.transition=null;try{pe=4,op(e,t,n,r)}finally{pe=i,to.transition=o}}function op(e,t,n,r){if(Ql){var i=Eh(e,t,n,r);if(i===null)hd(e,t,r,Yl,n),kg(e,r);else if(SA(i,e,t,n,r))r.stopPropagation();else if(kg(e,r),t&4&&-1<AA.indexOf(e)){for(;i!==null;){var o=Ia(i);if(o!==null&&l1(o),o=Eh(e,t,n,r),o===null&&hd(e,t,r,Yl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else hd(e,t,r,null,n)}}var Yl=null;function Eh(e,t,n,r){if(Yl=null,e=tp(r),e=Yr(e),e!==null)if(t=Ti(e),t===null)e=null;else if(n=t.tag,n===13){if(e=e1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yl=e,null}function f1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mA()){case np:return 1;case i1:return 4;case Kl:case gA:return 16;case o1:return 536870912;default:return 16}default:return 16}}var cr=null,sp=null,Pl=null;function p1(){if(Pl)return Pl;var e,t=sp,n=t.length,r,i="value"in cr?cr.value:cr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Pl=i.slice(e,1<r?1-r:void 0)}function xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function el(){return!0}function Ng(){return!1}function Kt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?el:Ng,this.isPropagationStopped=Ng,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),t}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ap=Kt(No),Ta=Oe({},No,{view:0,detail:0}),xA=Kt(Ta),rd,id,Qo,ju=Oe({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qo&&(Qo&&e.type==="mousemove"?(rd=e.screenX-Qo.screenX,id=e.screenY-Qo.screenY):id=rd=0,Qo=e),rd)},movementY:function(e){return"movementY"in e?e.movementY:id}}),Og=Kt(ju),kA=Oe({},ju,{dataTransfer:0}),DA=Kt(kA),NA=Oe({},Ta,{relatedTarget:0}),od=Kt(NA),OA=Oe({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),MA=Kt(OA),VA=Oe({},No,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LA=Kt(VA),bA=Oe({},No,{data:0}),Mg=Kt(bA),FA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$A={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jA[e])?!!t[e]:!1}function lp(){return UA}var BA=Oe({},Ta,{key:function(e){if(e.key){var t=FA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$A[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lp,charCode:function(e){return e.type==="keypress"?xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zA=Kt(BA),HA=Oe({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vg=Kt(HA),qA=Oe({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lp}),WA=Kt(qA),KA=Oe({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),GA=Kt(KA),QA=Oe({},ju,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YA=Kt(QA),XA=[9,13,27,32],up=Hn&&"CompositionEvent"in window,Is=null;Hn&&"documentMode"in document&&(Is=document.documentMode);var JA=Hn&&"TextEvent"in window&&!Is,m1=Hn&&(!up||Is&&8<Is&&11>=Is),Lg=String.fromCharCode(32),bg=!1;function g1(e,t){switch(e){case"keyup":return XA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $i=!1;function ZA(e,t){switch(e){case"compositionend":return y1(t);case"keypress":return t.which!==32?null:(bg=!0,Lg);case"textInput":return e=t.data,e===Lg&&bg?null:e;default:return null}}function eS(e,t){if($i)return e==="compositionend"||!up&&g1(e,t)?(e=p1(),Pl=sp=cr=null,$i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return m1&&t.locale!=="ko"?null:t.data;default:return null}}var tS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tS[e.type]:t==="textarea"}function v1(e,t,n,r){Q0(r),t=Xl(t,"onChange"),0<t.length&&(n=new ap("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var As=null,Hs=null;function nS(e){x1(e,0)}function Uu(e){var t=Bi(e);if(B0(t))return e}function rS(e,t){if(e==="change")return t}var _1=!1;if(Hn){var sd;if(Hn){var ad="oninput"in document;if(!ad){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),ad=typeof $g.oninput=="function"}sd=ad}else sd=!1;_1=sd&&(!document.documentMode||9<document.documentMode)}function jg(){As&&(As.detachEvent("onpropertychange",E1),Hs=As=null)}function E1(e){if(e.propertyName==="value"&&Uu(Hs)){var t=[];v1(t,Hs,e,tp(e)),Z0(nS,t)}}function iS(e,t,n){e==="focusin"?(jg(),As=t,Hs=n,As.attachEvent("onpropertychange",E1)):e==="focusout"&&jg()}function oS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(Hs)}function sS(e,t){if(e==="click")return Uu(t)}function aS(e,t){if(e==="input"||e==="change")return Uu(t)}function lS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:lS;function qs(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nh.call(t,i)||!gn(e[i],t[i]))return!1}return!0}function Ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bg(e,t){var n=Ug(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ug(n)}}function w1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?w1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function T1(){for(var e=window,t=Hl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hl(e.document)}return t}function cp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uS(e){var t=T1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&w1(n.ownerDocument.documentElement,n)){if(r!==null&&cp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Bg(n,o);var s=Bg(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cS=Hn&&"documentMode"in document&&11>=document.documentMode,ji=null,wh=null,Ss=null,Th=!1;function zg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Th||ji==null||ji!==Hl(r)||(r=ji,"selectionStart"in r&&cp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ss&&qs(Ss,r)||(Ss=r,r=Xl(wh,"onSelect"),0<r.length&&(t=new ap("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ji)))}function tl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ui={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},ld={},I1={};Hn&&(I1=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function Bu(e){if(ld[e])return ld[e];if(!Ui[e])return e;var t=Ui[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in I1)return ld[e]=t[n];return e}var A1=Bu("animationend"),S1=Bu("animationiteration"),C1=Bu("animationstart"),R1=Bu("transitionend"),P1=new Map,Hg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){P1.set(e,t),wi(t,[e])}for(var ud=0;ud<Hg.length;ud++){var cd=Hg[ud],dS=cd.toLowerCase(),hS=cd[0].toUpperCase()+cd.slice(1);Vr(dS,"on"+hS)}Vr(A1,"onAnimationEnd");Vr(S1,"onAnimationIteration");Vr(C1,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(R1,"onTransitionEnd");po("onMouseEnter",["mouseout","mouseover"]);po("onMouseLeave",["mouseout","mouseover"]);po("onPointerEnter",["pointerout","pointerover"]);po("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fS=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function qg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dA(r,t,void 0,e),e.currentTarget=null}function x1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;qg(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;qg(i,a,u),o=l}}}if(Wl)throw e=yh,Wl=!1,yh=null,e}function we(e,t){var n=t[Rh];n===void 0&&(n=t[Rh]=new Set);var r=e+"__bubble";n.has(r)||(k1(t,e,2,!1),n.add(r))}function dd(e,t,n){var r=0;t&&(r|=4),k1(n,e,r,t)}var nl="_reactListening"+Math.random().toString(36).slice(2);function Ws(e){if(!e[nl]){e[nl]=!0,b0.forEach(function(n){n!=="selectionchange"&&(fS.has(n)||dd(n,!1,e),dd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nl]||(t[nl]=!0,dd("selectionchange",!1,t))}}function k1(e,t,n,r){switch(f1(t)){case 1:var i=RA;break;case 4:i=PA;break;default:i=op}n=i.bind(null,t,n,e),i=void 0,!gh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function hd(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Yr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Z0(function(){var u=o,c=tp(n),d=[];e:{var h=P1.get(e);if(h!==void 0){var f=ap,y=e;switch(e){case"keypress":if(xl(n)===0)break e;case"keydown":case"keyup":f=zA;break;case"focusin":y="focus",f=od;break;case"focusout":y="blur",f=od;break;case"beforeblur":case"afterblur":f=od;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=DA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=WA;break;case A1:case S1:case C1:f=MA;break;case R1:f=GA;break;case"scroll":f=xA;break;case"wheel":f=YA;break;case"copy":case"cut":case"paste":f=LA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Vg}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,E;g!==null;){E=g;var p=E.stateNode;if(E.tag===5&&p!==null&&(E=p,m!==null&&(p=js(g,m),p!=null&&v.push(Ks(g,p,E)))),w)break;g=g.return}0<v.length&&(h=new f(h,y,null,n,c),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==ph&&(y=n.relatedTarget||n.fromElement)&&(Yr(y)||y[qn]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?Yr(y):null,y!==null&&(w=Ti(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(v=Og,p="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Vg,p="onPointerLeave",m="onPointerEnter",g="pointer"),w=f==null?h:Bi(f),E=y==null?h:Bi(y),h=new v(p,g+"leave",f,n,c),h.target=w,h.relatedTarget=E,p=null,Yr(c)===u&&(v=new v(m,g+"enter",y,n,c),v.target=E,v.relatedTarget=w,p=v),w=p,f&&y)t:{for(v=f,m=y,g=0,E=v;E;E=Di(E))g++;for(E=0,p=m;p;p=Di(p))E++;for(;0<g-E;)v=Di(v),g--;for(;0<E-g;)m=Di(m),E--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Di(v),m=Di(m)}v=null}else v=null;f!==null&&Wg(d,h,f,v,!1),y!==null&&w!==null&&Wg(d,w,y,v,!0)}}e:{if(h=u?Bi(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var T=rS;else if(Fg(h))if(_1)T=aS;else{T=oS;var C=iS}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=sS);if(T&&(T=T(e,u))){v1(d,T,n,c);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&uh(h,"number",h.value)}switch(C=u?Bi(u):window,e){case"focusin":(Fg(C)||C.contentEditable==="true")&&(ji=C,wh=u,Ss=null);break;case"focusout":Ss=wh=ji=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,zg(d,n,c);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":zg(d,n,c)}var P;if(up)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else $i?g1(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(m1&&n.locale!=="ko"&&($i||x!=="onCompositionStart"?x==="onCompositionEnd"&&$i&&(P=p1()):(cr=c,sp="value"in cr?cr.value:cr.textContent,$i=!0)),C=Xl(u,x),0<C.length&&(x=new Mg(x,e,null,n,c),d.push({event:x,listeners:C}),P?x.data=P:(P=y1(n),P!==null&&(x.data=P)))),(P=JA?ZA(e,n):eS(e,n))&&(u=Xl(u,"onBeforeInput"),0<u.length&&(c=new Mg("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=P))}x1(d,t)})}function Ks(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=js(e,n),o!=null&&r.unshift(Ks(e,o,i)),o=js(e,t),o!=null&&r.push(Ks(e,o,i))),e=e.return}return r}function Di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wg(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=js(n,o),l!=null&&s.unshift(Ks(n,l,a))):i||(l=js(n,o),l!=null&&s.push(Ks(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var pS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function Kg(e){return(typeof e=="string"?e:""+e).replace(pS,`
`).replace(mS,"")}function rl(e,t,n){if(t=Kg(t),Kg(e)!==t&&n)throw Error(D(425))}function Jl(){}var Ih=null,Ah=null;function Sh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ch=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,Gg=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof Gg<"u"?function(e){return Gg.resolve(null).then(e).catch(vS)}:Ch;function vS(e){setTimeout(function(){throw e})}function fd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zs(t)}function vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Oo,Gs="__reactProps$"+Oo,qn="__reactContainer$"+Oo,Rh="__reactEvents$"+Oo,_S="__reactListeners$"+Oo,ES="__reactHandles$"+Oo;function Yr(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qn]||n[Tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qg(e);e!==null;){if(n=e[Tn])return n;e=Qg(e)}return t}e=n,n=e.parentNode}return null}function Ia(e){return e=e[Tn]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function zu(e){return e[Gs]||null}var Ph=[],zi=-1;function Lr(e){return{current:e}}function Se(e){0>zi||(e.current=Ph[zi],Ph[zi]=null,zi--)}function Ee(e,t){zi++,Ph[zi]=e.current,e.current=t}var kr={},Tt=Lr(kr),Vt=Lr(!1),ai=kr;function mo(e,t){var n=e.type.contextTypes;if(!n)return kr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Lt(e){return e=e.childContextTypes,e!=null}function Zl(){Se(Vt),Se(Tt)}function Yg(e,t,n){if(Tt.current!==kr)throw Error(D(168));Ee(Tt,t),Ee(Vt,n)}function D1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,iA(e)||"Unknown",i));return Oe({},n,r)}function eu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,ai=Tt.current,Ee(Tt,e),Ee(Vt,Vt.current),!0}function Xg(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=D1(e,t,ai),r.__reactInternalMemoizedMergedChildContext=e,Se(Vt),Se(Tt),Ee(Tt,e)):Se(Vt),Ee(Vt,n)}var Fn=null,Hu=!1,pd=!1;function N1(e){Fn===null?Fn=[e]:Fn.push(e)}function wS(e){Hu=!0,N1(e)}function br(){if(!pd&&Fn!==null){pd=!0;var e=0,t=pe;try{var n=Fn;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Fn=null,Hu=!1}catch(i){throw Fn!==null&&(Fn=Fn.slice(e+1)),r1(np,br),i}finally{pe=t,pd=!1}}return null}var Hi=[],qi=0,tu=null,nu=0,Xt=[],Jt=0,li=null,$n=1,jn="";function Hr(e,t){Hi[qi++]=nu,Hi[qi++]=tu,tu=e,nu=t}function O1(e,t,n){Xt[Jt++]=$n,Xt[Jt++]=jn,Xt[Jt++]=li,li=e;var r=$n;e=jn;var i=32-fn(r)-1;r&=~(1<<i),n+=1;var o=32-fn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$n=1<<32-fn(t)+i|n<<i|r,jn=o+e}else $n=1<<o|n<<i|r,jn=e}function dp(e){e.return!==null&&(Hr(e,1),O1(e,1,0))}function hp(e){for(;e===tu;)tu=Hi[--qi],Hi[qi]=null,nu=Hi[--qi],Hi[qi]=null;for(;e===li;)li=Xt[--Jt],Xt[Jt]=null,jn=Xt[--Jt],Xt[Jt]=null,$n=Xt[--Jt],Xt[Jt]=null}var Bt=null,jt=null,xe=!1,hn=null;function M1(e,t){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,jt=vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=li!==null?{id:$n,overflow:jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,jt=null,!0):!1;default:return!1}}function xh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kh(e){if(xe){var t=jt;if(t){var n=t;if(!Jg(e,t)){if(xh(e))throw Error(D(418));t=vr(n.nextSibling);var r=Bt;t&&Jg(e,t)?M1(r,n):(e.flags=e.flags&-4097|2,xe=!1,Bt=e)}}else{if(xh(e))throw Error(D(418));e.flags=e.flags&-4097|2,xe=!1,Bt=e}}}function Zg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function il(e){if(e!==Bt)return!1;if(!xe)return Zg(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sh(e.type,e.memoizedProps)),t&&(t=jt)){if(xh(e))throw V1(),Error(D(418));for(;t;)M1(e,t),t=vr(t.nextSibling)}if(Zg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jt=vr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=Bt?vr(e.stateNode.nextSibling):null;return!0}function V1(){for(var e=jt;e;)e=vr(e.nextSibling)}function go(){jt=Bt=null,xe=!1}function fp(e){hn===null?hn=[e]:hn.push(e)}var TS=Zn.ReactCurrentBatchConfig;function ln(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ru=Lr(null),iu=null,Wi=null,pp=null;function mp(){pp=Wi=iu=null}function gp(e){var t=ru.current;Se(ru),e._currentValue=t}function Dh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function no(e,t){iu=e,pp=Wi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ot=!0),e.firstContext=null)}function nn(e){var t=e._currentValue;if(pp!==e)if(e={context:e,memoizedValue:t,next:null},Wi===null){if(iu===null)throw Error(D(308));Wi=e,iu.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Xr=null;function yp(e){Xr===null?Xr=[e]:Xr.push(e)}function L1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,yp(t)):(n.next=i.next,i.next=n),t.interleaved=n,Wn(e,r)}function Wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ar=!1;function vp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Wn(e,n)}return i=r.interleaved,i===null?(t.next=t,yp(r)):(t.next=i.next,i.next=t),r.interleaved=t,Wn(e,n)}function kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rp(e,n)}}function ey(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ou(e,t,n,r){var i=e.updateQueue;ar=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(h=t,f=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(f,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(f,d,h):y,h==null)break e;d=Oe({},d,h);break e;case 2:ar=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ci|=s,e.lanes=s,e.memoizedState=d}}function ty(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var F1=new L0.Component().refs;function Nh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qu={isMounted:function(e){return(e=e._reactInternals)?Ti(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ct(),i=wr(e),o=Bn(r,i);o.payload=t,n!=null&&(o.callback=n),t=_r(e,o,i),t!==null&&(pn(t,e,i,r),kl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ct(),i=wr(e),o=Bn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=_r(e,o,i),t!==null&&(pn(t,e,i,r),kl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),r=wr(e),i=Bn(n,r);i.tag=2,t!=null&&(i.callback=t),t=_r(e,i,r),t!==null&&(pn(t,e,r,n),kl(t,e,r))}};function ny(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!qs(n,r)||!qs(i,o):!0}function $1(e,t,n){var r=!1,i=kr,o=t.contextType;return typeof o=="object"&&o!==null?o=nn(o):(i=Lt(t)?ai:Tt.current,r=t.contextTypes,o=(r=r!=null)?mo(e,i):kr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ry(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qu.enqueueReplaceState(t,t.state,null)}function Oh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=F1,vp(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=nn(o):(o=Lt(t)?ai:Tt.current,i.context=mo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Nh(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qu.enqueueReplaceState(i,i.state,null),ou(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Yo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===F1&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function ol(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iy(e){var t=e._init;return t(e._payload)}function j1(e){function t(m,g){if(e){var E=m.deletions;E===null?(m.deletions=[g],m.flags|=16):E.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Tr(m,g),m.index=0,m.sibling=null,m}function o(m,g,E){return m.index=E,e?(E=m.alternate,E!==null?(E=E.index,E<g?(m.flags|=2,g):E):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,E,p){return g===null||g.tag!==6?(g=wd(E,m.mode,p),g.return=m,g):(g=i(g,E),g.return=m,g)}function l(m,g,E,p){var T=E.type;return T===Fi?c(m,g,E.props.children,p,E.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sr&&iy(T)===g.type)?(p=i(g,E.props),p.ref=Yo(m,g,E),p.return=m,p):(p=Ll(E.type,E.key,E.props,null,m.mode,p),p.ref=Yo(m,g,E),p.return=m,p)}function u(m,g,E,p){return g===null||g.tag!==4||g.stateNode.containerInfo!==E.containerInfo||g.stateNode.implementation!==E.implementation?(g=Td(E,m.mode,p),g.return=m,g):(g=i(g,E.children||[]),g.return=m,g)}function c(m,g,E,p,T){return g===null||g.tag!==7?(g=oi(E,m.mode,p,T),g.return=m,g):(g=i(g,E),g.return=m,g)}function d(m,g,E){if(typeof g=="string"&&g!==""||typeof g=="number")return g=wd(""+g,m.mode,E),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ga:return E=Ll(g.type,g.key,g.props,null,m.mode,E),E.ref=Yo(m,null,g),E.return=m,E;case bi:return g=Td(g,m.mode,E),g.return=m,g;case sr:var p=g._init;return d(m,p(g._payload),E)}if(cs(g)||qo(g))return g=oi(g,m.mode,E,null),g.return=m,g;ol(m,g)}return null}function h(m,g,E,p){var T=g!==null?g.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:a(m,g,""+E,p);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ga:return E.key===T?l(m,g,E,p):null;case bi:return E.key===T?u(m,g,E,p):null;case sr:return T=E._init,h(m,g,T(E._payload),p)}if(cs(E)||qo(E))return T!==null?null:c(m,g,E,p,null);ol(m,E)}return null}function f(m,g,E,p,T){if(typeof p=="string"&&p!==""||typeof p=="number")return m=m.get(E)||null,a(g,m,""+p,T);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ga:return m=m.get(p.key===null?E:p.key)||null,l(g,m,p,T);case bi:return m=m.get(p.key===null?E:p.key)||null,u(g,m,p,T);case sr:var C=p._init;return f(m,g,E,C(p._payload),T)}if(cs(p)||qo(p))return m=m.get(E)||null,c(g,m,p,T,null);ol(g,p)}return null}function y(m,g,E,p){for(var T=null,C=null,P=g,x=g=0,j=null;P!==null&&x<E.length;x++){P.index>x?(j=P,P=null):j=P.sibling;var F=h(m,P,E[x],p);if(F===null){P===null&&(P=j);break}e&&P&&F.alternate===null&&t(m,P),g=o(F,g,x),C===null?T=F:C.sibling=F,C=F,P=j}if(x===E.length)return n(m,P),xe&&Hr(m,x),T;if(P===null){for(;x<E.length;x++)P=d(m,E[x],p),P!==null&&(g=o(P,g,x),C===null?T=P:C.sibling=P,C=P);return xe&&Hr(m,x),T}for(P=r(m,P);x<E.length;x++)j=f(P,m,x,E[x],p),j!==null&&(e&&j.alternate!==null&&P.delete(j.key===null?x:j.key),g=o(j,g,x),C===null?T=j:C.sibling=j,C=j);return e&&P.forEach(function(ue){return t(m,ue)}),xe&&Hr(m,x),T}function v(m,g,E,p){var T=qo(E);if(typeof T!="function")throw Error(D(150));if(E=T.call(E),E==null)throw Error(D(151));for(var C=T=null,P=g,x=g=0,j=null,F=E.next();P!==null&&!F.done;x++,F=E.next()){P.index>x?(j=P,P=null):j=P.sibling;var ue=h(m,P,F.value,p);if(ue===null){P===null&&(P=j);break}e&&P&&ue.alternate===null&&t(m,P),g=o(ue,g,x),C===null?T=ue:C.sibling=ue,C=ue,P=j}if(F.done)return n(m,P),xe&&Hr(m,x),T;if(P===null){for(;!F.done;x++,F=E.next())F=d(m,F.value,p),F!==null&&(g=o(F,g,x),C===null?T=F:C.sibling=F,C=F);return xe&&Hr(m,x),T}for(P=r(m,P);!F.done;x++,F=E.next())F=f(P,m,x,F.value,p),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?x:F.key),g=o(F,g,x),C===null?T=F:C.sibling=F,C=F);return e&&P.forEach(function(q){return t(m,q)}),xe&&Hr(m,x),T}function w(m,g,E,p){if(typeof E=="object"&&E!==null&&E.type===Fi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ga:e:{for(var T=E.key,C=g;C!==null;){if(C.key===T){if(T=E.type,T===Fi){if(C.tag===7){n(m,C.sibling),g=i(C,E.props.children),g.return=m,m=g;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sr&&iy(T)===C.type){n(m,C.sibling),g=i(C,E.props),g.ref=Yo(m,C,E),g.return=m,m=g;break e}n(m,C);break}else t(m,C);C=C.sibling}E.type===Fi?(g=oi(E.props.children,m.mode,p,E.key),g.return=m,m=g):(p=Ll(E.type,E.key,E.props,null,m.mode,p),p.ref=Yo(m,g,E),p.return=m,m=p)}return s(m);case bi:e:{for(C=E.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===E.containerInfo&&g.stateNode.implementation===E.implementation){n(m,g.sibling),g=i(g,E.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Td(E,m.mode,p),g.return=m,m=g}return s(m);case sr:return C=E._init,w(m,g,C(E._payload),p)}if(cs(E))return y(m,g,E,p);if(qo(E))return v(m,g,E,p);ol(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,E),g.return=m,m=g):(n(m,g),g=wd(E,m.mode,p),g.return=m,m=g),s(m)):n(m,g)}return w}var yo=j1(!0),U1=j1(!1),Aa={},Rn=Lr(Aa),Qs=Lr(Aa),Ys=Lr(Aa);function Jr(e){if(e===Aa)throw Error(D(174));return e}function _p(e,t){switch(Ee(Ys,t),Ee(Qs,e),Ee(Rn,Aa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dh(t,e)}Se(Rn),Ee(Rn,t)}function vo(){Se(Rn),Se(Qs),Se(Ys)}function B1(e){Jr(Ys.current);var t=Jr(Rn.current),n=dh(t,e.type);t!==n&&(Ee(Qs,e),Ee(Rn,n))}function Ep(e){Qs.current===e&&(Se(Rn),Se(Qs))}var De=Lr(0);function su(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var md=[];function wp(){for(var e=0;e<md.length;e++)md[e]._workInProgressVersionPrimary=null;md.length=0}var Dl=Zn.ReactCurrentDispatcher,gd=Zn.ReactCurrentBatchConfig,ui=0,Ne=null,Ye=null,tt=null,au=!1,Cs=!1,Xs=0,IS=0;function ht(){throw Error(D(321))}function Tp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function Ip(e,t,n,r,i,o){if(ui=o,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Dl.current=e===null||e.memoizedState===null?RS:PS,e=n(r,i),Cs){o=0;do{if(Cs=!1,Xs=0,25<=o)throw Error(D(301));o+=1,tt=Ye=null,t.updateQueue=null,Dl.current=xS,e=n(r,i)}while(Cs)}if(Dl.current=lu,t=Ye!==null&&Ye.next!==null,ui=0,tt=Ye=Ne=null,au=!1,t)throw Error(D(300));return e}function Ap(){var e=Xs!==0;return Xs=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ne.memoizedState=tt=e:tt=tt.next=e,tt}function rn(){if(Ye===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=tt===null?Ne.memoizedState:tt.next;if(t!==null)tt=t,Ye=e;else{if(e===null)throw Error(D(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},tt===null?Ne.memoizedState=tt=e:tt=tt.next=e}return tt}function Js(e,t){return typeof t=="function"?t(e):t}function yd(e){var t=rn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Ye,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ui&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ne.lanes|=c,ci|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,gn(r,t.memoizedState)||(Ot=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ne.lanes|=o,ci|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vd(e){var t=rn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);gn(o,t.memoizedState)||(Ot=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function z1(){}function H1(e,t){var n=Ne,r=rn(),i=t(),o=!gn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ot=!0),r=r.queue,Sp(K1.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Zs(9,W1.bind(null,n,r,i,t),void 0,null),nt===null)throw Error(D(349));ui&30||q1(n,t,i)}return i}function q1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function W1(e,t,n,r){t.value=n,t.getSnapshot=r,G1(t)&&Q1(e)}function K1(e,t,n){return n(function(){G1(t)&&Q1(e)})}function G1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function Q1(e){var t=Wn(e,1);t!==null&&pn(t,e,1,-1)}function oy(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:e},t.queue=e,e=e.dispatch=CS.bind(null,Ne,e),[t.memoizedState,e]}function Zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Y1(){return rn().memoizedState}function Nl(e,t,n,r){var i=wn();Ne.flags|=e,i.memoizedState=Zs(1|t,n,void 0,r===void 0?null:r)}function Wu(e,t,n,r){var i=rn();r=r===void 0?null:r;var o=void 0;if(Ye!==null){var s=Ye.memoizedState;if(o=s.destroy,r!==null&&Tp(r,s.deps)){i.memoizedState=Zs(t,n,o,r);return}}Ne.flags|=e,i.memoizedState=Zs(1|t,n,o,r)}function sy(e,t){return Nl(8390656,8,e,t)}function Sp(e,t){return Wu(2048,8,e,t)}function X1(e,t){return Wu(4,2,e,t)}function J1(e,t){return Wu(4,4,e,t)}function Z1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function e_(e,t,n){return n=n!=null?n.concat([e]):null,Wu(4,4,Z1.bind(null,t,e),n)}function Cp(){}function t_(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function n_(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function r_(e,t,n){return ui&21?(gn(n,t)||(n=s1(),Ne.lanes|=n,ci|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=n)}function AS(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=gd.transition;gd.transition={};try{e(!1),t()}finally{pe=n,gd.transition=r}}function i_(){return rn().memoizedState}function SS(e,t,n){var r=wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},o_(e))s_(t,n);else if(n=L1(e,t,n,r),n!==null){var i=Ct();pn(n,e,r,i),a_(n,t,r)}}function CS(e,t,n){var r=wr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(o_(e))s_(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,gn(a,s)){var l=t.interleaved;l===null?(i.next=i,yp(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=L1(e,t,i,r),n!==null&&(i=Ct(),pn(n,e,r,i),a_(n,t,r))}}function o_(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function s_(e,t){Cs=au=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function a_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rp(e,n)}}var lu={readContext:nn,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},RS={readContext:nn,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:sy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Nl(4194308,4,Z1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nl(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=SS.bind(null,Ne,e),[r.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:oy,useDebugValue:Cp,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=oy(!1),t=e[0];return e=AS.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ne,i=wn();if(xe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),nt===null)throw Error(D(349));ui&30||q1(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,sy(K1.bind(null,r,o,e),[e]),r.flags|=2048,Zs(9,W1.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wn(),t=nt.identifierPrefix;if(xe){var n=jn,r=$n;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=IS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PS={readContext:nn,useCallback:t_,useContext:nn,useEffect:Sp,useImperativeHandle:e_,useInsertionEffect:X1,useLayoutEffect:J1,useMemo:n_,useReducer:yd,useRef:Y1,useState:function(){return yd(Js)},useDebugValue:Cp,useDeferredValue:function(e){var t=rn();return r_(t,Ye.memoizedState,e)},useTransition:function(){var e=yd(Js)[0],t=rn().memoizedState;return[e,t]},useMutableSource:z1,useSyncExternalStore:H1,useId:i_,unstable_isNewReconciler:!1},xS={readContext:nn,useCallback:t_,useContext:nn,useEffect:Sp,useImperativeHandle:e_,useInsertionEffect:X1,useLayoutEffect:J1,useMemo:n_,useReducer:vd,useRef:Y1,useState:function(){return vd(Js)},useDebugValue:Cp,useDeferredValue:function(e){var t=rn();return Ye===null?t.memoizedState=e:r_(t,Ye.memoizedState,e)},useTransition:function(){var e=vd(Js)[0],t=rn().memoizedState;return[e,t]},useMutableSource:z1,useSyncExternalStore:H1,useId:i_,unstable_isNewReconciler:!1};function _o(e,t){try{var n="",r=t;do n+=rA(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function _d(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kS=typeof WeakMap=="function"?WeakMap:Map;function l_(e,t,n){n=Bn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cu||(cu=!0,Hh=r),Mh(e,t)},n}function u_(e,t,n){n=Bn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Mh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Mh(e,t),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function ay(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=HS.bind(null,e,t,n),t.then(e,e))}function ly(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bn(-1,1),t.tag=2,_r(n,t,1))),n.lanes|=1),e)}var DS=Zn.ReactCurrentOwner,Ot=!1;function At(e,t,n,r){t.child=e===null?U1(t,null,n,r):yo(t,e.child,n,r)}function cy(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Ip(e,t,n,r,o,i),n=Ap(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(xe&&n&&dp(t),t.flags|=1,At(e,t,r,i),t.child)}function dy(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Mp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,c_(e,t,o,r,i)):(e=Ll(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:qs,n(s,r)&&e.ref===t.ref)return Kn(e,t,i)}return t.flags|=1,e=Tr(o,r),e.ref=t.ref,e.return=t,t.child=e}function c_(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(qs(o,r)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ot=!0);else return t.lanes=e.lanes,Kn(e,t,i)}return Vh(e,t,n,r,i)}function d_(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Gi,$t),$t|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Gi,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ee(Gi,$t),$t|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ee(Gi,$t),$t|=r;return At(e,t,i,n),t.child}function h_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vh(e,t,n,r,i){var o=Lt(n)?ai:Tt.current;return o=mo(t,o),no(t,i),n=Ip(e,t,n,r,o,i),r=Ap(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(xe&&r&&dp(t),t.flags|=1,At(e,t,n,i),t.child)}function hy(e,t,n,r,i){if(Lt(n)){var o=!0;eu(t)}else o=!1;if(no(t,i),t.stateNode===null)Ol(e,t),$1(t,n,r),Oh(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=nn(u):(u=Lt(n)?ai:Tt.current,u=mo(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ry(t,s,r,u),ar=!1;var h=t.memoizedState;s.state=h,ou(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Vt.current||ar?(typeof c=="function"&&(Nh(t,n,c,r),l=t.memoizedState),(a=ar||ny(t,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,b1(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ln(t.type,a),s.props=u,d=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=nn(l):(l=Lt(n)?ai:Tt.current,l=mo(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&ry(t,s,r,l),ar=!1,h=t.memoizedState,s.state=h,ou(t,r,s,i);var y=t.memoizedState;a!==d||h!==y||Vt.current||ar?(typeof f=="function"&&(Nh(t,n,f,r),y=t.memoizedState),(u=ar||ny(t,n,u,r,h,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Lh(e,t,n,r,o,i)}function Lh(e,t,n,r,i,o){h_(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Xg(t,n,!1),Kn(e,t,o);r=t.stateNode,DS.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=yo(t,e.child,null,o),t.child=yo(t,null,a,o)):At(e,t,a,o),t.memoizedState=r.state,i&&Xg(t,n,!0),t.child}function f_(e){var t=e.stateNode;t.pendingContext?Yg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yg(e,t.context,!1),_p(e,t.containerInfo)}function fy(e,t,n,r,i){return go(),fp(i),t.flags|=256,At(e,t,n,r),t.child}var bh={dehydrated:null,treeContext:null,retryLane:0};function Fh(e){return{baseLanes:e,cachePool:null,transitions:null}}function p_(e,t,n){var r=t.pendingProps,i=De.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ee(De,i&1),e===null)return kh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Qu(s,r,0,null),e=oi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fh(n),t.memoizedState=bh,e):Rp(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return NS(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Tr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Tr(a,o):(o=oi(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Fh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=bh,r}return o=e.child,e=o.sibling,r=Tr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rp(e,t){return t=Qu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sl(e,t,n,r){return r!==null&&fp(r),yo(t,e.child,null,n),e=Rp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function NS(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=_d(Error(D(422))),sl(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Qu({mode:"visible",children:r.children},i,0,null),o=oi(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&yo(t,e.child,null,s),t.child.memoizedState=Fh(s),t.memoizedState=bh,o);if(!(t.mode&1))return sl(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(D(419)),r=_d(o,r,void 0),sl(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ot||a){if(r=nt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Wn(e,i),pn(r,e,i,-1))}return Op(),r=_d(Error(D(421))),sl(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=qS.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,jt=vr(i.nextSibling),Bt=t,xe=!0,hn=null,e!==null&&(Xt[Jt++]=$n,Xt[Jt++]=jn,Xt[Jt++]=li,$n=e.id,jn=e.overflow,li=t),t=Rp(t,r.children),t.flags|=4096,t)}function py(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Dh(e.return,t,n)}function Ed(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function m_(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(At(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,n,t);else if(e.tag===19)py(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(De,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&su(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ed(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&su(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ed(t,!0,n,null,o);break;case"together":Ed(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ol(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ci|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Tr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function OS(e,t,n){switch(t.tag){case 3:f_(t),go();break;case 5:B1(t);break;case 1:Lt(t.type)&&eu(t);break;case 4:_p(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ee(ru,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?p_(e,t,n):(Ee(De,De.current&1),e=Kn(e,t,n),e!==null?e.sibling:null);Ee(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return m_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,d_(e,t,n)}return Kn(e,t,n)}var g_,$h,y_,v_;g_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$h=function(){};y_=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jr(Rn.current);var o=null;switch(n){case"input":i=ah(e,i),r=ah(e,r),o=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),o=[];break;case"textarea":i=ch(e,i),r=ch(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jl)}hh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};v_=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xo(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function MS(e,t,n){var r=t.pendingProps;switch(hp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return Lt(t.type)&&Zl(),ft(t),null;case 3:return r=t.stateNode,vo(),Se(Vt),Se(Tt),wp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(il(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hn!==null&&(Kh(hn),hn=null))),$h(e,t),ft(t),null;case 5:Ep(t);var i=Jr(Ys.current);if(n=t.type,e!==null&&t.stateNode!=null)y_(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return ft(t),null}if(e=Jr(Rn.current),il(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Tn]=t,r[Gs]=o,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<hs.length;i++)we(hs[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Ig(r,o),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},we("invalid",r);break;case"textarea":Sg(r,o),we("invalid",r)}hh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&rl(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&rl(r.textContent,a,e),i=["children",""+a]):Fs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&we("scroll",r)}switch(n){case"input":Qa(r),Ag(r,o,!0);break;case"textarea":Qa(r),Cg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Jl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Tn]=t,e[Gs]=r,g_(e,t,!1,!1),t.stateNode=e;e:{switch(s=fh(n,r),n){case"dialog":we("cancel",e),we("close",e),i=r;break;case"iframe":case"object":case"embed":we("load",e),i=r;break;case"video":case"audio":for(i=0;i<hs.length;i++)we(hs[i],e);i=r;break;case"source":we("error",e),i=r;break;case"img":case"image":case"link":we("error",e),we("load",e),i=r;break;case"details":we("toggle",e),i=r;break;case"input":Ig(e,r),i=ah(e,r),we("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),we("invalid",e);break;case"textarea":Sg(e,r),i=ch(e,r),we("invalid",e);break;default:i=r}hh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?G0(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&W0(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$s(e,l):typeof l=="number"&&$s(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&we("scroll",e):l!=null&&Xf(e,o,l,s))}switch(n){case"input":Qa(e),Ag(e,r,!1);break;case"textarea":Qa(e),Cg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ji(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ji(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Jl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ft(t),null;case 6:if(e&&t.stateNode!=null)v_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Jr(Ys.current),Jr(Rn.current),il(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tn]=t,(o=r.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:rl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=t,t.stateNode=r}return ft(t),null;case 13:if(Se(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&jt!==null&&t.mode&1&&!(t.flags&128))V1(),go(),t.flags|=98560,o=!1;else if(o=il(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(D(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[Tn]=t}else go(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),o=!1}else hn!==null&&(Kh(hn),hn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?Xe===0&&(Xe=3):Op())),t.updateQueue!==null&&(t.flags|=4),ft(t),null);case 4:return vo(),$h(e,t),e===null&&Ws(t.stateNode.containerInfo),ft(t),null;case 10:return gp(t.type._context),ft(t),null;case 17:return Lt(t.type)&&Zl(),ft(t),null;case 19:if(Se(De),o=t.memoizedState,o===null)return ft(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Xo(o,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=su(e),s!==null){for(t.flags|=128,Xo(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(De,De.current&1|2),t.child}e=e.sibling}o.tail!==null&&$e()>Eo&&(t.flags|=128,r=!0,Xo(o,!1),t.lanes=4194304)}else{if(!r)if(e=su(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xe)return ft(t),null}else 2*$e()-o.renderingStartTime>Eo&&n!==1073741824&&(t.flags|=128,r=!0,Xo(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=De.current,Ee(De,r?n&1|2:n&1),t):(ft(t),null);case 22:case 23:return Np(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$t&1073741824&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function VS(e,t){switch(hp(t),t.tag){case 1:return Lt(t.type)&&Zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vo(),Se(Vt),Se(Tt),wp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ep(t),null;case 13:if(Se(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));go()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(De),null;case 4:return vo(),null;case 10:return gp(t.type._context),null;case 22:case 23:return Np(),null;case 24:return null;default:return null}}var al=!1,gt=!1,LS=typeof WeakSet=="function"?WeakSet:Set,b=null;function Ki(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(e,t,r)}else n.current=null}function jh(e,t,n){try{n()}catch(r){Ve(e,t,r)}}var my=!1;function bS(e,t){if(Ih=Ql,e=T1(),cp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ah={focusedElem:e,selectionRange:n},Ql=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ln(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(p){Ve(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return y=my,my=!1,y}function Rs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&jh(t,n,o)}i=i.next}while(i!==r)}}function Ku(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Uh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function __(e){var t=e.alternate;t!==null&&(e.alternate=null,__(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tn],delete t[Gs],delete t[Rh],delete t[_S],delete t[ES])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function E_(e){return e.tag===5||e.tag===3||e.tag===4}function gy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||E_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jl));else if(r!==4&&(e=e.child,e!==null))for(Bh(e,t,n),e=e.sibling;e!==null;)Bh(e,t,n),e=e.sibling}function zh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zh(e,t,n),e=e.sibling;e!==null;)zh(e,t,n),e=e.sibling}var ot=null,un=!1;function ir(e,t,n){for(n=n.child;n!==null;)w_(e,t,n),n=n.sibling}function w_(e,t,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount($u,n)}catch{}switch(n.tag){case 5:gt||Ki(n,t);case 6:var r=ot,i=un;ot=null,ir(e,t,n),ot=r,un=i,ot!==null&&(un?(e=ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(un?(e=ot,n=n.stateNode,e.nodeType===8?fd(e.parentNode,n):e.nodeType===1&&fd(e,n),zs(e)):fd(ot,n.stateNode));break;case 4:r=ot,i=un,ot=n.stateNode.containerInfo,un=!0,ir(e,t,n),ot=r,un=i;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&jh(n,t,s),i=i.next}while(i!==r)}ir(e,t,n);break;case 1:if(!gt&&(Ki(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,t,a)}ir(e,t,n);break;case 21:ir(e,t,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,ir(e,t,n),gt=r):ir(e,t,n);break;default:ir(e,t,n)}}function yy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new LS),t.forEach(function(r){var i=WS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function an(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,un=!1;break e;case 3:ot=a.stateNode.containerInfo,un=!0;break e;case 4:ot=a.stateNode.containerInfo,un=!0;break e}a=a.return}if(ot===null)throw Error(D(160));w_(o,s,i),ot=null,un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ve(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)T_(t,e),t=t.sibling}function T_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),En(e),r&4){try{Rs(3,e,e.return),Ku(3,e)}catch(v){Ve(e,e.return,v)}try{Rs(5,e,e.return)}catch(v){Ve(e,e.return,v)}}break;case 1:an(t,e),En(e),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(an(t,e),En(e),r&512&&n!==null&&Ki(n,n.return),e.flags&32){var i=e.stateNode;try{$s(i,"")}catch(v){Ve(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&z0(i,o),fh(a,s);var u=fh(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?G0(i,d):c==="dangerouslySetInnerHTML"?W0(i,d):c==="children"?$s(i,d):Xf(i,c,d,u)}switch(a){case"input":lh(i,o);break;case"textarea":H0(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Ji(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ji(i,!!o.multiple,o.defaultValue,!0):Ji(i,!!o.multiple,o.multiple?[]:"",!1))}i[Gs]=o}catch(v){Ve(e,e.return,v)}}break;case 6:if(an(t,e),En(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Ve(e,e.return,v)}}break;case 3:if(an(t,e),En(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(v){Ve(e,e.return,v)}break;case 4:an(t,e),En(e);break;case 13:an(t,e),En(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(kp=$e())),r&4&&yy(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(gt=(u=gt)||c,an(t,e),gt=u):an(t,e),En(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(b=e,c=e.child;c!==null;){for(d=b=c;b!==null;){switch(h=b,f=h.child,h.tag){case 0:case 11:case 14:case 15:Rs(4,h,h.return);break;case 1:Ki(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Ve(r,n,v)}}break;case 5:Ki(h,h.return);break;case 22:if(h.memoizedState!==null){_y(d);continue}}f!==null?(f.return=h,b=f):_y(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=K0("display",s))}catch(v){Ve(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Ve(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:an(t,e),En(e),r&4&&yy(e);break;case 21:break;default:an(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(E_(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($s(i,""),r.flags&=-33);var o=gy(e);zh(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=gy(e);Bh(e,a,s);break;default:throw Error(D(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FS(e,t,n){b=e,I_(e)}function I_(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var i=b,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||al;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gt;a=al;var u=gt;if(al=s,(gt=l)&&!u)for(b=i;b!==null;)s=b,l=s.child,s.tag===22&&s.memoizedState!==null?Ey(i):l!==null?(l.return=s,b=l):Ey(i);for(;o!==null;)b=o,I_(o),o=o.sibling;b=i,al=a,gt=u}vy(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,b=o):vy(e)}}function vy(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gt||Ku(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!gt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ln(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ty(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ty(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&zs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}gt||t.flags&512&&Uh(t)}catch(h){Ve(t,t.return,h)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function _y(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function Ey(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ku(4,t)}catch(l){Ve(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ve(t,i,l)}}var o=t.return;try{Uh(t)}catch(l){Ve(t,o,l)}break;case 5:var s=t.return;try{Uh(t)}catch(l){Ve(t,s,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){b=null;break}var a=t.sibling;if(a!==null){a.return=t.return,b=a;break}b=t.return}}var $S=Math.ceil,uu=Zn.ReactCurrentDispatcher,Pp=Zn.ReactCurrentOwner,tn=Zn.ReactCurrentBatchConfig,ce=0,nt=null,qe=null,lt=0,$t=0,Gi=Lr(0),Xe=0,ea=null,ci=0,Gu=0,xp=0,Ps=null,Dt=null,kp=0,Eo=1/0,bn=null,cu=!1,Hh=null,Er=null,ll=!1,dr=null,du=0,xs=0,qh=null,Ml=-1,Vl=0;function Ct(){return ce&6?$e():Ml!==-1?Ml:Ml=$e()}function wr(e){return e.mode&1?ce&2&&lt!==0?lt&-lt:TS.transition!==null?(Vl===0&&(Vl=s1()),Vl):(e=pe,e!==0||(e=window.event,e=e===void 0?16:f1(e.type)),e):1}function pn(e,t,n,r){if(50<xs)throw xs=0,qh=null,Error(D(185));wa(e,n,r),(!(ce&2)||e!==nt)&&(e===nt&&(!(ce&2)&&(Gu|=n),Xe===4&&ur(e,lt)),bt(e,r),n===1&&ce===0&&!(t.mode&1)&&(Eo=$e()+500,Hu&&br()))}function bt(e,t){var n=e.callbackNode;TA(e,t);var r=Gl(e,e===nt?lt:0);if(r===0)n!==null&&xg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xg(n),t===1)e.tag===0?wS(wy.bind(null,e)):N1(wy.bind(null,e)),yS(function(){!(ce&6)&&br()}),n=null;else{switch(a1(r)){case 1:n=np;break;case 4:n=i1;break;case 16:n=Kl;break;case 536870912:n=o1;break;default:n=Kl}n=D_(n,A_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function A_(e,t){if(Ml=-1,Vl=0,ce&6)throw Error(D(327));var n=e.callbackNode;if(ro()&&e.callbackNode!==n)return null;var r=Gl(e,e===nt?lt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hu(e,r);else{t=r;var i=ce;ce|=2;var o=C_();(nt!==e||lt!==t)&&(bn=null,Eo=$e()+500,ii(e,t));do try{BS();break}catch(a){S_(e,a)}while(1);mp(),uu.current=o,ce=i,qe!==null?t=0:(nt=null,lt=0,t=Xe)}if(t!==0){if(t===2&&(i=vh(e),i!==0&&(r=i,t=Wh(e,i))),t===1)throw n=ea,ii(e,0),ur(e,r),bt(e,$e()),n;if(t===6)ur(e,r);else{if(i=e.current.alternate,!(r&30)&&!jS(i)&&(t=hu(e,r),t===2&&(o=vh(e),o!==0&&(r=o,t=Wh(e,o))),t===1))throw n=ea,ii(e,0),ur(e,r),bt(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:qr(e,Dt,bn);break;case 3:if(ur(e,r),(r&130023424)===r&&(t=kp+500-$e(),10<t)){if(Gl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ct(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ch(qr.bind(null,e,Dt,bn),t);break}qr(e,Dt,bn);break;case 4:if(ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-fn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$S(r/1960))-r,10<r){e.timeoutHandle=Ch(qr.bind(null,e,Dt,bn),r);break}qr(e,Dt,bn);break;case 5:qr(e,Dt,bn);break;default:throw Error(D(329))}}}return bt(e,$e()),e.callbackNode===n?A_.bind(null,e):null}function Wh(e,t){var n=Ps;return e.current.memoizedState.isDehydrated&&(ii(e,t).flags|=256),e=hu(e,t),e!==2&&(t=Dt,Dt=n,t!==null&&Kh(t)),e}function Kh(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function jS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~xp,t&=~Gu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fn(t),r=1<<n;e[n]=-1,t&=~r}}function wy(e){if(ce&6)throw Error(D(327));ro();var t=Gl(e,0);if(!(t&1))return bt(e,$e()),null;var n=hu(e,t);if(e.tag!==0&&n===2){var r=vh(e);r!==0&&(t=r,n=Wh(e,r))}if(n===1)throw n=ea,ii(e,0),ur(e,t),bt(e,$e()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qr(e,Dt,bn),bt(e,$e()),null}function Dp(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Eo=$e()+500,Hu&&br())}}function di(e){dr!==null&&dr.tag===0&&!(ce&6)&&ro();var t=ce;ce|=1;var n=tn.transition,r=pe;try{if(tn.transition=null,pe=1,e)return e()}finally{pe=r,tn.transition=n,ce=t,!(ce&6)&&br()}}function Np(){$t=Gi.current,Se(Gi)}function ii(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gS(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(hp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zl();break;case 3:vo(),Se(Vt),Se(Tt),wp();break;case 5:Ep(r);break;case 4:vo();break;case 13:Se(De);break;case 19:Se(De);break;case 10:gp(r.type._context);break;case 22:case 23:Np()}n=n.return}if(nt=e,qe=e=Tr(e.current,null),lt=$t=t,Xe=0,ea=null,xp=Gu=ci=0,Dt=Ps=null,Xr!==null){for(t=0;t<Xr.length;t++)if(n=Xr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Xr=null}return e}function S_(e,t){do{var n=qe;try{if(mp(),Dl.current=lu,au){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}au=!1}if(ui=0,tt=Ye=Ne=null,Cs=!1,Xs=0,Pp.current=null,n===null||n.return===null){Xe=1,ea=t,qe=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=ly(s);if(f!==null){f.flags&=-257,uy(f,s,a,o,t),f.mode&1&&ay(o,u,t),t=f,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){ay(o,u,t),Op();break e}l=Error(D(426))}}else if(xe&&a.mode&1){var w=ly(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),uy(w,s,a,o,t),fp(_o(l,a));break e}}o=l=_o(l,a),Xe!==4&&(Xe=2),Ps===null?Ps=[o]:Ps.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=l_(o,l,t);ey(o,m);break e;case 1:a=l;var g=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Er===null||!Er.has(E)))){o.flags|=65536,t&=-t,o.lanes|=t;var p=u_(o,a,t);ey(o,p);break e}}o=o.return}while(o!==null)}P_(n)}catch(T){t=T,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(1)}function C_(){var e=uu.current;return uu.current=lu,e===null?lu:e}function Op(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),nt===null||!(ci&268435455)&&!(Gu&268435455)||ur(nt,lt)}function hu(e,t){var n=ce;ce|=2;var r=C_();(nt!==e||lt!==t)&&(bn=null,ii(e,t));do try{US();break}catch(i){S_(e,i)}while(1);if(mp(),ce=n,uu.current=r,qe!==null)throw Error(D(261));return nt=null,lt=0,Xe}function US(){for(;qe!==null;)R_(qe)}function BS(){for(;qe!==null&&!fA();)R_(qe)}function R_(e){var t=k_(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?P_(e):qe=t,Pp.current=null}function P_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=VS(n,t),n!==null){n.flags&=32767,qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,qe=null;return}}else if(n=MS(n,t,$t),n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Xe===0&&(Xe=5)}function qr(e,t,n){var r=pe,i=tn.transition;try{tn.transition=null,pe=1,zS(e,t,n,r)}finally{tn.transition=i,pe=r}return null}function zS(e,t,n,r){do ro();while(dr!==null);if(ce&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(IA(e,o),e===nt&&(qe=nt=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ll||(ll=!0,D_(Kl,function(){return ro(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=tn.transition,tn.transition=null;var s=pe;pe=1;var a=ce;ce|=4,Pp.current=null,bS(e,n),T_(n,e),uS(Ah),Ql=!!Ih,Ah=Ih=null,e.current=n,FS(n),pA(),ce=a,pe=s,tn.transition=o}else e.current=n;if(ll&&(ll=!1,dr=e,du=i),o=e.pendingLanes,o===0&&(Er=null),yA(n.stateNode),bt(e,$e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cu)throw cu=!1,e=Hh,Hh=null,e;return du&1&&e.tag!==0&&ro(),o=e.pendingLanes,o&1?e===qh?xs++:(xs=0,qh=e):xs=0,br(),null}function ro(){if(dr!==null){var e=a1(du),t=tn.transition,n=pe;try{if(tn.transition=null,pe=16>e?16:e,dr===null)var r=!1;else{if(e=dr,dr=null,du=0,ce&6)throw Error(D(331));var i=ce;for(ce|=4,b=e.current;b!==null;){var o=b,s=o.child;if(b.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(b=u;b!==null;){var c=b;switch(c.tag){case 0:case 11:case 15:Rs(8,c,o)}var d=c.child;if(d!==null)d.return=c,b=d;else for(;b!==null;){c=b;var h=c.sibling,f=c.return;if(__(c),c===u){b=null;break}if(h!==null){h.return=f,b=h;break}b=f}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}b=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,b=s;else e:for(;b!==null;){if(o=b,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Rs(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,b=m;break e}b=o.return}}var g=e.current;for(b=g;b!==null;){s=b;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,b=E;else e:for(s=g;b!==null;){if(a=b,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ku(9,a)}}catch(T){Ve(a,a.return,T)}if(a===s){b=null;break e}var p=a.sibling;if(p!==null){p.return=a.return,b=p;break e}b=a.return}}if(ce=i,br(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot($u,e)}catch{}r=!0}return r}finally{pe=n,tn.transition=t}}return!1}function Ty(e,t,n){t=_o(n,t),t=l_(e,t,1),e=_r(e,t,1),t=Ct(),e!==null&&(wa(e,1,t),bt(e,t))}function Ve(e,t,n){if(e.tag===3)Ty(e,e,n);else for(;t!==null;){if(t.tag===3){Ty(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){e=_o(n,e),e=u_(t,e,1),t=_r(t,e,1),e=Ct(),t!==null&&(wa(t,1,e),bt(t,e));break}}t=t.return}}function HS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ct(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(lt&n)===n&&(Xe===4||Xe===3&&(lt&130023424)===lt&&500>$e()-kp?ii(e,0):xp|=n),bt(e,t)}function x_(e,t){t===0&&(e.mode&1?(t=Ja,Ja<<=1,!(Ja&130023424)&&(Ja=4194304)):t=1);var n=Ct();e=Wn(e,t),e!==null&&(wa(e,t,n),bt(e,n))}function qS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),x_(e,n)}function WS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),x_(e,n)}var k_;k_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)Ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ot=!1,OS(e,t,n);Ot=!!(e.flags&131072)}else Ot=!1,xe&&t.flags&1048576&&O1(t,nu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ol(e,t),e=t.pendingProps;var i=mo(t,Tt.current);no(t,n),i=Ip(null,t,r,e,i,n);var o=Ap();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(r)?(o=!0,eu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vp(t),i.updater=qu,t.stateNode=i,i._reactInternals=t,Oh(t,r,e,n),t=Lh(null,t,r,!0,o,n)):(t.tag=0,xe&&o&&dp(t),At(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ol(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=GS(r),e=ln(r,e),i){case 0:t=Vh(null,t,r,e,n);break e;case 1:t=hy(null,t,r,e,n);break e;case 11:t=cy(null,t,r,e,n);break e;case 14:t=dy(null,t,r,ln(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),Vh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),hy(e,t,r,i,n);case 3:e:{if(f_(t),e===null)throw Error(D(387));r=t.pendingProps,o=t.memoizedState,i=o.element,b1(e,t),ou(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=_o(Error(D(423)),t),t=fy(e,t,r,n,i);break e}else if(r!==i){i=_o(Error(D(424)),t),t=fy(e,t,r,n,i);break e}else for(jt=vr(t.stateNode.containerInfo.firstChild),Bt=t,xe=!0,hn=null,n=U1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(go(),r===i){t=Kn(e,t,n);break e}At(e,t,r,n)}t=t.child}return t;case 5:return B1(t),e===null&&kh(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Sh(r,i)?s=null:o!==null&&Sh(r,o)&&(t.flags|=32),h_(e,t),At(e,t,s,n),t.child;case 6:return e===null&&kh(t),null;case 13:return p_(e,t,n);case 4:return _p(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yo(t,null,r,n):At(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),cy(e,t,r,i,n);case 7:return At(e,t,t.pendingProps,n),t.child;case 8:return At(e,t,t.pendingProps.children,n),t.child;case 12:return At(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ee(ru,r._currentValue),r._currentValue=s,o!==null)if(gn(o.value,s)){if(o.children===i.children&&!Vt.current){t=Kn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Bn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Dh(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(D(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Dh(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}At(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,no(t,n),i=nn(i),r=r(i),t.flags|=1,At(e,t,r,n),t.child;case 14:return r=t.type,i=ln(r,t.pendingProps),i=ln(r.type,i),dy(e,t,r,i,n);case 15:return c_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),Ol(e,t),t.tag=1,Lt(r)?(e=!0,eu(t)):e=!1,no(t,n),$1(t,r,i),Oh(t,r,i,n),Lh(null,t,r,!0,e,n);case 19:return m_(e,t,n);case 22:return d_(e,t,n)}throw Error(D(156,t.tag))};function D_(e,t){return r1(e,t)}function KS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,r){return new KS(e,t,n,r)}function Mp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GS(e){if(typeof e=="function")return Mp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zf)return 11;if(e===ep)return 14}return 2}function Tr(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Mp(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Fi:return oi(n.children,i,o,t);case Jf:s=8,i|=8;break;case rh:return e=en(12,n,t,i|2),e.elementType=rh,e.lanes=o,e;case ih:return e=en(13,n,t,i),e.elementType=ih,e.lanes=o,e;case oh:return e=en(19,n,t,i),e.elementType=oh,e.lanes=o,e;case j0:return Qu(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F0:s=10;break e;case $0:s=9;break e;case Zf:s=11;break e;case ep:s=14;break e;case sr:s=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=en(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function oi(e,t,n,r){return e=en(7,e,r,t),e.lanes=n,e}function Qu(e,t,n,r){return e=en(22,e,r,t),e.elementType=j0,e.lanes=n,e.stateNode={isHidden:!1},e}function wd(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function Td(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nd(0),this.expirationTimes=nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vp(e,t,n,r,i,o,s,a,l){return e=new QS(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=en(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vp(o),e}function YS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function N_(e){if(!e)return kr;e=e._reactInternals;e:{if(Ti(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Lt(n))return D1(e,n,t)}return t}function O_(e,t,n,r,i,o,s,a,l){return e=Vp(n,r,!0,e,i,o,s,a,l),e.context=N_(null),n=e.current,r=Ct(),i=wr(n),o=Bn(r,i),o.callback=t??null,_r(n,o,i),e.current.lanes=i,wa(e,i,r),bt(e,r),e}function Yu(e,t,n,r){var i=t.current,o=Ct(),s=wr(i);return n=N_(n),t.context===null?t.context=n:t.pendingContext=n,t=Bn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_r(i,t,s),e!==null&&(pn(e,i,s,o),kl(e,i,s)),s}function fu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Iy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lp(e,t){Iy(e,t),(e=e.alternate)&&Iy(e,t)}function XS(){return null}var M_=typeof reportError=="function"?reportError:function(e){console.error(e)};function bp(e){this._internalRoot=e}Xu.prototype.render=bp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Yu(e,t,null,null)};Xu.prototype.unmount=bp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;di(function(){Yu(null,e,null,null)}),t[qn]=null}};function Xu(e){this._internalRoot=e}Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=c1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<lr.length&&t!==0&&t<lr[n].priority;n++);lr.splice(n,0,e),n===0&&h1(e)}};function Fp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ay(){}function JS(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=fu(s);o.call(u)}}var s=O_(t,r,e,0,null,!1,!1,"",Ay);return e._reactRootContainer=s,e[qn]=s.current,Ws(e.nodeType===8?e.parentNode:e),di(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=fu(l);a.call(u)}}var l=Vp(e,0,!1,null,null,!1,!1,"",Ay);return e._reactRootContainer=l,e[qn]=l.current,Ws(e.nodeType===8?e.parentNode:e),di(function(){Yu(t,l,n,r)}),l}function Zu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=fu(s);a.call(l)}}Yu(t,s,e,i)}else s=JS(n,t,e,i,r);return fu(s)}l1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ds(t.pendingLanes);n!==0&&(rp(t,n|1),bt(t,$e()),!(ce&6)&&(Eo=$e()+500,br()))}break;case 13:di(function(){var r=Wn(e,1);if(r!==null){var i=Ct();pn(r,e,1,i)}}),Lp(e,1)}};ip=function(e){if(e.tag===13){var t=Wn(e,134217728);if(t!==null){var n=Ct();pn(t,e,134217728,n)}Lp(e,134217728)}};u1=function(e){if(e.tag===13){var t=wr(e),n=Wn(e,t);if(n!==null){var r=Ct();pn(n,e,t,r)}Lp(e,t)}};c1=function(){return pe};d1=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};mh=function(e,t,n){switch(t){case"input":if(lh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=zu(r);if(!i)throw Error(D(90));B0(r),lh(r,i)}}}break;case"textarea":H0(e,n);break;case"select":t=n.value,t!=null&&Ji(e,!!n.multiple,t,!1)}};X0=Dp;J0=di;var ZS={usingClientEntryPoint:!1,Events:[Ia,Bi,zu,Q0,Y0,Dp]},Jo={findFiberByHostInstance:Yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},e2={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=t1(e),e===null?null:e.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||XS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{$u=ul.inject(e2),Cn=ul}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZS;Wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fp(t))throw Error(D(200));return YS(e,t,null,n)};Wt.createRoot=function(e,t){if(!Fp(e))throw Error(D(299));var n=!1,r="",i=M_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Vp(e,1,!1,null,null,n,!1,r,i),e[qn]=t.current,Ws(e.nodeType===8?e.parentNode:e),new bp(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=t1(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return di(e)};Wt.hydrate=function(e,t,n){if(!Ju(t))throw Error(D(200));return Zu(null,e,t,!0,n)};Wt.hydrateRoot=function(e,t,n){if(!Fp(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=M_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=O_(t,null,e,1,n??null,i,!1,o,s),e[qn]=t.current,Ws(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)};Wt.render=function(e,t,n){if(!Ju(t))throw Error(D(200));return Zu(null,e,t,!1,n)};Wt.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(D(40));return e._reactRootContainer?(di(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1};Wt.unstable_batchedUpdates=Dp;Wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Zu(e,t,n,!1,r)};Wt.version="18.2.0-next-9e3b772b8-20220608";function V_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V_)}catch(e){console.error(e)}}V_(),O0.exports=Wt;var t2=O0.exports,Sy=t2;th.createRoot=Sy.createRoot,th.hydrateRoot=Sy.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},n2=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},b_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,s||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(L_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):n2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new r2;const h=o<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class r2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i2=function(e){const t=L_(e);return b_.encodeByteArray(t,!0)},pu=function(e){return i2(e).replace(/\./g,"")},o2=function(e){try{return b_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=()=>s2().__FIREBASE_DEFAULTS__,l2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},u2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&o2(e[1]);return t&&JSON.parse(t)},F_=()=>{try{return a2()||l2()||u2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},c2=e=>{var t,n;return(n=(t=F_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},d2=e=>{const t=c2(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},$_=()=>{var e;return(e=F_())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[pu(JSON.stringify(n)),pu(JSON.stringify(s)),a].join(".")}function p2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function j_(){try{return typeof indexedDB=="object"}catch{return!1}}function U_(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}function m2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="FirebaseError";class Fr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=g2,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?y2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fr(i,a,r)}}function y2(e,t){return e.replace(v2,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const v2=/\{\$([^}]+)}/g;function mu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(Cy(o)&&Cy(s)){if(!mu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=1e3,E2=2,w2=4*60*60*1e3,T2=.5;function Ry(e,t=_2,n=E2){const r=t*Math.pow(n,e),i=Math.round(T2*r*(Math.random()-.5)*2);return Math.min(w2,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e){return e&&e._delegate?e._delegate:e}class Gn{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I2=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new h2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(S2(t))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wr){return this.instances.has(t)}getOptions(t=Wr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A2(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Wr){return this.component?this.component.multipleInstances?t:Wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function A2(e){return e===Wr?void 0:e}function S2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new I2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(fe||(fe={}));const R2={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},P2=fe.INFO,x2={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},k2=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=x2[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $p{constructor(t){this.name=t,this._logLevel=P2,this._logHandler=k2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?R2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...t),this._logHandler(this,fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...t),this._logHandler(this,fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...t),this._logHandler(this,fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...t),this._logHandler(this,fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...t),this._logHandler(this,fe.ERROR,...t)}}const D2=(e,t)=>t.some(n=>e instanceof n);let Py,xy;function N2(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O2(){return xy||(xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B_=new WeakMap,Gh=new WeakMap,z_=new WeakMap,Id=new WeakMap,jp=new WeakMap;function M2(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Ir(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&B_.set(n,e)}).catch(()=>{}),jp.set(t,e),t}function V2(e){if(Gh.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Gh.set(e,t)}let Qh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Gh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||z_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function L2(e){Qh=e(Qh)}function b2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ad(this),t,...n);return z_.set(r,t.sort?t.sort():[t]),Ir(r)}:O2().includes(e)?function(...t){return e.apply(Ad(this),t),Ir(B_.get(this))}:function(...t){return Ir(e.apply(Ad(this),t))}}function F2(e){return typeof e=="function"?b2(e):(e instanceof IDBTransaction&&V2(e),D2(e,N2())?new Proxy(e,Qh):e)}function Ir(e){if(e instanceof IDBRequest)return M2(e);if(Id.has(e))return Id.get(e);const t=F2(e);return t!==e&&(Id.set(e,t),jp.set(t,e)),t}const Ad=e=>jp.get(e);function $2(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Ir(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ir(s.result),l.oldVersion,l.newVersion,Ir(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const j2=["get","getKey","getAll","getAllKeys","count"],U2=["put","add","delete","clear"],Sd=new Map;function ky(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Sd.get(t))return Sd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=U2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||j2.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Sd.set(t,o),o}L2(e=>({...e,get:(t,n,r)=>ky(t,n)||e.get(t,n,r),has:(t,n)=>!!ky(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function z2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Yh="@firebase/app",Dy="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new $p("@firebase/app"),H2="@firebase/app-compat",q2="@firebase/analytics-compat",W2="@firebase/analytics",K2="@firebase/app-check-compat",G2="@firebase/app-check",Q2="@firebase/auth",Y2="@firebase/auth-compat",X2="@firebase/database",J2="@firebase/database-compat",Z2="@firebase/functions",eC="@firebase/functions-compat",tC="@firebase/installations",nC="@firebase/installations-compat",rC="@firebase/messaging",iC="@firebase/messaging-compat",oC="@firebase/performance",sC="@firebase/performance-compat",aC="@firebase/remote-config",lC="@firebase/remote-config-compat",uC="@firebase/storage",cC="@firebase/storage-compat",dC="@firebase/firestore",hC="@firebase/firestore-compat",fC="firebase",pC="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="[DEFAULT]",mC={[Yh]:"fire-core",[H2]:"fire-core-compat",[W2]:"fire-analytics",[q2]:"fire-analytics-compat",[G2]:"fire-app-check",[K2]:"fire-app-check-compat",[Q2]:"fire-auth",[Y2]:"fire-auth-compat",[X2]:"fire-rtdb",[J2]:"fire-rtdb-compat",[Z2]:"fire-fn",[eC]:"fire-fn-compat",[tC]:"fire-iid",[nC]:"fire-iid-compat",[rC]:"fire-fcm",[iC]:"fire-fcm-compat",[oC]:"fire-perf",[sC]:"fire-perf-compat",[aC]:"fire-rc",[lC]:"fire-rc-compat",[uC]:"fire-gcs",[cC]:"fire-gcs-compat",[dC]:"fire-fst",[hC]:"fire-fst-compat","fire-js":"fire-js",[fC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new Map,Jh=new Map;function gC(e,t){try{e.container.addComponent(t)}catch(n){hi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Dr(e){const t=e.name;if(Jh.has(t))return hi.debug(`There were multiple attempts to register component ${t}.`),!1;Jh.set(t,e);for(const n of gu.values())gC(n,e);return!0}function Sa(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ar=new ec("app","Firebase",yC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=pC;function H_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Xh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Ar.create("bad-app-name",{appName:String(i)});if(n||(n=$_()),!n)throw Ar.create("no-options");const o=gu.get(i);if(o){if(mu(n,o.options)&&mu(r,o.config))return o;throw Ar.create("duplicate-app",{appName:i})}const s=new C2(i);for(const l of Jh.values())s.addComponent(l);const a=new vC(n,r,s);return gu.set(i,a),a}function q_(e=Xh){const t=gu.get(e);if(!t&&e===Xh&&$_())return H_();if(!t)throw Ar.create("no-app",{appName:e});return t}function Pn(e,t,n){var r;let i=(r=mC[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hi.warn(a.join(" "));return}Dr(new Gn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebase-heartbeat-database",wC=1,ta="firebase-heartbeat-store";let Cd=null;function W_(){return Cd||(Cd=$2(EC,wC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ta)}}}).catch(e=>{throw Ar.create("idb-open",{originalErrorMessage:e.message})})),Cd}async function TC(e){try{return await(await W_()).transaction(ta).objectStore(ta).get(K_(e))}catch(t){if(t instanceof Fr)hi.warn(t.message);else{const n=Ar.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});hi.warn(n.message)}}}async function Ny(e,t){try{const r=(await W_()).transaction(ta,"readwrite");await r.objectStore(ta).put(t,K_(e)),await r.done}catch(n){if(n instanceof Fr)hi.warn(n.message);else{const r=Ar.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(r.message)}}}function K_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1024,AC=30*24*60*60*1e3;class SC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Oy();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=AC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Oy(),{heartbeatsToSend:n,unsentEntries:r}=CC(this._heartbeatsCache.heartbeats),i=pu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Oy(){return new Date().toISOString().substring(0,10)}function CC(e,t=IC){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),My(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),My(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j_()?U_().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await TC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function My(e){return pu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(e){Dr(new Gn("platform-logger",t=>new B2(t),"PRIVATE")),Dr(new Gn("heartbeat",t=>new SC(t),"PRIVATE")),Pn(Yh,Dy,e),Pn(Yh,Dy,"esm2017"),Pn("fire-js","")}PC("");var xC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,Up=Up||{},X=xC||self;function tc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ca(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function kC(e){return Object.prototype.hasOwnProperty.call(e,Rd)&&e[Rd]||(e[Rd]=++DC)}var Rd="closure_uid_"+(1e9*Math.random()>>>0),DC=0;function NC(e,t,n){return e.call.apply(e.bind,arguments)}function OC(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function _t(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_t=NC:_t=OC,_t.apply(null,arguments)}function cl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function it(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function $r(){this.s=this.s,this.o=this.o}var MC=0;$r.prototype.s=!1;$r.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),MC!=0)&&kC(this)};$r.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const G_=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Bp(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Vy(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(tc(r)){const i=e.length||0,o=r.length||0;e.length=i+o;for(let s=0;s<o;s++)e[i+s]=r[s]}else e.push(r)}}function Et(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var VC=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{X.addEventListener("test",()=>{},t),X.removeEventListener("test",()=>{},t)}catch{}return e}();function na(e){return/^[\s\xa0]*$/.test(e)}function nc(){var e=X.navigator;return e&&(e=e.userAgent)?e:""}function In(e){return nc().indexOf(e)!=-1}function zp(e){return zp[" "](e),e}zp[" "]=function(){};function LC(e,t){var n=PR;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var bC=In("Opera"),wo=In("Trident")||In("MSIE"),Q_=In("Edge"),Zh=Q_||wo,Y_=In("Gecko")&&!(nc().toLowerCase().indexOf("webkit")!=-1&&!In("Edge"))&&!(In("Trident")||In("MSIE"))&&!In("Edge"),FC=nc().toLowerCase().indexOf("webkit")!=-1&&!In("Edge");function X_(){var e=X.document;return e?e.documentMode:void 0}var ef;e:{var Pd="",xd=function(){var e=nc();if(Y_)return/rv:([^\);]+)(\)|;)/.exec(e);if(Q_)return/Edge\/([\d\.]+)/.exec(e);if(wo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(FC)return/WebKit\/(\S+)/.exec(e);if(bC)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(xd&&(Pd=xd?xd[1]:""),wo){var kd=X_();if(kd!=null&&kd>parseFloat(Pd)){ef=String(kd);break e}}ef=Pd}var tf;if(X.document&&wo){var Ly=X_();tf=Ly||parseInt(ef,10)||void 0}else tf=void 0;var $C=tf;function ra(e,t){if(Et.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Y_){e:{try{zp(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:jC[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ra.$.h.call(this)}}it(ra,Et);var jC={2:"touch",3:"pen",4:"mouse"};ra.prototype.h=function(){ra.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ra="closure_listenable_"+(1e6*Math.random()|0),UC=0;function BC(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++UC,this.fa=this.ia=!1}function rc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Hp(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function zC(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function J_(e){const t={};for(const n in e)t[n]=e[n];return t}const by="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z_(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let o=0;o<by.length;o++)n=by[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ic(e){this.src=e,this.g={},this.h=0}ic.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=rf(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):(t=new BC(t,this.src,o,!!r,i),t.ia=n,e.push(t)),t};function nf(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=G_(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(rc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function rf(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}var qp="closure_lm_"+(1e6*Math.random()|0),Dd={};function eE(e,t,n,r,i){if(r&&r.once)return nE(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)eE(e,t[o],n,r,i);return null}return n=Gp(n),e&&e[Ra]?e.O(t,n,Ca(r)?!!r.capture:!!r,i):tE(e,t,n,!1,r,i)}function tE(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Ca(i)?!!i.capture:!!i,a=Kp(e);if(a||(e[qp]=a=new ic(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=HC(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)VC||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(iE(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function HC(){function e(n){return t.call(e.src,e.listener,n)}const t=qC;return e}function nE(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)nE(e,t[o],n,r,i);return null}return n=Gp(n),e&&e[Ra]?e.P(t,n,Ca(r)?!!r.capture:!!r,i):tE(e,t,n,!0,r,i)}function rE(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)rE(e,t[o],n,r,i);else r=Ca(r)?!!r.capture:!!r,n=Gp(n),e&&e[Ra]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=rf(o,n,r,i),-1<n&&(rc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Kp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=rf(t,n,r,i)),(n=-1<e?t[e]:null)&&Wp(n))}function Wp(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Ra])nf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(iE(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Kp(t))?(nf(n,e),n.h==0&&(n.src=null,t[qp]=null)):rc(e)}}}function iE(e){return e in Dd?Dd[e]:Dd[e]="on"+e}function qC(e,t){if(e.fa)e=!0;else{t=new ra(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Wp(e),e=n.call(r,t)}return e}function Kp(e){return e=e[qp],e instanceof ic?e:null}var Nd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gp(e){return typeof e=="function"?e:(e[Nd]||(e[Nd]=function(t){return e.handleEvent(t)}),e[Nd])}function rt(){$r.call(this),this.i=new ic(this),this.S=this,this.J=null}it(rt,$r);rt.prototype[Ra]=!0;rt.prototype.removeEventListener=function(e,t,n,r){rE(this,e,t,n,r)};function ut(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Et(t,e);else if(t instanceof Et)t.target=t.target||e;else{var i=t;t=new Et(r,e),Z_(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=dl(s,r,!0,t)&&i}if(s=t.g=e,i=dl(s,r,!0,t)&&i,i=dl(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=dl(s,r,!1,t)&&i}rt.prototype.N=function(){if(rt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)rc(n[r]);delete e.g[t],e.h--}}this.J=null};rt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};rt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function dl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&nf(e.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Qp=X.JSON.stringify;class WC{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function KC(){var e=Yp;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class GC{constructor(){this.h=this.g=null}add(t,n){const r=oE.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var oE=new WC(()=>new QC,e=>e.reset());class QC{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function YC(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function XC(e){X.setTimeout(()=>{throw e},0)}let ia,oa=!1,Yp=new GC,sE=()=>{const e=X.Promise.resolve(void 0);ia=()=>{e.then(JC)}};var JC=()=>{for(var e;e=KC();){try{e.h.call(e.g)}catch(n){XC(n)}var t=oE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}oa=!1};function oc(e,t){rt.call(this),this.h=e||1,this.g=t||X,this.j=_t(this.qb,this),this.l=Date.now()}it(oc,rt);V=oc.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(Xp(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Xp(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}V.N=function(){oc.$.N.call(this),Xp(this),delete this.g};function Jp(e,t,n){if(typeof e=="function")n&&(e=_t(e,n));else if(e&&typeof e.handleEvent=="function")e=_t(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:X.setTimeout(e,t||0)}function aE(e){e.g=Jp(()=>{e.g=null,e.i&&(e.i=!1,aE(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class ZC extends $r{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:aE(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(e){$r.call(this),this.h=e,this.g={}}it(sa,$r);var Fy=[];function lE(e,t,n,r){Array.isArray(n)||(n&&(Fy[0]=n.toString()),n=Fy);for(var i=0;i<n.length;i++){var o=eE(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function uE(e){Hp(e.g,function(t,n){this.g.hasOwnProperty(n)&&Wp(t)},e),e.g={}}sa.prototype.N=function(){sa.$.N.call(this),uE(this)};sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function sc(){this.g=!0}sc.prototype.Ea=function(){this.g=!1};function eR(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function tR(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function Qi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+rR(e,n)+(r?" "+r:"")})}function nR(e,t){e.info(function(){return"TIMEOUT: "+t})}sc.prototype.info=function(){};function rR(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Qp(n)}catch{return t}}var Ii={},$y=null;function ac(){return $y=$y||new rt}Ii.Ta="serverreachability";function cE(e){Et.call(this,Ii.Ta,e)}it(cE,Et);function aa(e){const t=ac();ut(t,new cE(t))}Ii.STAT_EVENT="statevent";function dE(e,t){Et.call(this,Ii.STAT_EVENT,e),this.stat=t}it(dE,Et);function St(e){const t=ac();ut(t,new dE(t,e))}Ii.Ua="timingevent";function hE(e,t){Et.call(this,Ii.Ua,e),this.size=t}it(hE,Et);function Pa(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){e()},t)}var lc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zp(){}Zp.prototype.h=null;function jy(e){return e.h||(e.h=e.i())}function pE(){}var xa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function em(){Et.call(this,"d")}it(em,Et);function tm(){Et.call(this,"c")}it(tm,Et);var of;function uc(){}it(uc,Zp);uc.prototype.g=function(){return new XMLHttpRequest};uc.prototype.i=function(){return{}};of=new uc;function ka(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new sa(this),this.P=iR,e=Zh?125:void 0,this.V=new oc(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new mE}function mE(){this.i=null,this.g="",this.h=!1}var iR=45e3,sf={},yu={};V=ka.prototype;V.setTimeout=function(e){this.P=e};function af(e,t,n){e.L=1,e.v=dc(Qn(t)),e.s=n,e.S=!0,gE(e,null)}function gE(e,t){e.G=Date.now(),Da(e),e.A=Qn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),AE(n.i,"t",r),e.C=0,n=e.l.J,e.h=new mE,e.g=qE(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ZC(_t(e.Pa,e,e.g),e.O)),lE(e.U,e.g,"readystatechange",e.nb),t=e.I?J_(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),aa(),eR(e.j,e.u,e.A,e.m,e.W,e.s)}V.nb=function(e){e=e.target;const t=this.M;t&&An(e)==3?t.l():this.Pa(e)};V.Pa=function(e){try{if(e==this.g)e:{const c=An(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Zh||this.g&&(this.h.h||this.g.ja()||Hy(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?aa(3):aa(2)),cc(this);var n=this.g.da();this.ca=n;t:if(yE(this)){var r=Hy(this.g);e="";var i=r.length,o=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),ks(this);var s="";break t}this.h.i=new X.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,tR(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!na(a)){var u=a;break t}}u=null}if(n=u)Qi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lf(this,n);else{this.i=!1,this.o=3,St(12),Zr(this),ks(this);break e}}this.S?(vE(this,c,s),Zh&&this.i&&c==3&&(lE(this.U,this.V,"tick",this.mb),this.V.start())):(Qi(this.j,this.m,s,null),lf(this,s)),c==4&&Zr(this),this.i&&!this.J&&(c==4?UE(this.l,this):(this.i=!1,Da(this)))}else SR(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,St(12)):(this.o=0,St(13)),Zr(this),ks(this)}}}catch{}finally{}};function yE(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function vE(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=oR(e,n),i==yu){t==4&&(e.o=4,St(14),r=!1),Qi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==sf){e.o=4,St(15),Qi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Qi(e.j,e.m,i,null),lf(e,i);yE(e)&&i!=yu&&i!=sf&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,St(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),am(t),t.M=!0,St(11))):(Qi(e.j,e.m,n,"[Invalid Chunked Response]"),Zr(e),ks(e))}V.mb=function(){if(this.g){var e=An(this.g),t=this.g.ja();this.C<t.length&&(cc(this),vE(this,e,t),this.i&&e!=4&&Da(this))}};function oR(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?yu:(n=Number(t.substring(n,r)),isNaN(n)?sf:(r+=1,r+n>t.length?yu:(t=t.slice(r,r+n),e.C=r+n,t)))}V.cancel=function(){this.J=!0,Zr(this)};function Da(e){e.Y=Date.now()+e.P,_E(e,e.P)}function _E(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Pa(_t(e.lb,e),t)}function cc(e){e.B&&(X.clearTimeout(e.B),e.B=null)}V.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(nR(this.j,this.A),this.L!=2&&(aa(),St(17)),Zr(this),this.o=2,ks(this)):_E(this,this.Y-e)};function ks(e){e.l.H==0||e.J||UE(e.l,e)}function Zr(e){cc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Xp(e.V),uE(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function lf(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||uf(n.i,e))){if(!e.K&&uf(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Eu(n),pc(n);else break e;sm(n),St(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Pa(_t(n.ib,n),6e3));if(1>=RE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ei(n,11)}else if((e.K||n.g==e)&&Eu(n),!na(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=e.g;if(f){const y=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.i;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(nm(o,o.h),o.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Ie(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=e;if(r.wa=HE(r,r.J?r.pa:null,r.Y),s.K){PE(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(cc(a),Da(a)),r.g=s}else $E(r);0<n.j.length&&mc(n)}else u[0]!="stop"&&u[0]!="close"||ei(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ei(n,7):om(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}aa(4)}catch{}}function sR(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(tc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function aR(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(tc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function EE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(tc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=aR(e),r=sR(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}var wE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lR(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function si(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof si){this.h=e.h,vu(this,e.j),this.s=e.s,this.g=e.g,_u(this,e.m),this.l=e.l;var t=e.i,n=new la;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Uy(this,n),this.o=e.o}else e&&(t=String(e).match(wE))?(this.h=!1,vu(this,t[1]||"",!0),this.s=fs(t[2]||""),this.g=fs(t[3]||"",!0),_u(this,t[4]),this.l=fs(t[5]||"",!0),Uy(this,t[6]||"",!0),this.o=fs(t[7]||"")):(this.h=!1,this.i=new la(null,this.h))}si.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ps(t,By,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ps(t,By,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ps(n,n.charAt(0)=="/"?dR:cR,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ps(n,fR)),e.join("")};function Qn(e){return new si(e)}function vu(e,t,n){e.j=n?fs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _u(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Uy(e,t,n){t instanceof la?(e.i=t,pR(e.i,e.h)):(n||(t=ps(t,hR)),e.i=new la(t,e.h))}function Ie(e,t,n){e.i.set(t,n)}function dc(e){return Ie(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ps(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,uR),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function uR(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var By=/[#\/\?@]/g,cR=/[#\?:]/g,dR=/[#\?]/g,hR=/[#\?@]/g,fR=/#/g;function la(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jr(e){e.g||(e.g=new Map,e.h=0,e.i&&lR(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}V=la.prototype;V.add=function(e,t){jr(this),this.i=null,e=Mo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function TE(e,t){jr(e),t=Mo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function IE(e,t){return jr(e),t=Mo(e,t),e.g.has(t)}V.forEach=function(e,t){jr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};V.ta=function(){jr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let o=0;o<i.length;o++)n.push(t[r])}return n};V.Z=function(e){jr(this);let t=[];if(typeof e=="string")IE(this,e)&&(t=t.concat(this.g.get(Mo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};V.set=function(e,t){return jr(this),this.i=null,e=Mo(this,e),IE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};V.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function AE(e,t,n){TE(e,t),0<n.length&&(e.i=null,e.g.set(Mo(e,t),Bp(n)),e.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function Mo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function pR(e,t){t&&!e.j&&(jr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(TE(this,r),AE(this,i,n))},e)),e.j=t}var mR=class{constructor(e,t){this.g=e,this.map=t}};function SE(e){this.l=e||gR,X.PerformanceNavigationTiming?(e=X.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gR=10;function CE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function RE(e){return e.h?1:e.g?e.g.size:0}function uf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function nm(e,t){e.g?e.g.add(t):e.h=t}function PE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}SE.prototype.cancel=function(){if(this.i=xE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function xE(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Bp(e.i)}var yR=class{stringify(e){return X.JSON.stringify(e,void 0)}parse(e){return X.JSON.parse(e,void 0)}};function vR(){this.g=new yR}function _R(e,t,n){const r=n||"";try{EE(e,function(i,o){let s=i;Ca(i)&&(s=Qp(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ER(e,t){const n=new sc;if(X.Image){const r=new Image;r.onload=cl(hl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=cl(hl,n,r,"TestLoadImage: error",!1,t),r.onabort=cl(hl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=cl(hl,n,r,"TestLoadImage: timeout",!1,t),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function hl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Na(e){this.l=e.fc||null,this.j=e.ob||!1}it(Na,Zp);Na.prototype.g=function(){return new hc(this.l,this.j)};Na.prototype.i=function(e){return function(){return e}}({});function hc(e,t){rt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=rm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(hc,rt);var rm=0;V=hc.prototype;V.open=function(e,t){if(this.readyState!=rm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ua(this)};V.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||X).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oa(this)),this.readyState=rm};V.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ua(this)),this.g&&(this.readyState=3,ua(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kE(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function kE(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}V.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Oa(this):ua(this),this.readyState==3&&kE(this)}};V.Za=function(e){this.g&&(this.response=this.responseText=e,Oa(this))};V.Ya=function(e){this.g&&(this.response=e,Oa(this))};V.ka=function(){this.g&&Oa(this)};function Oa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ua(e)}V.setRequestHeader=function(e,t){this.v.append(e,t)};V.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ua(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var wR=X.JSON.parse;function Le(e){rt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=DE,this.L=this.M=!1}it(Le,rt);var DE="",TR=/^https?$/i,IR=["POST","PUT"];V=Le.prototype;V.Oa=function(e){this.M=e};V.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():of.g(),this.C=this.u?jy(this.u):jy(of),this.g.onreadystatechange=_t(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){zy(this,o);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=X.FormData&&e instanceof X.FormData,!(0<=G_(IR,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ME(this),0<this.B&&((this.L=AR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.ua,this)):this.A=Jp(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){zy(this,o)}};function AR(e){return wo&&typeof e.timeout=="number"&&e.ontimeout!==void 0}V.ua=function(){typeof Up<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function zy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,NE(e),fc(e)}function NE(e){e.F||(e.F=!0,ut(e,"complete"),ut(e,"error"))}V.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ut(this,"complete"),ut(this,"abort"),fc(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fc(this,!0)),Le.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?OE(this):this.kb())};V.kb=function(){OE(this)};function OE(e){if(e.h&&typeof Up<"u"&&(!e.C[1]||An(e)!=4||e.da()!=2)){if(e.v&&An(e)==4)Jp(e.La,0,e);else if(ut(e,"readystatechange"),An(e)==4){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=s===0){var i=String(e.I).match(wE)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!TR.test(i?i.toLowerCase():"")}n=r}if(n)ut(e,"complete"),ut(e,"success");else{e.m=6;try{var o=2<An(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",NE(e)}}finally{fc(e)}}}}function fc(e,t){if(e.g){ME(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ut(e,"ready");try{n.onreadystatechange=r}catch{}}}function ME(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(X.clearTimeout(e.A),e.A=null)}V.isActive=function(){return!!this.g};function An(e){return e.g?e.g.readyState:0}V.da=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),wR(t)}};function Hy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case DE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function SR(e){const t={};e=(e.g&&2<=An(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(na(e[r]))continue;var n=YC(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}zC(t,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function VE(e){let t="";return Hp(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function im(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=VE(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ie(e,t,n))}function Zo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function LE(e){this.Ga=0,this.j=[],this.l=new sc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zo("baseRetryDelayMs",5e3,e),this.hb=Zo("retryDelaySeedMs",1e4,e),this.eb=Zo("forwardChannelMaxRetries",2,e),this.xa=Zo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new SE(e&&e.concurrentRequestLimit),this.Ja=new vR,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=LE.prototype;V.ra=8;V.H=1;function om(e){if(bE(e),e.H==3){var t=e.W++,n=Qn(e.I);if(Ie(n,"SID",e.K),Ie(n,"RID",t),Ie(n,"TYPE","terminate"),Ma(e,n),t=new ka(e,e.l,t),t.L=2,t.v=dc(Qn(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&X.Image&&(new Image().src=t.v,n=!0),n||(t.g=qE(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Da(t)}zE(e)}function pc(e){e.g&&(am(e),e.g.cancel(),e.g=null)}function bE(e){pc(e),e.u&&(X.clearTimeout(e.u),e.u=null),Eu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&X.clearTimeout(e.m),e.m=null)}function mc(e){if(!CE(e.i)&&!e.m){e.m=!0;var t=e.Na;ia||sE(),oa||(ia(),oa=!0),Yp.add(t,e),e.C=0}}function CR(e,t){return RE(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Pa(_t(e.Na,e,t),BE(e,e.C)),e.C++,!0)}V.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ka(this,this.l,e);let o=this.s;if(this.U&&(o?(o=J_(o),Z_(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=FE(this,i,t),n=Qn(this.I),Ie(n,"RID",e),Ie(n,"CVER",22),this.F&&Ie(n,"X-HTTP-Session-Id",this.F),Ma(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(VE(o)))+"&"+t:this.o&&im(n,this.o,o)),nm(this.i,i),this.bb&&Ie(n,"TYPE","init"),this.P?(Ie(n,"$req",t),Ie(n,"SID","null"),i.aa=!0,af(i,n,null)):af(i,n,t),this.H=2}}else this.H==3&&(e?qy(this,e):this.j.length==0||CE(this.i)||qy(this))};function qy(e,t){var n;t?n=t.m:n=e.W++;const r=Qn(e.I);Ie(r,"SID",e.K),Ie(r,"RID",n),Ie(r,"AID",e.V),Ma(e,r),e.o&&e.s&&im(r,e.o,e.s),n=new ka(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=FE(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),nm(e.i,n),af(n,r,t)}function Ma(e,t){e.na&&Hp(e.na,function(n,r){Ie(t,r,n)}),e.h&&EE({},function(n,r){Ie(t,r,n)})}function FE(e,t,n){n=Math.min(e.j.length,n);var r=e.h?_t(e.h.Va,e.h,e):null;e:{var i=e.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{_R(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function $E(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ia||sE(),oa||(ia(),oa=!0),Yp.add(t,e),e.A=0}}function sm(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Pa(_t(e.Ma,e),BE(e,e.A)),e.A++,!0)}V.Ma=function(){if(this.u=null,jE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Pa(_t(this.jb,this),e)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,St(10),pc(this),jE(this))};function am(e){e.B!=null&&(X.clearTimeout(e.B),e.B=null)}function jE(e){e.g=new ka(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Qn(e.wa);Ie(t,"RID","rpc"),Ie(t,"SID",e.K),Ie(t,"AID",e.V),Ie(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ie(t,"TO",e.qa),Ie(t,"TYPE","xmlhttp"),Ma(e,t),e.o&&e.s&&im(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=dc(Qn(t)),n.s=null,n.S=!0,gE(n,e)}V.ib=function(){this.v!=null&&(this.v=null,pc(this),sm(this),St(19))};function Eu(e){e.v!=null&&(X.clearTimeout(e.v),e.v=null)}function UE(e,t){var n=null;if(e.g==t){Eu(e),am(e),e.g=null;var r=2}else if(uf(e.i,t))n=t.F,PE(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=ac(),ut(r,new hE(r,n)),mc(e)}else $E(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&CR(e,t)||r==2&&sm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ei(e,5);break;case 4:ei(e,10);break;case 3:ei(e,6);break;default:ei(e,2)}}}function BE(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ei(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=_t(e.pb,e);n||(n=new si("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||vu(n,"https"),dc(n)),ER(n.toString(),r)}else St(2);e.H=0,e.h&&e.h.za(t),zE(e),bE(e)}V.pb=function(e){e?(this.l.info("Successfully pinged google.com"),St(2)):(this.l.info("Failed to ping google.com"),St(1))};function zE(e){if(e.H=0,e.ma=[],e.h){const t=xE(e.i);(t.length!=0||e.j.length!=0)&&(Vy(e.ma,t),Vy(e.ma,e.j),e.i.i.length=0,Bp(e.j),e.j.length=0),e.h.ya()}}function HE(e,t,n){var r=n instanceof si?Qn(n):new si(n);if(r.g!="")t&&(r.g=t+"."+r.g),_u(r,r.m);else{var i=X.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new si(null);r&&vu(o,r),t&&(o.g=t),i&&_u(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Ie(r,n,t),Ie(r,"VER",e.ra),Ma(e,r),r}function qE(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Le(new Na({ob:!0})):new Le(e.va),t.Oa(e.J),t}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function WE(){}V=WE.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function wu(){if(wo&&!(10<=Number($C)))throw Error("Environmental error: no available transport.")}wu.prototype.g=function(e,t){return new qt(e,t)};function qt(e,t){rt.call(this),this.g=new LE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!na(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!na(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Vo(this)}it(qt,rt);qt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;St(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=HE(e,null,e.Y),mc(e)};qt.prototype.close=function(){om(this.g)};qt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Qp(e),e=n);t.j.push(new mR(t.fb++,e)),t.H==3&&mc(t)};qt.prototype.N=function(){this.g.h=null,delete this.j,om(this.g),delete this.g,qt.$.N.call(this)};function KE(e){em.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}it(KE,em);function GE(){tm.call(this),this.status=1}it(GE,tm);function Vo(e){this.g=e}it(Vo,WE);Vo.prototype.Ba=function(){ut(this.g,"a")};Vo.prototype.Aa=function(e){ut(this.g,new KE(e))};Vo.prototype.za=function(e){ut(this.g,new GE)};Vo.prototype.ya=function(){ut(this.g,"b")};function RR(){this.blockSize=-1}function yn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}it(yn,RR);yn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Od(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[4]+4118548399&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[8]+1770035416&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[12]+1804603682&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(i^o&(n^i))+r[1]+4129170786&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[5]+3593408605&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[9]+568446438&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[13]+2850285829&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(n^i^o)+r[5]+4294588738&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[1]+2763975236&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[13]+681279174&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[9]+3654602809&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(i^(n|~o))+r[0]+4096336452&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[12]+1700485571&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[8]+1873313359&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[4]+4149444226&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}yn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(i==0)for(;o<=n;)Od(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Od(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Od(this,r),i=0;break}}this.h=i,this.i+=t};yn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function me(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=e[i]|0;r&&o==t||(n[i]=o,r=!1)}this.g=n}var PR={};function lm(e){return-128<=e&&128>e?LC(e,function(t){return new me([t|0],0>t?-1:0)}):new me([e|0],0>e?-1:0)}function Sn(e){if(isNaN(e)||!isFinite(e))return io;if(0>e)return at(Sn(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=cf;return new me(t,0)}function QE(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return at(QE(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sn(Math.pow(t,8)),r=io,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+o),t);8>o?(o=Sn(Math.pow(t,o)),r=r.R(o).add(Sn(s))):(r=r.R(n),r=r.add(Sn(s)))}return r}var cf=4294967296,io=lm(0),df=lm(1),Wy=lm(16777216);V=me.prototype;V.ea=function(){if(Zt(this))return-at(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:cf+r)*t,t*=cf}return e};V.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Un(this))return"0";if(Zt(this))return"-"+at(this).toString(e);for(var t=Sn(Math.pow(e,6)),n=this,r="";;){var i=Iu(n,t).g;n=Tu(n,i.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Un(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};V.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Un(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Zt(e){return e.h==-1}V.X=function(e){return e=Tu(this,e),Zt(e)?-1:Un(e)?0:1};function at(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new me(n,~e.h).add(df)}V.abs=function(){return Zt(this)?at(this):this};V.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(this.D(i)&65535)+(e.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new me(n,n[n.length-1]&-2147483648?-1:0)};function Tu(e,t){return e.add(at(t))}V.R=function(e){if(Un(this)||Un(e))return io;if(Zt(this))return Zt(e)?at(this).R(at(e)):at(at(this).R(e));if(Zt(e))return at(this.R(at(e)));if(0>this.X(Wy)&&0>e.X(Wy))return Sn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=s*l,fl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,fl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,fl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,fl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new me(n,0)};function fl(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function es(e,t){this.g=e,this.h=t}function Iu(e,t){if(Un(t))throw Error("division by zero");if(Un(e))return new es(io,io);if(Zt(e))return t=Iu(at(e),t),new es(at(t.g),at(t.h));if(Zt(t))return t=Iu(e,at(t)),new es(at(t.g),t.h);if(30<e.g.length){if(Zt(e)||Zt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=df,r=t;0>=r.X(e);)n=Ky(n),r=Ky(r);var i=Ni(n,1),o=Ni(r,1);for(r=Ni(r,2),n=Ni(n,2);!Un(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Ni(r,1),n=Ni(n,1)}return t=Tu(e,i.R(t)),new es(i,t)}for(i=io;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Sn(n),s=o.R(t);Zt(s)||0<s.X(e);)n-=r,o=Sn(n),s=o.R(t);Un(o)&&(o=df),i=i.add(o),e=Tu(e,s)}return new es(i,e)}V.gb=function(e){return Iu(this,e).h};V.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new me(n,this.h&e.h)};V.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new me(n,this.h|e.h)};V.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new me(n,this.h^e.h)};function Ky(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new me(n,e.h)}function Ni(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new me(i,e.h)}wu.prototype.createWebChannel=wu.prototype.g;qt.prototype.send=qt.prototype.u;qt.prototype.open=qt.prototype.m;qt.prototype.close=qt.prototype.close;lc.NO_ERROR=0;lc.TIMEOUT=8;lc.HTTP_ERROR=6;fE.COMPLETE="complete";pE.EventType=xa;xa.OPEN="a";xa.CLOSE="b";xa.ERROR="c";xa.MESSAGE="d";rt.prototype.listen=rt.prototype.O;Le.prototype.listenOnce=Le.prototype.P;Le.prototype.getLastError=Le.prototype.Sa;Le.prototype.getLastErrorCode=Le.prototype.Ia;Le.prototype.getStatus=Le.prototype.da;Le.prototype.getResponseJson=Le.prototype.Wa;Le.prototype.getResponseText=Le.prototype.ja;Le.prototype.send=Le.prototype.ha;Le.prototype.setWithCredentials=Le.prototype.Oa;yn.prototype.digest=yn.prototype.l;yn.prototype.reset=yn.prototype.reset;yn.prototype.update=yn.prototype.j;me.prototype.add=me.prototype.add;me.prototype.multiply=me.prototype.R;me.prototype.modulo=me.prototype.gb;me.prototype.compare=me.prototype.X;me.prototype.toNumber=me.prototype.ea;me.prototype.toString=me.prototype.toString;me.prototype.getBits=me.prototype.D;me.fromNumber=Sn;me.fromString=QE;var xR=function(){return new wu},kR=function(){return ac()},Md=lc,DR=fE,NR=Ii,Gy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},OR=Na,pl=pE,MR=Le,VR=yn,oo=me;const Qy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new $p("@firebase/firestore");function Yy(){return fi.logLevel}function U(e,...t){if(fi.logLevel<=fe.DEBUG){const n=t.map(um);fi.debug(`Firestore (${Lo}): ${e}`,...n)}}function Yn(e,...t){if(fi.logLevel<=fe.ERROR){const n=t.map(um);fi.error(`Firestore (${Lo}): ${e}`,...n)}}function To(e,...t){if(fi.logLevel<=fe.WARN){const n=t.map(um);fi.warn(`Firestore (${Lo}): ${e}`,...n)}}function um(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e="Unexpected state"){const t=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+e;throw Yn(t),new Error(t)}function Ce(e,t){e||Q()}function ne(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends Fr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class bR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FR{constructor(t){this.t=t,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sr,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sr)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new YE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ce(t===null||typeof t=="string"),new mt(t)}}class $R{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jR{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new $R(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BR{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new UR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=zR(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function he(e,t){return e<t?-1:e>t?1:0}function Io(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new L(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new L(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ke.fromMillis(Date.now())}static fromDate(t){return Ke.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?he(this.nanoseconds,t.nanoseconds):he(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Z(t)}static min(){return new Z(new Ke(0,0))}static max(){return new Z(new Ke(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,n,r){n===void 0?n=0:n>t.length&&Q(),r===void 0?r=t.length-n:r>t.length-n&&Q(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ca.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ca?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ae extends ca{construct(t,n,r){return new Ae(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new L(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const HR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends ca{construct(t,n,r){return new vt(t,n,r)}static isValidIdentifier(t){return HR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new L(R.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new L(R.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(R.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(t){this.path=t}static fromPath(t){return new H(Ae.fromString(t))}static fromName(t){return new H(Ae.fromString(t).popFirst(5))}static empty(){return new H(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new H(new Ae(t.slice()))}}function qR(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Nr(i,H.empty(),t)}function WR(e){return new Nr(e.readTime,e.key,-1)}class Nr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Nr(Z.min(),H.empty(),-1)}static max(){return new Nr(Z.max(),H.empty(),-1)}}function KR(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=H.comparator(e.documentKey,t.documentKey),n!==0?n:he(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(e){if(e.code!==R.FAILED_PRECONDITION||e.message!==GR)throw e;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new N((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):N.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):N.reject(n)}static resolve(t){return new N((n,r)=>{n(t)})}static reject(t){return new N((n,r)=>{r(t)})}static waitFor(t){return new N((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=N.resolve(!1);for(const r of t)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new N((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new N((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function La(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}cm.ae=-1;function gc(e){return e==null}function Au(e){return e===0&&1/e==-1/0}function YR(e){return typeof e=="number"&&Number.isInteger(e)&&!Au(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ai(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function JE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t,n){this.comparator=t,this.root=n||st.EMPTY}insert(t,n){return new Me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(t){return new Me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,st.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ml(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ml(this.root,t,this.comparator,!1)}getReverseIterator(){return new ml(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ml(this.root,t,this.comparator,!0)}}class ml{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class st{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??st.RED,this.left=i??st.EMPTY,this.right=o??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new st(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return st.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,n,r,i,o){return this}insert(t,n,r){return new st(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.comparator=t,this.data=new Me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jy(this.data.getIterator())}getIteratorFrom(t){return new Jy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof wt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new wt(this.comparator);return n.data=t,n}}class Jy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.fields=t,t.sort(vt.comparator)}static empty(){return new Ut([])}unionWith(t){let n=new wt(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ut(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Io(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ZE("Invalid base64 string: "+o):o}}(t);return new It(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new It(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return he(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}It.EMPTY_BYTE_STRING=new It("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(e){if(Ce(!!e),typeof e=="string"){let t=0;const n=XR.exec(e);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:He(e.seconds),nanos:He(e.nanos)}}function He(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function pi(e){return typeof e=="string"?It.fromBase64String(e):It.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hm(e){const t=e.mapValue.fields.__previous_value__;return dm(t)?hm(t):t}function da(e){const t=Or(e.mapValue.fields.__local_write_time__.timestampValue);return new Ke(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ha{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new ha("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ha&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function mi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dm(e)?4:ZR(e)?9007199254740991:10:Q()}function Dn(e,t){if(e===t)return!0;const n=mi(e);if(n!==mi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return da(e).isEqual(da(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Or(i.timestampValue),a=Or(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return pi(i.bytesValue).isEqual(pi(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return He(i.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return He(i.integerValue)===He(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=He(i.doubleValue),a=He(o.doubleValue);return s===a?Au(s)===Au(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Io(e.arrayValue.values||[],t.arrayValue.values||[],Dn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Xy(s)!==Xy(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Dn(s[l],a[l])))return!1;return!0}(e,t);default:return Q()}}function fa(e,t){return(e.values||[]).find(n=>Dn(n,t))!==void 0}function Ao(e,t){if(e===t)return 0;const n=mi(e),r=mi(t);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=He(o.integerValue||o.doubleValue),l=He(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Zy(e.timestampValue,t.timestampValue);case 4:return Zy(da(e),da(t));case 5:return he(e.stringValue,t.stringValue);case 6:return function(o,s){const a=pi(o),l=pi(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=he(a[u],l[u]);if(c!==0)return c}return he(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=he(He(o.latitude),He(s.latitude));return a!==0?a:he(He(o.longitude),He(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ao(a[u],l[u]);if(c)return c}return he(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===gl.mapValue&&s===gl.mapValue)return 0;if(o===gl.mapValue)return 1;if(s===gl.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=he(l[d],c[d]);if(h!==0)return h;const f=Ao(a[l[d]],u[c[d]]);if(f!==0)return f}return he(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Q()}}function Zy(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return he(e,t);const n=Or(e),r=Or(t),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function So(e){return hf(e)}function hf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Or(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return pi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return H.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=hf(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${hf(n.fields[s])}`;return i+"}"}(e.mapValue):Q()}function ev(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ff(e){return!!e&&"integerValue"in e}function fm(e){return!!e&&"arrayValue"in e}function tv(e){return!!e&&"nullValue"in e}function nv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function bl(e){return!!e&&"mapValue"in e}function Ds(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ai(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ds(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ds(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ZR(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.value=t}static empty(){return new Nt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!bl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ds(n)}setAll(t){let n=vt.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ds(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());bl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Dn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];bl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Ai(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Nt(Ds(this.value))}}function ew(e){const t=[];return Ai(e.fields,(n,r)=>{const i=new vt([n]);if(bl(r)){const o=ew(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new Ut(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new yt(t,0,Z.min(),Z.min(),Z.min(),Nt.empty(),0)}static newFoundDocument(t,n,r,i){return new yt(t,1,n,Z.min(),r,i,0)}static newNoDocument(t,n){return new yt(t,2,n,Z.min(),Z.min(),Nt.empty(),0)}static newUnknownDocument(t,n){return new yt(t,3,n,Z.min(),Z.min(),Nt.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,n){this.position=t,this.inclusive=n}}function rv(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=Ao(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iv(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Dn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,n="asc"){this.field=t,this.dir=n}}function eP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{}class We extends tw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new nP(t,n,r):n==="array-contains"?new oP(t,r):n==="in"?new sP(t,r):n==="not-in"?new aP(t,r):n==="array-contains-any"?new lP(t,r):new We(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new rP(t,r):new iP(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ao(n,this.value)):n!==null&&mi(this.value)===mi(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vn extends tw{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new vn(t,n)}matches(t){return nw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function nw(e){return e.op==="and"}function rw(e){return tP(e)&&nw(e)}function tP(e){for(const t of e.filters)if(t instanceof vn)return!1;return!0}function pf(e){if(e instanceof We)return e.field.canonicalString()+e.op.toString()+So(e.value);if(rw(e))return e.filters.map(t=>pf(t)).join(",");{const t=e.filters.map(n=>pf(n)).join(",");return`${e.op}(${t})`}}function iw(e,t){return e instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Dn(r.value,i.value)}(e,t):e instanceof vn?function(r,i){return i instanceof vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&iw(s,i.filters[a]),!0):!1}(e,t):void Q()}function ow(e){return e instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`}(e):e instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(ow).join(" ,")+"}"}(e):"Filter"}class nP extends We{constructor(t,n,r){super(t,n,r),this.key=H.fromName(r.referenceValue)}matches(t){const n=H.comparator(t.key,this.key);return this.matchesComparison(n)}}class rP extends We{constructor(t,n){super(t,"in",n),this.keys=sw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class iP extends We{constructor(t,n){super(t,"not-in",n),this.keys=sw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function sw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class oP extends We{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return fm(n)&&fa(n.arrayValue,this.value)}}class sP extends We{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&fa(this.value.arrayValue,n)}}class aP extends We{constructor(t,n){super(t,"not-in",n)}matches(t){if(fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!fa(this.value.arrayValue,n)}}class lP extends We{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.he=null}}function ov(e,t=null,n=[],r=[],i=null,o=null,s=null){return new uP(e,t,n,r,i,o,s)}function pm(e){const t=ne(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>pf(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),gc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>So(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>So(r)).join(",")),t.he=n}return t.he}function mm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!eP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!iw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!iv(e.startAt,t.startAt)&&iv(e.endAt,t.endAt)}function mf(e){return H.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function cP(e,t,n,r,i,o,s,a){return new bo(e,t,n,r,i,o,s,a)}function yc(e){return new bo(e)}function sv(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function gm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vc(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function aw(e){return e.collectionGroup!==null}function ao(e){const t=ne(e);if(t.Pe===null){t.Pe=[];const n=vc(t),r=gm(t);if(n!==null&&r===null)n.isKeyField()||t.Pe.push(new so(n)),t.Pe.push(new so(vt.keyField(),"asc"));else{let i=!1;for(const o of t.explicitOrderBy)t.Pe.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new so(vt.keyField(),o))}}}return t.Pe}function Xn(e){const t=ne(e);if(!t.Ie)if(t.limitType==="F")t.Ie=ov(t.path,t.collectionGroup,ao(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const o of ao(t)){const s=o.dir==="desc"?"asc":"desc";n.push(new so(o.field,s))}const r=t.endAt?new Su(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Su(t.startAt.position,t.startAt.inclusive):null;t.Ie=ov(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.Ie}function gf(e,t){t.getFirstInequalityField(),vc(e);const n=e.filters.concat([t]);return new bo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function yf(e,t,n){return new bo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _c(e,t){return mm(Xn(e),Xn(t))&&e.limitType===t.limitType}function lw(e){return`${pm(Xn(e))}|lt:${e.limitType}`}function vf(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ow(i)).join(", ")}]`),gc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>So(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>So(i)).join(",")),`Target(${r})`}(Xn(e))}; limitType=${e.limitType})`}function Ec(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of ao(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=rv(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ao(r),i)||r.endAt&&!function(s,a,l){const u=rv(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ao(r),i))}(e,t)}function dP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uw(e){return(t,n)=>{let r=!1;for(const i of ao(e)){const o=hP(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function hP(e,t,n){const r=e.field.isKeyField()?H.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ao(l,u):Q()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ai(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return JE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new Me(H.comparator);function Jn(){return fP}const cw=new Me(H.comparator);function ms(...e){let t=cw;for(const n of e)t=t.insert(n.key,n);return t}function dw(e){let t=cw;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ti(){return Ns()}function hw(){return Ns()}function Ns(){return new Fo(e=>e.toString(),(e,t)=>e.isEqual(t))}const pP=new Me(H.comparator),mP=new wt(H.comparator);function oe(...e){let t=mP;for(const n of e)t=t.add(n);return t}const gP=new wt(he);function yP(){return gP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Au(t)?"-0":t}}function pw(e){return{integerValue:""+e}}function vP(e,t){return YR(t)?pw(t):fw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this._=void 0}}function _P(e,t,n){return e instanceof Cu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dm(o)&&(o=hm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof pa?gw(e,t):e instanceof ma?yw(e,t):function(i,o){const s=mw(i,o),a=av(s)+av(i.Te);return ff(s)&&ff(i.Te)?pw(a):fw(i.serializer,a)}(e,t)}function EP(e,t,n){return e instanceof pa?gw(e,t):e instanceof ma?yw(e,t):n}function mw(e,t){return e instanceof Ru?function(r){return ff(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class Cu extends wc{}class pa extends wc{constructor(t){super(),this.elements=t}}function gw(e,t){const n=vw(t);for(const r of e.elements)n.some(i=>Dn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ma extends wc{constructor(t){super(),this.elements=t}}function yw(e,t){let n=vw(t);for(const r of e.elements)n=n.filter(i=>!Dn(i,r));return{arrayValue:{values:n}}}class Ru extends wc{constructor(t,n){super(),this.serializer=t,this.Te=n}}function av(e){return He(e.integerValue||e.doubleValue)}function vw(e){return fm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function wP(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof pa&&i instanceof pa||r instanceof ma&&i instanceof ma?Io(r.elements,i.elements,Dn):r instanceof Ru&&i instanceof Ru?Dn(r.Te,i.Te):r instanceof Cu&&i instanceof Cu}(e.transform,t.transform)}class TP{constructor(t,n){this.version=t,this.transformResults=n}}class mn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new mn}static exists(t){return new mn(void 0,t)}static updateTime(t){return new mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Tc{}function _w(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ym(e.key,mn.none()):new ba(e.key,e.data,mn.none());{const n=e.data,r=Nt.empty();let i=new wt(vt.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ur(e.key,r,new Ut(i.toArray()),mn.none())}}function IP(e,t,n){e instanceof ba?function(i,o,s){const a=i.value.clone(),l=uv(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ur?function(i,o,s){if(!Fl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=uv(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Ew(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Os(e,t,n,r){return e instanceof ba?function(o,s,a,l){if(!Fl(o.precondition,s))return a;const u=o.value.clone(),c=cv(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ur?function(o,s,a,l){if(!Fl(o.precondition,s))return a;const u=cv(o.fieldTransforms,l,s),c=s.data;return c.setAll(Ew(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,s,a){return Fl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function AP(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=mw(r.transform,i||null);o!=null&&(n===null&&(n=Nt.empty()),n.set(r.field,o))}return n||null}function lv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Io(r,i,(o,s)=>wP(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ba extends Tc{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ur extends Tc{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Ew(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function uv(e,t,n){const r=new Map;Ce(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,EP(s,a,n[i]))}return r}function cv(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,_P(o,s,t))}return r}class ym extends Tc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SP extends Tc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&IP(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Os(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Os(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=hw();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=_w(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),oe())}isEqual(t){return this.batchId===t.batchId&&Io(this.mutations,t.mutations,(n,r)=>lv(n,r))&&Io(this.baseMutations,t.baseMutations,(n,r)=>lv(n,r))}}class vm{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Ce(t.mutations.length===r.length);let i=function(){return pP}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new vm(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,le;function xP(e){switch(e){default:return Q();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function ww(e){if(e===void 0)return Yn("GRPC error has no .code"),R.UNKNOWN;switch(e){case Be.OK:return R.OK;case Be.CANCELLED:return R.CANCELLED;case Be.UNKNOWN:return R.UNKNOWN;case Be.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Be.INTERNAL:return R.INTERNAL;case Be.UNAVAILABLE:return R.UNAVAILABLE;case Be.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Be.NOT_FOUND:return R.NOT_FOUND;case Be.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Be.ABORTED:return R.ABORTED;case Be.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Be.DATA_LOSS:return R.DATA_LOSS;default:return Q()}}(le=Be||(Be={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return yl}static getOrCreateInstance(){return yl===null&&(yl=new _m),yl}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let yl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new oo([4294967295,4294967295],0);function dv(e){const t=kP().encode(e),n=new VR;return n.update(t),new Uint8Array(n.digest())}function hv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new oo([n,r],0),new oo([i,o],0)]}class Em{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gs(`Invalid padding: ${n}`);if(r<0)throw new gs(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new gs(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new gs(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*t.length-n,this.Ae=oo.fromNumber(this.de)}Re(t,n,r){let i=t.add(n.multiply(oo.fromNumber(r)));return i.compare(DP)===1&&(i=new oo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.de===0)return!1;const n=dv(t),[r,i]=hv(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(r,i,o);if(!this.Ve(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new Em(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.de===0)return;const n=dv(t),[r,i]=hv(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(r,i,o);this.me(s)}}me(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class gs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Fa.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ic(Z.min(),i,new Me(he),Jn(),oe())}}class Fa{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Fa(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t,n,r,i){this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=i}}class Tw{constructor(t,n){this.targetId=t,this.pe=n}}class Iw{constructor(t,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fv{constructor(){this.ye=0,this.we=mv(),this.Se=It.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(t){t.approximateByteSize()>0&&(this.De=!0,this.Se=t)}Me(){let t=oe(),n=oe(),r=oe();return this.we.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Fa(this.Se,this.be,t,n,r)}xe(){this.De=!1,this.we=mv()}Oe(t,n){this.De=!0,this.we=this.we.insert(t,n)}Ne(t){this.De=!0,this.we=this.we.remove(t)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class NP{constructor(t){this.qe=t,this.Qe=new Map,this.Ke=Jn(),this.$e=pv(),this.Ue=new Me(he)}We(t){for(const n of t.fe)t.ge&&t.ge.isFoundDocument()?this.Ge(n,t.ge):this.ze(n,t.key,t.ge);for(const n of t.removedTargetIds)this.ze(n,t.key,t.ge)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Fe(t.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(t.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(t.resumeToken));break;default:Q()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(t){var n,r;const i=t.targetId,o=t.pe.count,s=this.Xe(i);if(s){const a=s.target;if(mf(a))if(o===0){const l=new H(a.path);this.ze(i,l,yt.newNoDocument(l,Z.min()))}else Ce(o===1);else{const l=this.et(i);if(l!==o){const u=this.tt(t,l);if(u.status!==0){this.Ye(i);const c=u.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,c)}(n=_m.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,h,f,y){var v,w,m,g,E,p;const T={localCacheCount:f,existenceFilterCount:y.count},C=y.unchangedNames;return C&&(T.bloomFilter={applied:d===0,hashCount:(v=C==null?void 0:C.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(g=(m=(w=C==null?void 0:C.bits)===null||w===void 0?void 0:w.bitmap)===null||m===void 0?void 0:m.length)!==null&&g!==void 0?g:0,padding:(p=(E=C==null?void 0:C.bits)===null||E===void 0?void 0:E.padding)!==null&&p!==void 0?p:0},h&&(T.bloomFilter.mightContain=h)),T}(u.status,(r=u.nt)!==null&&r!==void 0?r:null,l,t.pe))}}}}tt(t,n){const{unchangedNames:r,count:i}=t.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=pi(o).toUint8Array()}catch(d){if(d instanceof ZE)return To("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw d}try{u=new Em(l,s,a)}catch(d){return To(d instanceof gs?"BloomFilter error: ":"Applying bloom filter failed: ",d),{status:1}}const c=d=>{const h=this.qe.rt();return u.mightContain(`projects/${h.projectId}/databases/${h.database}/documents/${d}`)};return u.de===0?{status:1}:{status:i===n-this.it(t.targetId,c)?0:2,nt:c}}it(t,n){const r=this.qe.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{n(o.path.canonicalString())||(this.ze(t,o,null),i++)}),i}st(t){const n=new Map;this.Qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&mf(a.target)){const l=new H(a.target.path);this.Ke.get(l)!==null||this.ot(s,l)||this.ze(s,l,yt.newNoDocument(l,t))}o.Ce&&(n.set(s,o.Me()),o.xe())}});let r=oe();this.$e.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Ke.forEach((o,s)=>s.setReadTime(t));const i=new Ic(t,n,this.Ue,this.Ke,r);return this.Ke=Jn(),this.$e=pv(),this.Ue=new Me(he),i}Ge(t,n){if(!this.Je(t))return;const r=this.ot(t,n.key)?2:0;this.He(t).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const i=this.He(t);this.ot(t,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(t)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(t){this.Qe.delete(t)}et(t){const n=this.He(t).Me();return this.qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Be(t){this.He(t).Be()}He(t){let n=this.Qe.get(t);return n||(n=new fv,this.Qe.set(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new wt(he),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||U("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.Qe.get(t);return n&&n.ve?null:this.qe.ut(t)}Ye(t){this.Qe.set(t,new fv),this.qe.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ot(t,n){return this.qe.getRemoteKeysForTarget(t).has(n)}}function pv(){return new Me(H.comparator)}function mv(){return new Me(H.comparator)}const OP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),MP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),VP=(()=>({and:"AND",or:"OR"}))();class LP{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function _f(e,t){return e.useProto3Json||gc(t)?t:{value:t}}function Pu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Aw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function bP(e,t){return Pu(e,t.toTimestamp())}function xn(e){return Ce(!!e),Z.fromTimestamp(function(n){const r=Or(n);return new Ke(r.seconds,r.nanos)}(e))}function wm(e,t){return function(r){return new Ae(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function Sw(e){const t=Ae.fromString(e);return Ce(xw(t)),t}function Ef(e,t){return wm(e.databaseId,t.path)}function Vd(e,t){const n=Sw(t);if(n.get(1)!==e.databaseId.projectId)throw new L(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new H(Cw(n))}function wf(e,t){return wm(e.databaseId,t)}function FP(e){const t=Sw(e);return t.length===4?Ae.emptyPath():Cw(t)}function Tf(e){return new Ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cw(e){return Ce(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function gv(e,t,n){return{name:Ef(e,t),fields:n.value.mapValue.fields}}function $P(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Q()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ce(c===void 0||typeof c=="string"),It.fromBase64String(c||"")):(Ce(c===void 0||c instanceof Uint8Array),It.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const c=u.code===void 0?R.UNKNOWN:ww(u.code);return new L(c,u.message||"")}(s);n=new Iw(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vd(e,r.document.name),o=xn(r.document.updateTime),s=r.document.createTime?xn(r.document.createTime):Z.min(),a=new Nt({mapValue:{fields:r.document.fields}}),l=yt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new $l(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Vd(e,r.document),o=r.readTime?xn(r.readTime):Z.min(),s=yt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new $l([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Vd(e,r.document),o=r.removedTargetIds||[];n=new $l([],o,i,null)}else{if(!("filter"in t))return Q();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new PP(i,o),a=r.targetId;n=new Tw(a,s)}}return n}function jP(e,t){let n;if(t instanceof ba)n={update:gv(e,t.key,t.value)};else if(t instanceof ym)n={delete:Ef(e,t.key)};else if(t instanceof Ur)n={update:gv(e,t.key,t.data),updateMask:QP(t.fieldMask)};else{if(!(t instanceof SP))return Q();n={verify:Ef(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Cu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ma)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ru)return{fieldPath:s.field.canonicalString(),increment:a.Te};throw Q()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:bP(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(e,t.precondition)),n}function UP(e,t){return e&&e.length>0?(Ce(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?xn(i.updateTime):xn(o);return s.isEqual(Z.min())&&(s=xn(o)),new TP(s,i.transformResults||[])}(n,t))):[]}function BP(e,t){return{documents:[wf(e,t.path)]}}function zP(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=wf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=wf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Pw(vn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Mi(d.field),direction:WP(d.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=_f(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function HP(e){let t=FP(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=Rw(d);return h instanceof vn&&rw(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(y){return new so(Vi(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,gc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Su(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Su(f,h)}(n.endAt)),cP(t,i,s,o,a,"F",l,u)}function qP(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Rw(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vi(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vi(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vi(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vi(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(e):e.fieldFilter!==void 0?function(n){return We.create(Vi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(r=>Rw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(e):Q()}function WP(e){return OP[e]}function KP(e){return MP[e]}function GP(e){return VP[e]}function Mi(e){return{fieldPath:e.canonicalString()}}function Vi(e){return vt.fromServerFormat(e.fieldPath)}function Pw(e){return e instanceof We?function(n){if(n.op==="=="){if(nv(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NAN"}};if(tv(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nv(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NOT_NAN"}};if(tv(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mi(n.field),op:KP(n.op),value:n.value}}}(e):e instanceof vn?function(n){const r=n.getFilters().map(i=>Pw(i));return r.length===1?r[0]:{compositeFilter:{op:GP(n.op),filters:r}}}(e):Q()}function QP(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function xw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t,n,r,i,o=Z.min(),s=Z.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(t){this.ct=t}}function XP(e){const t=HP({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?yf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.sn=new ZP}addToCollectionParentIndex(t,n){return this.sn.add(n),N.resolve()}getCollectionParents(t,n){return N.resolve(this.sn.getEntries(n))}addFieldIndex(t,n){return N.resolve()}deleteFieldIndex(t,n){return N.resolve()}getDocumentsMatchingTarget(t,n){return N.resolve(null)}getIndexType(t,n){return N.resolve(0)}getFieldIndexes(t,n){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,n){return N.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,n){return N.resolve(Nr.min())}updateCollectionGroup(t,n,r){return N.resolve()}updateIndexEntries(t,n){return N.resolve()}}class ZP{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new wt(Ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new wt(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t){this.Mn=t}next(){return this.Mn+=2,this.Mn}static xn(){return new Co(0)}static On(){return new Co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.changes=new Fo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Os(r.mutation,i,Ut.empty(),Ke.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,oe()).next(()=>r))}getLocalViewOfDocuments(t,n,r=oe()){const i=ti();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=ms();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=ti();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,oe()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=Jn();const s=Ns(),a=function(){return Ns()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ur)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Os(c.mutation,u,c.mutation.getFieldMask(),Ke.now())):s.set(u.key,Ut.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new tx(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Ns();let i=new Me((s,a)=>s-a),o=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ut.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||oe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=hw();c.forEach(h=>{if(!o.has(h)){const f=_w(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):aw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):N.resolve(ti());let a=-1,l=o;return s.next(u=>N.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?N.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,oe())).next(c=>({batchId:a,changes:dw(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new H(n)).next(r=>{let i=ms();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let o=ms();return this.indexManager.getCollectionParents(t,i).next(s=>N.forEach(s,a=>{const l=function(c,d){return new bo(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,d)=>{o=o.insert(c,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,yt.newInvalidDocument(u)))});let s=ms();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Os(u.mutation,l,Ut.empty(),Ke.now()),Ec(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t){this.serializer=t,this.ar=new Map,this.ur=new Map}getBundleMetadata(t,n){return N.resolve(this.ar.get(n))}saveBundleMetadata(t,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}}(n)),N.resolve()}getNamedQuery(t,n){return N.resolve(this.ur.get(n))}saveNamedQuery(t,n){return this.ur.set(n.name,function(i){return{name:i.name,query:XP(i.bundledQuery),readTime:xn(i.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.overlays=new Me(H.comparator),this.cr=new Map}getOverlay(t,n){return N.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ti();return N.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.ht(t,n,o)}),N.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.cr.delete(r)),N.resolve()}getOverlaysForCollection(t,n,r){const i=ti(),o=n.length+1,s=new H(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new Me((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ti(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ti(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return N.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new RP(n,r));let o=this.cr.get(n);o===void 0&&(o=oe(),this.cr.set(n,o)),this.cr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.lr=new wt(et.hr),this.Pr=new wt(et.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(t,n){const r=new et(t,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Er(new et(t,n))}dr(t,n){t.forEach(r=>this.removeReference(r,n))}Ar(t){const n=new H(new Ae([])),r=new et(n,t),i=new et(n,t+1),o=[];return this.Pr.forEachInRange([r,i],s=>{this.Er(s),o.push(s.key)}),o}Rr(){this.lr.forEach(t=>this.Er(t))}Er(t){this.lr=this.lr.delete(t),this.Pr=this.Pr.delete(t)}Vr(t){const n=new H(new Ae([])),r=new et(n,t),i=new et(n,t+1);let o=oe();return this.Pr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new et(t,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class et{constructor(t,n){this.key=t,this.mr=n}static hr(t,n){return H.comparator(t.key,n.key)||he(t.mr,n.mr)}static Ir(t,n){return he(t.mr,n.mr)||H.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new wt(et.hr)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new CP(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.pr=this.pr.add(new et(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(t,n){return N.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.wr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),o=[];return this.pr.forEachInRange([r,i],s=>{const a=this.yr(s.mr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new wt(he);return n.forEach(i=>{const o=new et(i,0),s=new et(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([o,s],a=>{r=r.add(a.mr)})}),N.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;H.isDocumentKey(o)||(o=o.child(""));const s=new et(new H(o),0);let a=new wt(he);return this.pr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.mr)),!0)},s),N.resolve(this.Sr(a))}Sr(t){const n=[];return t.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Ce(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return N.forEach(n.mutations,i=>{const o=new et(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.pr=r})}Cn(t){}containsKey(t,n){const r=new et(n,0),i=this.pr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}br(t,n){return this.wr(t)}wr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}yr(t){const n=this.wr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t){this.Dr=t,this.docs=function(){return new Me(H.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(t,n){let r=Jn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():yt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Jn();const s=n.path,a=new H(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||KR(WR(c),r)<=0||(i.has(c.key)||Ec(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(t,n,r,i){Q()}vr(t,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new ax(this)}getSize(t){return N.resolve(this.size)}}class ax extends ex{constructor(t){super(),this.sr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(t,i)):this.sr.removeEntry(r)}),N.waitFor(n)}getFromCache(t,n){return this.sr.getEntry(t,n)}getAllFromCache(t,n){return this.sr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t){this.persistence=t,this.Cr=new Fo(n=>pm(n),mm),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Tm,this.targetCount=0,this.Or=Co.xn()}forEachTarget(t,n){return this.Cr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Fr)}allocateTargetId(t){return this.highestTargetId=this.Or.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),N.resolve()}Ln(t){this.Cr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Or=new Co(n),this.highestTargetId=n),t.sequenceNumber>this.Fr&&(this.Fr=t.sequenceNumber)}addTargetData(t,n){return this.Ln(n),this.targetCount+=1,N.resolve()}updateTargetData(t,n){return this.Ln(n),N.resolve()}removeTargetData(t,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Cr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,n){const r=this.Cr.get(n)||null;return N.resolve(r)}addMatchingKeys(t,n,r){return this.Mr.Tr(n,r),N.resolve()}removeMatchingKeys(t,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Mr.Ar(n),N.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Mr.Vr(n);return N.resolve(r)}containsKey(t,n){return N.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t,n){this.Nr={},this.overlays={},this.Br=new cm(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new lx(this),this.indexManager=new JP,this.remoteDocumentCache=function(i){return new sx(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new YP(n),this.Qr=new rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ix,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Nr[t.toKey()];return r||(r=new ox(n,this.referenceDelegate),this.Nr[t.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(t,n,r){U("MemoryPersistence","Starting transaction:",t);const i=new cx(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(o=>this.referenceDelegate.$r(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ur(t,n){return N.or(Object.values(this.Nr).map(r=>()=>r.containsKey(t,n)))}}class cx extends QR{constructor(t){super(),this.currentSequenceNumber=t}}class Im{constructor(t){this.persistence=t,this.Wr=new Tm,this.Gr=null}static zr(t){return new Im(t)}get jr(){if(this.Gr)return this.Gr;throw Q()}addReference(t,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),N.resolve()}removeReference(t,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(t,n){return this.jr.add(n.toString()),N.resolve()}removeTarget(t,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.jr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Kr(){this.Gr=new Set}$r(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.jr,r=>{const i=H.fromPath(r);return this.Hr(t,i).next(o=>{o||n.removeEntry(i,Z.min())})}).next(()=>(this.Gr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hr(t,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(t){return 0}Hr(t,n){return N.or([()=>N.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ur(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Li=r,this.ki=i}static qi(t,n){let r=oe(),i=oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Am(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.Qi=!1}initialize(t,n){this.Ki=t,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(t,n,r,i){return this.$i(t,n).next(o=>o||this.Ui(t,n,i,r)).next(o=>o||this.Wi(t,n))}$i(t,n){if(sv(n))return N.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yf(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=oe(...o);return this.Ki.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Gi(n,a);return this.zi(n,u,s,l.readTime)?this.$i(t,yf(n,null,"F")):this.ji(t,u,n,l)}))})))}Ui(t,n,r,i){return sv(n)||i.isEqual(Z.min())?this.Wi(t,n):this.Ki.getDocuments(t,r).next(o=>{const s=this.Gi(n,o);return this.zi(n,s,r,i)?this.Wi(t,n):(Yy()<=fe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vf(n)),this.ji(t,s,n,qR(i,-1)))})}Gi(t,n){let r=new wt(uw(t));return n.forEach((i,o)=>{Ec(t,o)&&(r=r.add(o))}),r}zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Wi(t,n){return Yy()<=fe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",vf(n)),this.Ki.getDocumentsMatchingQuery(t,n,Nr.min())}ji(t,n,r,i){return this.Ki.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t,n,r,i){this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Me(he),this.Yi=new Fo(o=>pm(o),mm),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}es(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nx(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function fx(e,t,n,r){return new hx(e,t,n,r)}async function kw(e,t){const n=ne(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.es(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=oe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ts:u,removedBatchIds:s,addedBatchIds:a}))})})}function px(e,t){const n=ne(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=N.resolve();return h.forEach(y=>{f=f.next(()=>c.getEntry(l,y)).next(v=>{const w=u.docVersions.get(y);Ce(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Dw(e){const t=ne(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.kr.getLastRemoteSnapshotVersion(n))}function mx(e,t){const n=ne(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.kr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.kr.addMatchingKeys(o,c.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?f=f.withResumeToken(It.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(v,w,m){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.kr.updateTargetData(o,f))});let l=Jn(),u=oe();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(gx(o,s,t.documentUpdates).next(c=>{l=c.ns,u=c.rs})),!r.isEqual(Z.min())){const c=n.kr.getLastRemoteSnapshotVersion(o).next(d=>n.kr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=i,o))}function gx(e,t,n){let r=oe(),i=oe();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=Jn();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ns:s,rs:i}})}function yx(e,t){const n=ne(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function vx(e,t){const n=ne(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,t).next(o=>o?(i=o,N.resolve(i)):n.kr.allocateTargetId(r).next(s=>(i=new hr(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(t,r.targetId)),r})}async function If(e,t,n){const r=ne(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!La(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function yv(e,t,n){const r=ne(e);let i=Z.min(),o=oe();return r.persistence.runTransaction("Execute query","readonly",s=>function(l,u,c){const d=ne(l),h=d.Yi.get(c);return h!==void 0?N.resolve(d.Ji.get(h)):d.kr.getTargetData(u,c)}(r,s,Xn(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,t,n?i:Z.min(),n?o:oe())).next(a=>(_x(r,dP(t),a),{documents:a,ss:o})))}function _x(e,t,n){let r=e.Zi.get(t)||Z.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.Zi.set(t,r)}class vv{constructor(){this.activeTargetIds=yP()}hs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ps(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ls(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ex{constructor(){this.Hs=new vv,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Hs.hs(t),this.Js[t]||"not-current"}updateQueryState(t,n,r){this.Js[t]=n}removeLocalQueryTarget(t){this.Hs.Ps(t)}isLocalQueryTarget(t){return this.Hs.activeTargetIds.has(t)}clearQueryState(t){delete this.Js[t]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(t){return this.Hs.activeTargetIds.has(t)}start(){return this.Hs=new vv,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{Ys(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(t){this.ro.push(t)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ro)t(0)}no(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ro)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl=null;function Ld(){return vl===null?vl=function(){return 268435456+Math.round(2147483648*Math.random())}():vl++,"0x"+vl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t){this.so=t.so,this.oo=t.oo}_o(t){this.ao=t}uo(t){this.co=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.so(t)}ho(){this.ao()}Po(t){this.co(t)}Io(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class Ax extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${i}/databases/${o}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Ro(){return!1}Vo(n,r,i,o,s){const a=Ld(),l=this.mo(n,r);U("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(u,o,s),this.po(n,l,u,i).then(c=>(U("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw To("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}yo(n,r,i,o,s,a){return this.Vo(n,r,i,o,s)}fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}mo(n,r){const i=Tx[n];return`${this.To}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}po(t,n,r,i){const o=Ld();return new Promise((s,a)=>{const l=new MR;l.setWithCredentials(!0),l.listenOnce(DR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Md.NO_ERROR:const c=l.getResponseJson();U(pt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),s(c);break;case Md.TIMEOUT:U(pt,`RPC '${t}' ${o} timed out`),a(new L(R.DEADLINE_EXCEEDED,"Request time out"));break;case Md.HTTP_ERROR:const d=l.getStatus();if(U(pt,`RPC '${t}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const y=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(m)>=0?m:R.UNKNOWN}(f.status);a(new L(y,f.message))}else a(new L(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(R.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{U(pt,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);U(pt,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(t,n,r){const i=Ld(),o=[this.To,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=xR(),a=kR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new OR({})),this.fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");U(pt,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,f=!1;const y=new Ix({so:w=>{f?U(pt,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(h||(U(pt,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),U(pt,`RPC '${t}' stream ${i} sending:`,w),d.send(w))},oo:()=>d.close()}),v=(w,m,g)=>{w.listen(m,E=>{try{g(E)}catch(p){setTimeout(()=>{throw p},0)}})};return v(d,pl.EventType.OPEN,()=>{f||U(pt,`RPC '${t}' stream ${i} transport opened.`)}),v(d,pl.EventType.CLOSE,()=>{f||(f=!0,U(pt,`RPC '${t}' stream ${i} transport closed`),y.Po())}),v(d,pl.EventType.ERROR,w=>{f||(f=!0,To(pt,`RPC '${t}' stream ${i} transport errored:`,w),y.Po(new L(R.UNAVAILABLE,"The operation could not be completed")))}),v(d,pl.EventType.MESSAGE,w=>{var m;if(!f){const g=w.data[0];Ce(!!g);const E=g,p=E.error||((m=E[0])===null||m===void 0?void 0:m.error);if(p){U(pt,`RPC '${t}' stream ${i} received error:`,p);const T=p.status;let C=function(j){const F=Be[j];if(F!==void 0)return ww(F)}(T),P=p.message;C===void 0&&(C=R.INTERNAL,P="Unknown error status: "+T+" with message "+p.message),f=!0,y.Po(new L(C,P)),d.close()}else U(pt,`RPC '${t}' stream ${i} received:`,g),y.Io(g)}}),v(a,NR.STAT_EVENT,w=>{w.stat===Gy.PROXY?U(pt,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===Gy.NOPROXY&&U(pt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.ho()},0),y}}function bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(e){return new LP(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,n,r=1e3,i=1.5,o=6e4){this.ii=t,this.timerId=n,this.So=r,this.bo=i,this.Do=o,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(t){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),t())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,n,r,i,o,s,a,l){this.ii=t,this.Bo=r,this.Lo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new Nw(t,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(t){this.Jo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(t,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,t!==4?this.Ko.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Yn(n.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.ko===n&&this.e_(r,i)},r=>{t(()=>{const i=new L(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(i)})})}e_(t,n){const r=this.Xo(this.ko);this.stream=this.n_(t,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.t_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(t){return U("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.ko===t?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sx extends Ow{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}n_(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Ko.reset();const n=$P(this.serializer,t),r=function(o){if(!("targetChange"in o))return Z.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?xn(s.readTime):Z.min()}(t);return this.listener.r_(n,r)}i_(t){const n={};n.database=Tf(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=mf(l)?{documents:BP(o,l)}:{query:zP(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Aw(o,s.resumeToken);const u=_f(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Z.min())>0){a.readTime=Pu(o,s.snapshotVersion.toTimestamp());const u=_f(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=qP(this.serializer,t);r&&(n.labels=r),this.Ho(n)}s_(t){const n={};n.database=Tf(this.serializer),n.removeTarget=t,this.Ho(n)}}class Cx extends Ow{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(Ce(!!t.streamToken),this.lastStreamToken=t.streamToken,this.o_){this.Ko.reset();const n=UP(t.writeResults,t.commitTime),r=xn(t.commitTime);return this.listener.u_(r,n)}return Ce(!t.writeResults||t.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const t={};t.database=Tf(this.serializer),this.Ho(t)}a_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>jP(this.serializer,r))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.h_=!1}P_(){if(this.h_)throw new L(R.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(t,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Vo(t,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(R.UNKNOWN,i.toString())})}yo(t,n,r,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.yo(t,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(R.UNKNOWN,o.toString())})}terminate(){this.h_=!0}}class Px{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(t){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.R_("Offline")))}set(t){this.f_(),this.T_=0,t==="Online"&&(this.d_=!1),this.R_(t)}R_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}V_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(Yn(n),this.d_=!1):U("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=o,this.S_.Ys(s=>{r.enqueueAndForget(async()=>{Si(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ne(l);u.y_.add(4),await $a(u),u.b_.set("Unknown"),u.y_.delete(4),await Sc(u)}(this))})}),this.b_=new Px(r,i)}}async function Sc(e){if(Si(e))for(const t of e.w_)await t(!0)}async function $a(e){for(const t of e.w_)await t(!1)}function Mw(e,t){const n=ne(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),Rm(n)?Cm(n):$o(n).Uo()&&Sm(n,t))}function Vw(e,t){const n=ne(e),r=$o(n);n.p_.delete(t),r.Uo()&&Lw(n,t),n.p_.size===0&&(r.Uo()?r.zo():Si(n)&&n.b_.set("Unknown"))}function Sm(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$o(e).i_(t)}function Lw(e,t){e.D_.Be(t),$o(e).s_(t)}function Cm(e){e.D_=new NP({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.p_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),$o(e).start(),e.b_.A_()}function Rm(e){return Si(e)&&!$o(e).$o()&&e.p_.size>0}function Si(e){return ne(e).y_.size===0}function bw(e){e.D_=void 0}async function kx(e){e.p_.forEach((t,n)=>{Sm(e,t)})}async function Dx(e,t){bw(e),Rm(e)?(e.b_.m_(t),Cm(e)):e.b_.set("Unknown")}async function Nx(e,t,n){if(e.b_.set("Online"),t instanceof Iw&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.p_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.p_.delete(a),i.D_.removeTarget(a))}(e,t)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await xu(e,r)}else if(t instanceof $l?e.D_.We(t):t instanceof Tw?e.D_.Ze(t):e.D_.je(t),!n.isEqual(Z.min()))try{const r=await Dw(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.D_.st(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.p_.get(u);c&&o.p_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.p_.get(l);if(!c)return;o.p_.set(l,c.withResumeToken(It.EMPTY_BYTE_STRING,c.snapshotVersion)),Lw(o,l);const d=new hr(c.target,l,u,c.sequenceNumber);Sm(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await xu(e,r)}}async function xu(e,t,n){if(!La(t))throw t;e.y_.add(1),await $a(e),e.b_.set("Offline"),n||(n=()=>Dw(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),e.y_.delete(1),await Sc(e)})}function Fw(e,t){return t().catch(n=>xu(e,n,t))}async function Cc(e){const t=ne(e),n=Mr(t);let r=t.g_.length>0?t.g_[t.g_.length-1].batchId:-1;for(;Ox(t);)try{const i=await yx(t.localStore,r);if(i===null){t.g_.length===0&&n.zo();break}r=i.batchId,Mx(t,i)}catch(i){await xu(t,i)}$w(t)&&jw(t)}function Ox(e){return Si(e)&&e.g_.length<10}function Mx(e,t){e.g_.push(t);const n=Mr(e);n.Uo()&&n.__&&n.a_(t.mutations)}function $w(e){return Si(e)&&!Mr(e).$o()&&e.g_.length>0}function jw(e){Mr(e).start()}async function Vx(e){Mr(e).l_()}async function Lx(e){const t=Mr(e);for(const n of e.g_)t.a_(n.mutations)}async function bx(e,t,n){const r=e.g_.shift(),i=vm.from(r,t,n);await Fw(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Cc(e)}async function Fx(e,t){t&&Mr(e).__&&await async function(r,i){if(function(s){return xP(s)&&s!==R.ABORTED}(i.code)){const o=r.g_.shift();Mr(r).Go(),await Fw(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Cc(r)}}(e,t),$w(e)&&jw(e)}async function Ev(e,t){const n=ne(e);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=Si(n);n.y_.add(3),await $a(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.y_.delete(3),await Sc(n)}async function $x(e,t){const n=ne(e);t?(n.y_.delete(2),await Sc(n)):t||(n.y_.add(2),await $a(n),n.b_.set("Unknown"))}function $o(e){return e.v_||(e.v_=function(n,r,i){const o=ne(n);return o.P_(),new Sx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{_o:kx.bind(null,e),uo:Dx.bind(null,e),r_:Nx.bind(null,e)}),e.w_.push(async t=>{t?(e.v_.Go(),Rm(e)?Cm(e):e.b_.set("Unknown")):(await e.v_.stop(),bw(e))})),e.v_}function Mr(e){return e.C_||(e.C_=function(n,r,i){const o=ne(n);return o.P_(),new Cx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{_o:Vx.bind(null,e),uo:Fx.bind(null,e),c_:Lx.bind(null,e),u_:bx.bind(null,e)}),e.w_.push(async t=>{t?(e.C_.Go(),await Cc(e)):(await e.C_.stop(),e.g_.length>0&&(U("RemoteStore",`Stopping write stream with ${e.g_.length} pending writes`),e.g_=[]))})),e.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new Pm(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(R.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(e,t){if(Yn("AsyncQueue",`${t}: ${e}`),La(e))return new L(R.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t){this.comparator=t?(n,r)=>t(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=ms(),this.sortedSet=new Me(this.comparator)}static emptySet(t){return new lo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.F_=new Me(H.comparator)}track(t){const n=t.doc.key,r=this.F_.get(n);r?t.type!==0&&r.type===3?this.F_=this.F_.insert(n,t):t.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.F_=this.F_.remove(n):t.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):Q():this.F_=this.F_.insert(n,t)}M_(){const t=[];return this.F_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ro{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ro(t,n,lo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_c(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.x_=void 0,this.listeners=[]}}class Ux{constructor(){this.queries=new Fo(t=>lw(t),_c),this.onlineState="Unknown",this.O_=new Set}}async function Uw(e,t){const n=ne(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new jx),i)try{o.x_=await n.onListen(r)}catch(s){const a=xm(s,`Initialization of query '${vf(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,o),o.listeners.push(t),t.N_(n.onlineState),o.x_&&t.B_(o.x_)&&km(n)}async function Bw(e,t){const n=ne(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Bx(e,t){const n=ne(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.B_(i)&&(r=!0);s.x_=i}}r&&km(n)}function zx(e,t,n){const r=ne(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function km(e){e.O_.forEach(t=>{t.next()})}class zw{constructor(t,n,r){this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Ro(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.k_?this.Q_(t)&&(this.L_.next(t),n=!0):this.K_(t,this.onlineState)&&(this.U_(t),n=!0),this.q_=t,n}onError(t){this.L_.error(t)}N_(t){this.onlineState=t;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,t)&&(this.U_(this.q_),n=!0),n}K_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Q_(t){if(t.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(t){t=Ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.k_=!0,this.L_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this.key=t}}class qw{constructor(t){this.key=t}}class Hx{constructor(t,n){this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=oe(),this.mutatedKeys=oe(),this.na=uw(t),this.ra=new lo(this.na)}get ia(){return this.X_}sa(t,n){const r=n?n.oa:new wv,i=n?n.ra:this.ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),f=Ec(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;h&&f?h.data.isEqual(f.data)?y!==v&&(r.track({type:3,doc:f}),w=!0):this._a(h,f)||(r.track({type:2,doc:f}),w=!0,(l&&this.na(f,l)>0||u&&this.na(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),w=!0):h&&!f&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(f?(s=s.add(f),o=v?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ra:s,oa:r,zi:a,mutatedKeys:o}}_a(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ra;this.ra=t.ra,this.mutatedKeys=t.mutatedKeys;const o=t.oa.M_();o.sort((u,c)=>function(h,f){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return y(h)-y(f)}(u.type,c.type)||this.na(u.doc,c.doc)),this.aa(r);const s=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,o.length!==0||l?{snapshot:new Ro(this.query,t.ra,i,o,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:s}:{ca:s}}N_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new wv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(t){return!this.X_.has(t)&&!!this.ra.has(t)&&!this.ra.get(t).hasLocalMutations}aa(t){t&&(t.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=t.current)}ua(){if(!this.current)return[];const t=this.ta;this.ta=oe(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return t.forEach(r=>{this.ta.has(r)||n.push(new qw(r))}),this.ta.forEach(r=>{t.has(r)||n.push(new Hw(r))}),n}ha(t){this.X_=t.ss,this.ta=oe();const n=this.sa(t.documents);return this.applyChanges(n,!0)}Pa(){return Ro.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class qx{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Wx{constructor(t){this.key=t,this.Ia=!1}}class Kx{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ta={},this.Ea=new Fo(a=>lw(a),_c),this.da=new Map,this.Aa=new Set,this.Ra=new Me(H.comparator),this.Va=new Map,this.ma=new Tm,this.fa={},this.ga=new Map,this.pa=Co.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function Gx(e,t){const n=ik(e);let r,i;const o=n.Ea.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Pa();else{const s=await vx(n.localStore,Xn(t)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await Qx(n,t,r,a==="current",s.resumeToken),n.isPrimaryClient&&Mw(n.remoteStore,s)}return i}async function Qx(e,t,n,r,i){e.wa=(d,h,f)=>async function(v,w,m,g){let E=w.view.sa(m);E.zi&&(E=await yv(v.localStore,w.query,!1).then(({documents:C})=>w.view.sa(C,E)));const p=g&&g.targetChanges.get(w.targetId),T=w.view.applyChanges(E,v.isPrimaryClient,p);return Iv(v,w.targetId,T.ca),T.snapshot}(e,d,h,f);const o=await yv(e.localStore,t,!0),s=new Hx(t,o.ss),a=s.sa(o.documents),l=Fa.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);Iv(e,n,u.ca);const c=new qx(t,n,s);return e.Ea.set(t,c),e.da.has(n)?e.da.get(n).push(t):e.da.set(n,[t]),u.snapshot}async function Yx(e,t){const n=ne(e),r=n.Ea.get(t),i=n.da.get(r.targetId);if(i.length>1)return n.da.set(r.targetId,i.filter(o=>!_c(o,t))),void n.Ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await If(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Vw(n.remoteStore,r.targetId),Af(n,r.targetId)}).catch(Va)):(Af(n,r.targetId),await If(n.localStore,r.targetId,!0))}async function Xx(e,t,n){const r=ok(e);try{const i=await function(s,a){const l=ne(s),u=Ke.now(),c=a.reduce((f,y)=>f.add(y.key),oe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let y=Jn(),v=oe();return l.Xi.getEntries(f,c).next(w=>{y=w,y.forEach((m,g)=>{g.isValidDocument()||(v=v.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,y)).next(w=>{d=w;const m=[];for(const g of a){const E=AP(g,d.get(g.key).overlayedDocument);E!=null&&m.push(new Ur(g.key,E,ew(E.value.mapValue),mn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(w=>{h=w;const m=w.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(f,w.batchId,m)})}).then(()=>({batchId:h.batchId,changes:dw(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.fa[s.currentUser.toKey()];u||(u=new Me(he)),u=u.insert(a,l),s.fa[s.currentUser.toKey()]=u}(r,i.batchId,n),await ja(r,i.changes),await Cc(r.remoteStore)}catch(i){const o=xm(i,"Failed to persist write");n.reject(o)}}async function Ww(e,t){const n=ne(e);try{const r=await mx(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Va.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ia=!0:i.modifiedDocuments.size>0?Ce(s.Ia):i.removedDocuments.size>0&&(Ce(s.Ia),s.Ia=!1))}),await ja(n,r,t)}catch(r){await Va(r)}}function Tv(e,t,n){const r=ne(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ea.forEach((o,s)=>{const a=s.view.N_(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ne(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.N_(a)&&(u=!0)}),u&&km(l)}(r.eventManager,t),i.length&&r.Ta.r_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Jx(e,t,n){const r=ne(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Va.get(t),o=i&&i.key;if(o){let s=new Me(H.comparator);s=s.insert(o,yt.newNoDocument(o,Z.min()));const a=oe().add(o),l=new Ic(Z.min(),new Map,new Me(he),s,a);await Ww(r,l),r.Ra=r.Ra.remove(o),r.Va.delete(t),Dm(r)}else await If(r.localStore,t,!1).then(()=>Af(r,t,n)).catch(Va)}async function Zx(e,t){const n=ne(e),r=t.batch.batchId;try{const i=await px(n.localStore,t);Gw(n,r,null),Kw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ja(n,i)}catch(i){await Va(i)}}async function ek(e,t,n){const r=ne(e);try{const i=await function(s,a){const l=ne(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ce(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);Gw(r,t,n),Kw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ja(r,i)}catch(i){await Va(i)}}function Kw(e,t){(e.ga.get(t)||[]).forEach(n=>{n.resolve()}),e.ga.delete(t)}function Gw(e,t,n){const r=ne(e);let i=r.fa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.fa[r.currentUser.toKey()]=i}}function Af(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.da.get(t))e.Ea.delete(r),n&&e.Ta.Sa(r,n);e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach(r=>{e.ma.containsKey(r)||Qw(e,r)})}function Qw(e,t){e.Aa.delete(t.path.canonicalString());const n=e.Ra.get(t);n!==null&&(Vw(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),Dm(e))}function Iv(e,t,n){for(const r of n)r instanceof Hw?(e.ma.addReference(r.key,t),tk(e,r)):r instanceof qw?(U("SyncEngine","Document no longer in limbo: "+r.key),e.ma.removeReference(r.key,t),e.ma.containsKey(r.key)||Qw(e,r.key)):Q()}function tk(e,t){const n=t.key,r=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(r)||(U("SyncEngine","New document in limbo: "+n),e.Aa.add(r),Dm(e))}function Dm(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){const t=e.Aa.values().next().value;e.Aa.delete(t);const n=new H(Ae.fromString(t)),r=e.pa.next();e.Va.set(r,new Wx(n)),e.Ra=e.Ra.insert(n,r),Mw(e.remoteStore,new hr(Xn(yc(n.path)),r,"TargetPurposeLimboResolution",cm.ae))}}async function ja(e,t,n){const r=ne(e),i=[],o=[],s=[];r.Ea.isEmpty()||(r.Ea.forEach((a,l)=>{s.push(r.wa(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Am.qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Ta.r_(i),await async function(l,u){const c=ne(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>N.forEach(u,h=>N.forEach(h.Li,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>N.forEach(h.ki,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!La(d))throw d;U("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.Ji.get(h),y=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(y);c.Ji=c.Ji.insert(h,v)}}}(r.localStore,o))}async function nk(e,t){const n=ne(e);if(!n.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());const r=await kw(n.localStore,t);n.currentUser=t,function(o,s){o.ga.forEach(a=>{a.forEach(l=>{l.reject(new L(R.CANCELLED,s))})}),o.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ja(n,r.ts)}}function rk(e,t){const n=ne(e),r=n.Va.get(t);if(r&&r.Ia)return oe().add(r.key);{let i=oe();const o=n.da.get(t);if(!o)return i;for(const s of o){const a=n.Ea.get(s);i=i.unionWith(a.view.ia)}return i}}function ik(e){const t=ne(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ww.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jx.bind(null,t),t.Ta.r_=Bx.bind(null,t.eventManager),t.Ta.Sa=zx.bind(null,t.eventManager),t}function ok(e){const t=ne(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ek.bind(null,t),t}class Av{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Ac(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return fx(this.persistence,new dx,t.initialUser,this.serializer)}createPersistence(t){return new ux(Im.zr,this.serializer)}createSharedClientState(t){return new Ex}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sk{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Tv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nk.bind(null,this.syncEngine),await $x(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Ux}()}createDatastore(t){const n=Ac(t.databaseInfo.databaseId),r=function(o){return new Ax(o)}(t.databaseInfo);return function(o,s,a,l){return new Rx(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new xx(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Tv(this.syncEngine,n,0),function(){return _v.v()?new _v:new wx}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,c){const d=new Kx(i,o,s,a,l,u);return c&&(d.ya=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ne(n);U("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await $a(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.va(this.observer.next,t)}error(t){this.observer.error?this.va(this.observer.error,t):Yn("Uncaught Error in snapshot listener:",t.toString())}Ca(){this.muted=!0}va(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=XE.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{U("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=xm(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Fd(e,t){e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kw(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Sv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await uk(e);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Ev(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>Ev(t.remoteStore,o)),e._onlineComponents=t}function lk(e){return e.name==="FirebaseError"?e.code===R.FAILED_PRECONDITION||e.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function uk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!lk(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Fd(e,new Av)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await Fd(e,new Av);return e._offlineComponents}async function Xw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await Sv(e,e._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await Sv(e,new sk))),e._onlineComponents}function ck(e){return Xw(e).then(t=>t.syncEngine)}async function Sf(e){const t=await Xw(e),n=t.eventManager;return n.onListen=Gx.bind(null,t.syncEngine),n.onUnlisten=Yx.bind(null,t.syncEngine),n}function dk(e,t,n={}){const r=new Sr;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Yw({next:h=>{s.enqueueAndForget(()=>Bw(o,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new L(R.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new L(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new zw(yc(a.path),c,{includeMetadataChanges:!0,W_:!0});return Uw(o,d)}(await Sf(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(e,t,n){if(!n)throw new L(R.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function hk(e,t,n,r){if(t===!0&&r===!0)throw new L(R.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Rv(e){if(!H.isDocumentKey(e))throw new L(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Pv(e){if(H.isDocumentKey(e))throw new L(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Rc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q()}function kn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rc(e);throw new L(R.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new L(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new L(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jw((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pc{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new L(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LR;switch(r.type){case"firstParty":return new jR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Cv.get(n);r&&(U("ComponentProvider","Removing Datastore"),Cv.delete(n),r.terminate())}(this),Promise.resolve()}}function fk(e,t,n,r={}){var i;const o=(e=kn(e,Pc))._getSettings(),s=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mt.MOCK_USER;else{a=f2(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new L(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(u)}e._authCredentials=new bR(new YE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ci(this.firestore,t,this._query)}}class Rt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Rt(this.firestore,t,this._key)}}class Cr extends Ci{constructor(t,n,r){super(t,n,yc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Rt(this.firestore,null,new H(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function kv(e,t,...n){if(e=on(e),Zw("collection","path",t),e instanceof Pc){const r=Ae.fromString(t,...n);return Pv(r),new Cr(e,null,r)}{if(!(e instanceof Rt||e instanceof Cr))throw new L(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ae.fromString(t,...n));return Pv(r),new Cr(e.firestore,null,r)}}function Gr(e,t,...n){if(e=on(e),arguments.length===1&&(t=XE.V()),Zw("doc","path",t),e instanceof Pc){const r=Ae.fromString(t,...n);return Rv(r),new Rt(e,null,new H(r))}{if(!(e instanceof Rt||e instanceof Cr))throw new L(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ae.fromString(t,...n));return Rv(r),new Rt(e.firestore,e instanceof Cr?e.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new Nw(this,"async_queue_retry"),this.Xa=()=>{const n=bd();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const t=bd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.eu(),this.tu(t)}enterRestrictedMode(t){if(!this.za){this.za=!0,this.Ya=t||!1;const n=bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(t){if(this.eu(),this.za)return new Promise(()=>{});const n=new Sr;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ga.push(t),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(t){if(!La(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(t){const n=this.Wa.then(()=>(this.Ja=!0,t().catch(r=>{this.Ha=r,this.Ja=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Yn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(t,n,r){this.eu(),this.Za.indexOf(t)>-1&&(n=0);const i=Pm.createAndSchedule(this,t,n,r,o=>this.ru(o));return this.ja.push(i),i}eu(){this.Ha&&Q()}verifyOperationInProgress(){}async iu(){let t;do t=this.Wa,await t;while(t!==this.Wa)}su(t){for(const n of this.ja)if(n.timerId===t)return!0;return!1}ou(t){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.iu()})}_u(t){this.Za.push(t)}ru(t){const n=this.ja.indexOf(t);this.ja.splice(n,1)}}function Dv(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(e,["next","error","complete"])}class gi extends Pc{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new pk}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||eT(this),this._firestoreClient.terminate()}}function mk(e,t){const n=typeof e=="object"?e:q_(),r=typeof e=="string"?e:t||"(default)",i=Sa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=d2("firestore");o&&fk(i,...o)}return i}function Nm(e){return e._firestoreClient||eT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function eT(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,c){return new JR(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Jw(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ak(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Po(It.fromBase64String(t))}catch(n){throw new L(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Po(It.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new L(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new L(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new L(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return he(this._lat,t._lat)||he(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=/^__.*__$/;class yk{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ur(t,this.data,this.fieldMask,n,this.fieldTransforms):new ba(t,this.data,n,this.fieldTransforms)}}class tT{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ur(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function nT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Vm{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.au(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(t){return new Vm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.cu({path:r,hu:!1});return i.Pu(t),i}Iu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.cu({path:r,hu:!1});return i.au(),i}Tu(t){return this.cu({path:void 0,hu:!0})}Eu(t){return ku(t,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let t=0;t<this.path.length;t++)this.Pu(this.path.get(t))}Pu(t){if(t.length===0)throw this.Eu("Document fields must not be empty");if(nT(this.uu)&&gk.test(t))throw this.Eu('Document fields cannot begin and end with "__"')}}class vk{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ac(t)}Ru(t,n,r,i=!1){return new Vm({uu:t,methodName:n,Au:r,path:vt.emptyPath(),hu:!1,du:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(e){const t=e._freezeSettings(),n=Ac(e._databaseId);return new vk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _k(e,t,n,r,i,o={}){const s=e.Ru(o.merge||o.mergeFields?2:0,t,n,i);bm("Data must be an object, but it was:",s,r);const a=rT(r,s);let l,u;if(o.merge)l=new Ut(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=Cf(t,d,n);if(!s.contains(h))throw new L(R.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);oT(c,h)||c.push(h)}l=new Ut(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new yk(new Nt(a),l,u)}class kc extends Om{_toFieldTransform(t){if(t.uu!==2)throw t.uu===1?t.Eu(`${this._methodName}() can only appear at the top level of your update data`):t.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kc}}function Ek(e,t,n,r){const i=e.Ru(1,t,n);bm("Data must be an object, but it was:",i,r);const o=[],s=Nt.empty();Ai(r,(l,u)=>{const c=Fm(t,l,n);u=on(u);const d=i.Iu(c);if(u instanceof kc)o.push(c);else{const h=Ua(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new Ut(o);return new tT(s,a,i.fieldTransforms)}function wk(e,t,n,r,i,o){const s=e.Ru(1,t,n),a=[Cf(t,r,n)],l=[i];if(o.length%2!=0)throw new L(R.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Cf(t,o[h])),l.push(o[h+1]);const u=[],c=Nt.empty();for(let h=a.length-1;h>=0;--h)if(!oT(u,a[h])){const f=a[h];let y=l[h];y=on(y);const v=s.Iu(f);if(y instanceof kc)u.push(f);else{const w=Ua(y,v);w!=null&&(u.push(f),c.set(f,w))}}const d=new Ut(u);return new tT(c,d,s.fieldTransforms)}function Tk(e,t,n,r=!1){return Ua(n,e.Ru(r?4:3,t))}function Ua(e,t){if(iT(e=on(e)))return bm("Unsupported field value:",t,e),rT(e,t);if(e instanceof Om)return function(r,i){if(!nT(i.uu))throw i.Eu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Eu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&t.uu!==4)throw t.Eu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Ua(a,i.Tu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ke.fromDate(r);return{timestampValue:Pu(i.serializer,o)}}if(r instanceof Ke){const o=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pu(i.serializer,o)}}if(r instanceof Mm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Po)return{bytesValue:Aw(i.serializer,r._byteString)};if(r instanceof Rt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Eu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Eu(`Unsupported field value: ${Rc(r)}`)}(e,t)}function rT(e,t){const n={};return JE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ai(e,(r,i)=>{const o=Ua(i,t.lu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function iT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ke||e instanceof Mm||e instanceof Po||e instanceof Rt||e instanceof Om)}function bm(e,t,n){if(!iT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Rc(n);throw r==="an object"?t.Eu(e+" a custom object"):t.Eu(e+" "+r)}}function Cf(e,t,n){if((t=on(t))instanceof xc)return t._internalPath;if(typeof t=="string")return Fm(e,t);throw ku("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ik=new RegExp("[~\\*/\\[\\]]");function Fm(e,t,n){if(t.search(Ik)>=0)throw ku(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new xc(...t.split("."))._internalPath}catch{throw ku(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ku(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new L(R.INVALID_ARGUMENT,a+e+l)}function oT(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ak(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field($m("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ak extends sT{data(){return super.data()}}function $m(e,t){return typeof t=="string"?Fm(e,t):t instanceof xc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new L(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jm{}class aT extends jm{}function Ck(e,t,...n){let r=[];t instanceof jm&&r.push(t),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Bm).length,a=o.filter(l=>l instanceof Um).length;if(s>1||s>0&&a>0)throw new L(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Um extends aT{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Um(t,n,r)}_apply(t){const n=this._parse(t);return lT(t._query,n),new Ci(t.firestore,t.converter,gf(t._query,n))}_parse(t){const n=Lm(t.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new L(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Ov(d,c);const f=[];for(const y of d)f.push(Nv(l,o,y));h={arrayValue:{values:f}}}else h=Nv(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Ov(d,c),h=Tk(a,s,d,c==="in"||c==="not-in");return We.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Bm extends jm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Bm(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)lT(s,l),s=gf(s,l)}(t._query,n),new Ci(t.firestore,t.converter,gf(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zm extends aT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new zm(t,n)}_apply(t){const n=function(i,o,s){if(i.startAt!==null)throw new L(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new so(o,s);return function(u,c){if(gm(u)===null){const d=vc(u);d!==null&&uT(u,d,c.field)}}(i,a),a}(t._query,this._field,this._direction);return new Ci(t.firestore,t.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new bo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Rk(e,t="asc"){const n=t,r=$m("orderBy",e);return zm._create(r,n)}function Nv(e,t,n){if(typeof(n=on(n))=="string"){if(n==="")throw new L(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aw(t)&&n.indexOf("/")!==-1)throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ae.fromString(n));if(!H.isDocumentKey(r))throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ev(e,new H(r))}if(n instanceof Rt)return ev(e,n._key);throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rc(n)}.`)}function Ov(e,t){if(!Array.isArray(e)||e.length===0)throw new L(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lT(e,t){if(t.isInequality()){const r=vc(e),i=t.field;if(r!==null&&!r.isEqual(i))throw new L(R.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=gm(e);o!==null&&uT(e,i,o)}const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new L(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new L(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function uT(e,t,n){if(!n.isEqual(t))throw new L(R.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Pk{convertValue(t,n="none"){switch(mi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return He(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(pi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Q()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ai(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new Mm(He(t.latitude),He(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=hm(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(da(t));default:return null}}convertTimestamp(t){const n=Or(t);return new Ke(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ae.fromString(t);Ce(xw(r));const i=new ha(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||Yn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cT extends sT{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field($m("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jl extends cT{data(t={}){return super.data(t)}}class kk{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ys(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new jl(this._firestore,this._userDataWriter,r.key,r,new ys(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new jl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ys(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new jl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ys(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Dk(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Dk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(e){e=kn(e,Rt);const t=kn(e.firestore,gi);return dk(Nm(t),e._key).then(n=>hT(t,e,n))}class dT extends Pk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Po(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function ts(e,t,n,...r){e=kn(e,Rt);const i=kn(e.firestore,gi),o=Lm(i);let s;return s=typeof(t=on(t))=="string"||t instanceof xc?wk(o,"updateDoc",e._key,t,n,r):Ek(o,"updateDoc",e._key,t),Hm(i,[s.toMutation(e._key,mn.exists(!0))])}function Ok(e){return Hm(kn(e.firestore,gi),[new ym(e._key,mn.none())])}function Mk(e,t){const n=kn(e.firestore,gi),r=Gr(e),i=xk(e.converter,t);return Hm(n,[_k(Lm(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,mn.exists(!1))]).then(()=>r)}function Vk(e,...t){var n,r,i;e=on(e);let o={includeMetadataChanges:!1},s=0;typeof t[s]!="object"||Dv(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Dv(t[s])){const d=t[s];t[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof Rt)u=kn(e.firestore,gi),c=yc(e._key.path),l={next:d=>{t[s]&&t[s](hT(u,e,d))},error:t[s+1],complete:t[s+2]};else{const d=kn(e,Ci);u=kn(d.firestore,gi),c=d._query;const h=new dT(u);l={next:f=>{t[s]&&t[s](new kk(u,h,d,f))},error:t[s+1],complete:t[s+2]},Sk(e._query)}return function(h,f,y,v){const w=new Yw(v),m=new zw(f,w,y);return h.asyncQueue.enqueueAndForget(async()=>Uw(await Sf(h),m)),()=>{w.Ca(),h.asyncQueue.enqueueAndForget(async()=>Bw(await Sf(h),m))}}(Nm(u),c,a,l)}function Hm(e,t){return function(r,i){const o=new Sr;return r.asyncQueue.enqueueAndForget(async()=>Xx(await ck(r),i,o)),o.promise}(Nm(e),t)}function hT(e,t,n){const r=n.docs.get(t._key),i=new dT(e);return new cT(e,i,t._key,r,new ys(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){Lo=i})(_C),Dr(new Gn("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new gi(new FR(r.getProvider("auth-internal")),new BR(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new L(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ha(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pn(Qy,"4.1.0",t),Pn(Qy,"4.1.0","esm2017")})();var Lk="firebase",bk="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(Lk,bk,"app");const Fk=(e,t)=>t.some(n=>e instanceof n);let Mv,Vv;function $k(){return Mv||(Mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jk(){return Vv||(Vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fT=new WeakMap,Rf=new WeakMap,pT=new WeakMap,$d=new WeakMap,qm=new WeakMap;function Uk(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Rr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&fT.set(n,e)}).catch(()=>{}),qm.set(t,e),t}function Bk(e){if(Rf.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Rf.set(e,t)}let Pf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Rf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||pT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function zk(e){Pf=e(Pf)}function Hk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(jd(this),t,...n);return pT.set(r,t.sort?t.sort():[t]),Rr(r)}:jk().includes(e)?function(...t){return e.apply(jd(this),t),Rr(fT.get(this))}:function(...t){return Rr(e.apply(jd(this),t))}}function qk(e){return typeof e=="function"?Hk(e):(e instanceof IDBTransaction&&Bk(e),Fk(e,$k())?new Proxy(e,Pf):e)}function Rr(e){if(e instanceof IDBRequest)return Uk(e);if($d.has(e))return $d.get(e);const t=qk(e);return t!==e&&($d.set(e,t),qm.set(t,e)),t}const jd=e=>qm.get(e);function Wk(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Rr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Rr(s.result),l.oldVersion,l.newVersion,Rr(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const Kk=["get","getKey","getAll","getAllKeys","count"],Gk=["put","add","delete","clear"],Ud=new Map;function Lv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Gk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Kk.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ud.set(t,o),o}zk(e=>({...e,get:(t,n,r)=>Lv(t,n)||e.get(t,n,r),has:(t,n)=>!!Lv(t,n)||e.has(t,n)}));const mT="@firebase/installations",Wm="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=1e4,yT=`w:${Wm}`,vT="FIS_v2",Qk="https://firebaseinstallations.googleapis.com/v1",Yk=60*60*1e3,Xk="installations",Jk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yi=new ec(Xk,Jk,Zk);function _T(e){return e instanceof Fr&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET({projectId:e}){return`${Qk}/projects/${e}/installations`}function wT(e){return{token:e.token,requestStatus:2,expiresIn:t4(e.expiresIn),creationTime:Date.now()}}async function TT(e,t){const r=(await t.json()).error;return yi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function IT({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function e4(e,{refreshToken:t}){const n=IT(e);return n.append("Authorization",n4(t)),n}async function AT(e){const t=await e();return t.status>=500&&t.status<600?e():t}function t4(e){return Number(e.replace("s","000"))}function n4(e){return`${vT} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=ET(e),i=IT(e),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:vT,appId:e.appId,sdkVersion:yT},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await AT(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:wT(u.authToken)}}else throw await TT("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=/^[cdef][\w-]{21}$/,xf="";function s4(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=a4(e);return o4.test(n)?n:xf}catch{return xf}}function a4(e){return i4(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;function RT(e,t){const n=Dc(e);PT(n,t),l4(n,t)}function PT(e,t){const n=CT.get(e);if(n)for(const r of n)r(t)}function l4(e,t){const n=u4();n&&n.postMessage({key:e,fid:t}),c4()}let ni=null;function u4(){return!ni&&"BroadcastChannel"in self&&(ni=new BroadcastChannel("[Firebase] FID Change"),ni.onmessage=e=>{PT(e.data.key,e.data.fid)}),ni}function c4(){CT.size===0&&ni&&(ni.close(),ni=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="firebase-installations-database",h4=1,vi="firebase-installations-store";let Bd=null;function Km(){return Bd||(Bd=Wk(d4,h4,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(vi)}}})),Bd}async function Du(e,t){const n=Dc(e),i=(await Km()).transaction(vi,"readwrite"),o=i.objectStore(vi),s=await o.get(n);return await o.put(t,n),await i.done,(!s||s.fid!==t.fid)&&RT(e,t.fid),t}async function xT(e){const t=Dc(e),r=(await Km()).transaction(vi,"readwrite");await r.objectStore(vi).delete(t),await r.done}async function Nc(e,t){const n=Dc(e),i=(await Km()).transaction(vi,"readwrite"),o=i.objectStore(vi),s=await o.get(n),a=t(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&RT(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gm(e){let t;const n=await Nc(e.appConfig,r=>{const i=f4(r),o=p4(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===xf?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function f4(e){const t=e||{fid:s4(),registrationStatus:0};return kT(t)}function p4(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(yi.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=m4(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:g4(e)}:{installationEntry:t}}async function m4(e,t){try{const n=await r4(e,t);return Du(e.appConfig,n)}catch(n){throw _T(n)&&n.customData.serverCode===409?await xT(e.appConfig):await Du(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function g4(e){let t=await bv(e.appConfig);for(;t.registrationStatus===1;)await ST(100),t=await bv(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Gm(e);return r||n}return t}function bv(e){return Nc(e,t=>{if(!t)throw yi.create("installation-not-found");return kT(t)})}function kT(e){return y4(e)?{fid:e.fid,registrationStatus:0}:e}function y4(e){return e.registrationStatus===1&&e.registrationTime+gT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4({appConfig:e,heartbeatServiceProvider:t},n){const r=_4(e,n),i=e4(e,n),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:yT,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await AT(()=>fetch(r,a));if(l.ok){const u=await l.json();return wT(u)}else throw await TT("Generate Auth Token",l)}function _4(e,{fid:t}){return`${ET(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qm(e,t=!1){let n;const r=await Nc(e.appConfig,o=>{if(!DT(o))throw yi.create("not-registered");const s=o.authToken;if(!t&&T4(s))return o;if(s.requestStatus===1)return n=E4(e,t),o;{if(!navigator.onLine)throw yi.create("app-offline");const a=A4(o);return n=w4(e,a),a}});return n?await n:r.authToken}async function E4(e,t){let n=await Fv(e.appConfig);for(;n.authToken.requestStatus===1;)await ST(100),n=await Fv(e.appConfig);const r=n.authToken;return r.requestStatus===0?Qm(e,t):r}function Fv(e){return Nc(e,t=>{if(!DT(t))throw yi.create("not-registered");const n=t.authToken;return S4(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function w4(e,t){try{const n=await v4(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Du(e.appConfig,r),n}catch(n){if(_T(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await xT(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Du(e.appConfig,r)}throw n}}function DT(e){return e!==void 0&&e.registrationStatus===2}function T4(e){return e.requestStatus===2&&!I4(e)}function I4(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Yk}function A4(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function S4(e){return e.requestStatus===1&&e.requestTime+gT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(e){const t=e,{installationEntry:n,registrationPromise:r}=await Gm(t);return r?r.catch(console.error):Qm(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(e,t=!1){const n=e;return await P4(n),(await Qm(n,t)).token}async function P4(e){const{registrationPromise:t}=await Gm(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(e){if(!e||!e.options)throw zd("App Configuration");if(!e.name)throw zd("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw zd(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function zd(e){return yi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="installations",k4="installations-internal",D4=e=>{const t=e.getProvider("app").getImmediate(),n=x4(t),r=Sa(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},N4=e=>{const t=e.getProvider("app").getImmediate(),n=Sa(t,NT).getImmediate();return{getId:()=>C4(n),getToken:i=>R4(n,i)}};function O4(){Dr(new Gn(NT,D4,"PUBLIC")),Dr(new Gn(k4,N4,"PRIVATE"))}O4();Pn(mT,Wm);Pn(mT,Wm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="analytics",M4="firebase_id",V4="origin",L4=60*1e3,b4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ym="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft=new $p("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zt=new ec("analytics","Analytics",F4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(e){if(!e.startsWith(Ym)){const t=zt.create("invalid-gtag-resource",{gtagURL:e});return Ft.warn(t.message),""}return e}function OT(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function j4(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function U4(e,t){const n=j4("firebase-js-sdk-policy",{createScriptURL:$4}),r=document.createElement("script"),i=`${Ym}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function B4(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function z4(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const l=(await OT(n)).find(u=>u.measurementId===i);l&&await t[l.appId]}}catch(a){Ft.error(a)}e("config",i,o)}async function H4(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await OT(n);for(const l of s){const u=a.find(d=>d.measurementId===l),c=u&&t[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){Ft.error(o)}}function q4(e,t,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await H4(e,t,n,a,l)}else if(o==="config"){const[a,l]=s;await z4(e,t,n,r,a,l)}else if(o==="consent"){const[a]=s;e("consent","update",a)}else if(o==="get"){const[a,l,u]=s;e("get",a,l,u)}else if(o==="set"){const[a]=s;e("set",a)}else e(o,...s)}catch(a){Ft.error(a)}}return i}function W4(e,t,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=q4(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function K4(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ym)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=30,Q4=1e3;class Y4{constructor(t={},n=Q4){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const MT=new Y4;function X4(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function J4(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:X4(r)},o=b4.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw zt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function Z4(e,t=MT,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw zt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw zt.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new nD;return setTimeout(async()=>{a.abort()},n!==void 0?n:L4),VT({appId:r,apiKey:i,measurementId:o},s,a,t)}async function VT(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=MT){var o;const{appId:s,measurementId:a}=e;try{await eD(r,t)}catch(l){if(a)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await J4(e);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!tD(u)){if(i.deleteThrottleMetadata(s),a)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?Ry(n,i.intervalMillis,G4):Ry(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),Ft.debug(`Calling attemptFetch again in ${c} millis`),VT(e,d,r,i)}}function eD(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(zt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function tD(e){if(!(e instanceof Fr)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class nD{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function rD(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const o=await t,s=Object.assign(Object.assign({},r),{send_to:o});e("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(){if(j_())try{await U_()}catch(e){return Ft.warn(zt.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ft.warn(zt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function oD(e,t,n,r,i,o,s){var a;const l=Z4(e);l.then(f=>{n[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ft.error(f)),t.push(l);const u=iD().then(f=>{if(f)return r.getId()}),[c,d]=await Promise.all([l,u]);K4(o)||U4(o,c.measurementId),i("js",new Date);const h=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return h[V4]="firebase",h.update=!0,d!=null&&(h[M4]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t){this.app=t}_delete(){return delete Ms[this.app.options.appId],Promise.resolve()}}let Ms={},$v=[];const jv={};let Hd="dataLayer",aD="gtag",Uv,LT,Bv=!1;function lD(){const e=[];if(p2()&&e.push("This is a browser extension environment."),m2()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=zt.create("invalid-analytics-context",{errorInfo:t});Ft.warn(n.message)}}function uD(e,t,n){lD();const r=e.options.appId;if(!r)throw zt.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zt.create("no-api-key");if(Ms[r]!=null)throw zt.create("already-exists",{id:r});if(!Bv){B4(Hd);const{wrappedGtag:o,gtagCore:s}=W4(Ms,$v,jv,Hd,aD);LT=o,Uv=s,Bv=!0}return Ms[r]=oD(e,$v,jv,t,Uv,Hd,n),new sD(e)}function cD(e=q_()){e=on(e);const t=Sa(e,Nu);return t.isInitialized()?t.getImmediate():dD(e)}function dD(e,t={}){const n=Sa(e,Nu);if(n.isInitialized()){const i=n.getImmediate();if(mu(t,n.getOptions()))return i;throw zt.create("already-initialized")}return n.initialize({options:t})}function hD(e,t,n,r){e=on(e),rD(LT,Ms[e.app.options.appId],t,n,r).catch(i=>Ft.error(i))}const zv="@firebase/analytics",Hv="0.10.0";function fD(){Dr(new Gn(Nu,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return uD(r,i,n)},"PUBLIC")),Dr(new Gn("analytics-internal",e,"PRIVATE")),Pn(zv,Hv),Pn(zv,Hv,"esm2017");function e(t){try{const n=t.getProvider(Nu).getImmediate();return{logEvent:(r,i,o)=>hD(n,r,i,o)}}catch(n){throw zt.create("interop-component-reg-failed",{reason:n})}}}fD();const pD={apiKey:"AIzaSyAsZYG3m1z4W_PBm8fpyFeWV8W08Preo64",authDomain:"db-firebase-3a72a.firebaseapp.com",projectId:"db-firebase-3a72a",storageBucket:"db-firebase-3a72a.appspot.com",messagingSenderId:"351907880508",appId:"1:351907880508:web:b781914dc49dfd7937ad39",measurementId:"G-CXS05HX2T1"},bT=H_(pD);cD(bT);const or=mk(bT);function FT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=FT(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function fr(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=FT(e))&&(r&&(r+=" "),r+=t);return r}const Vs=e=>typeof e=="number"&&!isNaN(e),_i=e=>typeof e=="string",Mt=e=>typeof e=="function",Ul=e=>_i(e)||Mt(e)?e:null,qd=e=>I.isValidElement(e)||_i(e)||Mt(e)||Vs(e);function mD(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Oc(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(s){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:h}=s;const f=r?`${t}--${l}`:t,y=r?`${n}--${l}`:n,v=I.useRef(0);return I.useLayoutEffect(()=>{const w=d.current,m=f.split(" "),g=E=>{E.target===d.current&&(w.dispatchEvent(new Event("d")),w.removeEventListener("animationend",g),w.removeEventListener("animationcancel",g),v.current===0&&E.type!=="animationcancel"&&w.classList.remove(...m))};w.classList.add(...m),w.addEventListener("animationend",g),w.addEventListener("animationcancel",g)},[]),I.useEffect(()=>{const w=d.current,m=()=>{w.removeEventListener("animationend",m),i?mD(w,c,o):c()};h||(u?m():(v.current=1,w.className+=` ${y}`,w.addEventListener("animationend",m)))},[h]),re.createElement(re.Fragment,null,a)}}function qv(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Yt={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},_l=e=>{let{theme:t,type:n,...r}=e;return re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Wd={info:function(e){return re.createElement(_l,{...e},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return re.createElement(_l,{...e},re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return re.createElement(_l,{...e},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return re.createElement(_l,{...e},re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return re.createElement("div",{className:"Toastify__spinner"})}};function gD(e){const[,t]=I.useReducer(f=>f+1,0),[n,r]=I.useState([]),i=I.useRef(null),o=I.useRef(new Map).current,s=f=>n.indexOf(f)!==-1,a=I.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:s,getToast:f=>o.get(f)}).current;function l(f){let{containerId:y}=f;const{limit:v}=a.props;!v||y&&a.containerId!==y||(a.count-=a.queue.length,a.queue=[])}function u(f){r(y=>f==null?[]:y.filter(v=>v!==f))}function c(){const{toastContent:f,toastProps:y,staleId:v}=a.queue.shift();h(f,y,v)}function d(f,y){let{delay:v,staleId:w,...m}=y;if(!qd(f)||function(q){return!i.current||a.props.enableMultiContainer&&q.containerId!==a.props.containerId||o.has(q.toastId)&&q.updateId==null}(m))return;const{toastId:g,updateId:E,data:p}=m,{props:T}=a,C=()=>u(g),P=E==null;P&&a.count++;const x={...T,style:T.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(m).filter(q=>{let[M,G]=q;return G!=null})),toastId:g,updateId:E,data:p,closeToast:C,isIn:!1,className:Ul(m.className||T.toastClassName),bodyClassName:Ul(m.bodyClassName||T.bodyClassName),progressClassName:Ul(m.progressClassName||T.progressClassName),autoClose:!m.isLoading&&(j=m.autoClose,F=T.autoClose,j===!1||Vs(j)&&j>0?j:F),deleteToast(){const q=qv(o.get(g),"removed");o.delete(g),Yt.emit(4,q);const M=a.queue.length;if(a.count=g==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),M>0){const G=g==null?a.props.limit:1;if(M===1||G===1)a.displayedToast++,c();else{const Je=G>M?M:G;a.displayedToast=Je;for(let de=0;de<Je;de++)c()}}else t()}};var j,F;x.iconOut=function(q){let{theme:M,type:G,isLoading:Je,icon:de}=q,je=null;const O={theme:M,type:G};return de===!1||(Mt(de)?je=de(O):I.isValidElement(de)?je=I.cloneElement(de,O):_i(de)||Vs(de)?je=de:Je?je=Wd.spinner():(z=>z in Wd)(G)&&(je=Wd[G](O))),je}(x),Mt(m.onOpen)&&(x.onOpen=m.onOpen),Mt(m.onClose)&&(x.onClose=m.onClose),x.closeButton=T.closeButton,m.closeButton===!1||qd(m.closeButton)?x.closeButton=m.closeButton:m.closeButton===!0&&(x.closeButton=!qd(T.closeButton)||T.closeButton);let ue=f;I.isValidElement(f)&&!_i(f.type)?ue=I.cloneElement(f,{closeToast:C,toastProps:x,data:p}):Mt(f)&&(ue=f({closeToast:C,toastProps:x,data:p})),T.limit&&T.limit>0&&a.count>T.limit&&P?a.queue.push({toastContent:ue,toastProps:x,staleId:w}):Vs(v)?setTimeout(()=>{h(ue,x,w)},v):h(ue,x,w)}function h(f,y,v){const{toastId:w}=y;v&&o.delete(v);const m={content:f,props:y};o.set(w,m),r(g=>[...g,w].filter(E=>E!==v)),Yt.emit(4,qv(m,m.props.updateId==null?"added":"updated"))}return I.useEffect(()=>(a.containerId=e.containerId,Yt.cancelEmit(3).on(0,d).on(1,f=>i.current&&u(f)).on(5,l).emit(2,a),()=>{o.clear(),Yt.emit(3,a)}),[]),I.useEffect(()=>{a.props=e,a.isToastActive=s,a.displayedToast=n.length}),{getToastToRender:function(f){const y=new Map,v=Array.from(o.values());return e.newestOnTop&&v.reverse(),v.forEach(w=>{const{position:m}=w.props;y.has(m)||y.set(m,[]),y.get(m).push(w)}),Array.from(y,w=>f(w[0],w[1]))},containerRef:i,isToastActive:s}}function Wv(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Kv(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function yD(e){const[t,n]=I.useState(!1),[r,i]=I.useState(!1),o=I.useRef(null),s=I.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=I.useRef(e),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:h}=e;function f(p){if(e.draggable){p.nativeEvent.type==="touchstart"&&p.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",m),document.addEventListener("mouseup",g),document.addEventListener("touchmove",m),document.addEventListener("touchend",g);const T=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=T.getBoundingClientRect(),T.style.transition="",s.x=Wv(p.nativeEvent),s.y=Kv(p.nativeEvent),e.draggableDirection==="x"?(s.start=s.x,s.removalDistance=T.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=T.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(p){if(s.boundingRect){const{top:T,bottom:C,left:P,right:x}=s.boundingRect;p.nativeEvent.type!=="touchend"&&e.pauseOnHover&&s.x>=P&&s.x<=x&&s.y>=T&&s.y<=C?w():v()}}function v(){n(!0)}function w(){n(!1)}function m(p){const T=o.current;s.canDrag&&T&&(s.didMove=!0,t&&w(),s.x=Wv(p),s.y=Kv(p),s.delta=e.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),T.style.transform=`translate${e.draggableDirection}(${s.delta}px)`,T.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function g(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",g);const p=o.current;if(s.canDrag&&s.didMove&&p){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),void e.closeToast();p.style.transition="transform 0.2s, opacity 0.2s",p.style.transform=`translate${e.draggableDirection}(0)`,p.style.opacity="1"}}I.useEffect(()=>{a.current=e}),I.useEffect(()=>(o.current&&o.current.addEventListener("d",v,{once:!0}),Mt(e.onOpen)&&e.onOpen(I.isValidElement(e.children)&&e.children.props),()=>{const p=a.current;Mt(p.onClose)&&p.onClose(I.isValidElement(p.children)&&p.children.props)}),[]),I.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",v),window.addEventListener("blur",w)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",v),window.removeEventListener("blur",w))}),[e.pauseOnFocusLoss]);const E={onMouseDown:f,onTouchStart:f,onMouseUp:y,onTouchEnd:y};return l&&u&&(E.onMouseEnter=w,E.onMouseLeave=v),h&&(E.onClick=p=>{d&&d(p),s.canCloseOnClick&&c()}),{playToast:v,pauseToast:w,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:E}}function $T(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function vD(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:h}=e;const f=o||l&&u===0,y={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:f?0:1};l&&(y.transform=`scaleX(${u})`);const v=fr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),w=Mt(s)?s({rtl:c,type:i,defaultClassName:v}):fr(v,s);return re.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:w,style:y,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&r()}})}const _D=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=yD(e),{closeButton:o,children:s,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:d,transition:h,position:f,className:y,style:v,bodyClassName:w,bodyStyle:m,progressClassName:g,progressStyle:E,updateId:p,role:T,progress:C,rtl:P,toastId:x,deleteToast:j,isIn:F,isLoading:ue,iconOut:q,closeOnClick:M,theme:G}=e,Je=fr("Toastify__toast",`Toastify__toast-theme--${G}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":M}),de=Mt(y)?y({rtl:P,position:f,type:u,defaultClassName:Je}):fr(Je,y),je=!!C||!a,O={closeToast:d,type:u,theme:G};let z=null;return o===!1||(z=Mt(o)?o(O):I.isValidElement(o)?I.cloneElement(o,O):$T(O)),re.createElement(h,{isIn:F,done:j,position:f,preventExitTransition:n,nodeRef:r},re.createElement("div",{id:x,onClick:l,className:de,...i,style:v,ref:r},re.createElement("div",{...F&&{role:T},className:Mt(w)?w({type:u}):fr("Toastify__toast-body",w),style:m},q!=null&&re.createElement("div",{className:fr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ue})},q),re.createElement("div",null,s)),z,re.createElement(vD,{...p&&!je?{key:`pb-${p}`}:{},rtl:P,theme:G,delay:a,isRunning:t,isIn:F,closeToast:d,hide:c,type:u,style:E,className:g,controlledProgress:je,progress:C||0})))},Mc=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},ED=Oc(Mc("bounce",!0));Oc(Mc("slide",!0));Oc(Mc("zoom"));Oc(Mc("flip"));const kf=I.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=gD(e),{className:o,style:s,rtl:a,containerId:l}=e;function u(c){const d=fr("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return Mt(o)?o({position:c,rtl:a,defaultClassName:d}):fr(d,Ul(o))}return I.useEffect(()=>{t&&(t.current=r.current)},[]),re.createElement("div",{ref:r,className:"Toastify",id:l},n((c,d)=>{const h=d.length?{...s}:{...s,pointerEvents:"none"};return re.createElement("div",{className:u(c),style:h,key:`container-${c}`},d.map((f,y)=>{let{content:v,props:w}=f;return re.createElement(_D,{...w,isIn:i(w.toastId),style:{...w.style,"--nth":y+1,"--len":d.length},key:`toast-${w.key}`},v)}))}))});kf.displayName="ToastContainer",kf.defaultProps={position:"top-right",transition:ED,autoClose:5e3,closeButton:$T,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Kd,Kr=new Map,vs=[],wD=1;function jT(){return""+wD++}function TD(e){return e&&(_i(e.toastId)||Vs(e.toastId))?e.toastId:jT()}function Ls(e,t){return Kr.size>0?Yt.emit(0,e,t):vs.push({content:e,options:t}),t.toastId}function Ou(e,t){return{...t,type:t&&t.type||e,toastId:TD(t)}}function El(e){return(t,n)=>Ls(t,Ou(e,n))}function Re(e,t){return Ls(e,Ou("default",t))}Re.loading=(e,t)=>Ls(e,Ou("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Re.promise=function(e,t,n){let r,{pending:i,error:o,success:s}=t;i&&(r=_i(i)?Re.loading(i,n):Re.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,d,h)=>{if(d==null)return void Re.dismiss(r);const f={type:c,...a,...n,data:h},y=_i(d)?{render:d}:d;return r?Re.update(r,{...f,...y}):Re(y.render,{...f,...y}),h},u=Mt(e)?e():e;return u.then(c=>l("success",s,c)).catch(c=>l("error",o,c)),u},Re.success=El("success"),Re.info=El("info"),Re.error=El("error"),Re.warning=El("warning"),Re.warn=Re.warning,Re.dark=(e,t)=>Ls(e,Ou("default",{theme:"dark",...t})),Re.dismiss=e=>{Kr.size>0?Yt.emit(1,e):vs=vs.filter(t=>e!=null&&t.options.toastId!==e)},Re.clearWaitingQueue=function(e){return e===void 0&&(e={}),Yt.emit(5,e)},Re.isActive=e=>{let t=!1;return Kr.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Re.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:o}=i;const s=Kr.get(o||Kd);return s&&s.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:jT()};o.toastId!==e&&(o.staleId=e);const s=o.render||i;delete o.render,Ls(s,o)}},0)},Re.done=e=>{Re.update(e,{progress:1})},Re.onChange=e=>(Yt.on(4,e),()=>{Yt.off(4,e)}),Re.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Re.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Yt.on(2,e=>{Kd=e.containerId||e,Kr.set(Kd,e),vs.forEach(t=>{Yt.emit(0,t.content,t.options)}),vs=[]}).on(3,e=>{Kr.delete(e.containerId||e),Kr.size===0&&Yt.off(0).off(1).off(5)});const Qr=(e,t)=>{Re(e,{type:t,position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})};function UT(){window.scrollTo({top:0})}const BT=(e,t)=>e.name.toLowerCase().includes(t)||e.name.includes(t)||e.name.toLocaleUpperCase().includes(t)||e.category.toLowerCase().includes(t)||e.category.includes(t)||e.category.toLocaleUpperCase().includes(t)||e.date.toLowerCase().includes(t)||e.date.includes(t)||e.date.toLocaleUpperCase().includes(t),zT=I.createContext(),Ri=()=>{const e=I.useContext(zT);if(!e)throw new Error("useProducts must be used within a ProductProvider");return e};function ID({children:e}){const[t,n]=I.useState([]),[r,i]=I.useState(""),[o,s]=I.useState([]),[a,l]=I.useState([]),[u,c]=I.useState([]),[d,h]=I.useState(!0),f=async p=>{try{if(r==="")await Mk(kv(or,"products"),p),Qr("Producto guardado correctamente!!","success");else{const T=Gr(or,"products",r);await ts(T,p),Qr("Producto actualizado correctamente!!","success"),i("")}}catch(T){console.log(T)}},y=async p=>{try{await Ok(Gr(or,"products",p)),Qr("Producto borrado correctamente!!","success")}catch(T){console.log(T)}},v=async(p,T)=>{try{const C=Gr(or,"products",p);T?await ts(C,{favorite:!1}):await ts(C,{favorite:!0})}catch(C){console.log(C)}},w=()=>{const p=Ck(kv(or,"products"),Rk("created","desc"));Vk(p,T=>{h(!1);const C=[];T.forEach(P=>{C.push({...P.data(),id:P.id})}),n(C)})},m=async(p,T)=>{const C=Gr(or,"products",p);await ts(C,{amount:T-1})},g=async(p,T)=>{T--;const C=Gr(or,"products",p);await ts(C,{amount:T+2})},E=()=>{let p=new Date,T=p.getDate(),C=p.getMonth()+1,P=p.getFullYear(),x="";C<10?x=`${P}-0${C}-${T}`:x=`${P}-${C}-${T}`;const j=[],F=[],ue=[];t.forEach(q=>{if(q.date){var M=new Date(x),G=new Date(q.date),Je=Math.abs(G-M),de=Je/(1e3*3600*24);de<10&&G>M?j.push({...q,days:Math.round(de)}):G<=M&&F.push({...q,days:Math.round(de),text:"Vencido hace "})}q.favorite&&ue.push({...q})}),s([...j]),l([...F]),c([...ue])};return I.useEffect(()=>{o.length>0&&Qr(`${o.length} por vencer`,"warning")},[o]),I.useEffect(()=>{a.length>0&&Qr(`${a.length} ${a.length===1?"ya se vencio":"ya estan vencidos"}`,"error")},[a]),I.useEffect(()=>{E()},[t,d]),I.useEffect(()=>{w()},[]),_.jsx(zT.Provider,{value:{addOrEditProduct:f,onDeleteProduct:y,setCurrentId:i,handleLess:m,handlePlus:g,setLoader:h,onFavoriteProduct:v,loader:d,currentId:r,products:t,productsVence:o,expiredProducts:a,favorite:u},children:e})}var HT={exports:{}},AD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SD=AD,CD=SD;function qT(){}function WT(){}WT.resetWarningCache=qT;var RD=function(){function e(r,i,o,s,a,l){if(l!==CD){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:WT,resetWarningCache:qT};return n.PropTypes=n,n};HT.exports=RD();var PD=HT.exports;const ae=ko(PD);var xD=typeof Element<"u",kD=typeof Map=="function",DD=typeof Set=="function",ND=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Bl(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Bl(e[r],t[r]))return!1;return!0}var o;if(kD&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Bl(r.value[1],t.get(r.value[0])))return!1;return!0}if(DD&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(ND&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(xD&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Bl(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var OD=function(t,n){try{return Bl(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const MD=ko(OD);var VD=function(e,t,n,r,i,o,s,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,s,a],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},LD=VD;const Gv=ko(LD);var bD=function(t,n,r,i){var o=r?r.call(i,t,n):void 0;if(o!==void 0)return!!o;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var s=Object.keys(t),a=Object.keys(n);if(s.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<s.length;u++){var c=s[u];if(!l(c))return!1;var d=t[c],h=n[c];if(o=r?r.call(i,d,h,c):void 0,o===!1||o===void 0&&d!==h)return!1}return!0};const FD=ko(bD);function Fe(){return Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}function Xm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Df(e,t)}function Df(e,t){return Df=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Df(e,t)}function Qv(e,t){if(e==null)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}var K={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},$D={rel:["amphtml","canonical","alternate"]},jD={type:["application/ld+json"]},UD={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Yv=Object.keys(K).map(function(e){return K[e]}),Mu={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},BD=Object.keys(Mu).reduce(function(e,t){return e[Mu[t]]=t,e},{}),uo=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},zD=function(e){var t=uo(e,K.TITLE),n=uo(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,function(){return t});var r=uo(e,"defaultTitle");return t||r||void 0},HD=function(e){return uo(e,"onChangeClientState")||function(){}},Gd=function(e,t){return t.filter(function(n){return n[e]!==void 0}).map(function(n){return n[e]}).reduce(function(n,r){return Fe({},n,r)},{})},qD=function(e,t){return t.filter(function(n){return n[K.BASE]!==void 0}).map(function(n){return n[K.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var i=Object.keys(r),o=0;o<i.length;o+=1){var s=i[o].toLowerCase();if(e.indexOf(s)!==-1&&r[s])return n.concat(r)}return n},[])},ns=function(e,t,n){var r={};return n.filter(function(i){return!!Array.isArray(i[e])||(i[e]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+e+' should be of type "Array". Instead found type "'+typeof i[e]+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var s={};o.filter(function(d){for(var h,f=Object.keys(d),y=0;y<f.length;y+=1){var v=f[y],w=v.toLowerCase();t.indexOf(w)===-1||h==="rel"&&d[h].toLowerCase()==="canonical"||w==="rel"&&d[w].toLowerCase()==="stylesheet"||(h=w),t.indexOf(v)===-1||v!=="innerHTML"&&v!=="cssText"&&v!=="itemprop"||(h=v)}if(!h||!d[h])return!1;var m=d[h].toLowerCase();return r[h]||(r[h]={}),s[h]||(s[h]={}),!r[h][m]&&(s[h][m]=!0,!0)}).reverse().forEach(function(d){return i.push(d)});for(var a=Object.keys(s),l=0;l<a.length;l+=1){var u=a[l],c=Fe({},r[u],s[u]);r[u]=c}return i},[]).reverse()},WD=function(e,t){if(Array.isArray(e)&&e.length){for(var n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},KT=function(e){return Array.isArray(e)?e.join(""):e},Qd=function(e,t){return Array.isArray(e)?e.reduce(function(n,r){return function(i,o){for(var s=Object.keys(i),a=0;a<s.length;a+=1)if(o[s[a]]&&o[s[a]].includes(i[s[a]]))return!0;return!1}(r,t)?n.priority.push(r):n.default.push(r),n},{priority:[],default:[]}):{default:e}},Xv=function(e,t){var n;return Fe({},e,((n={})[t]=void 0,n))},KD=[K.NOSCRIPT,K.SCRIPT,K.STYLE],Yd=function(e,t){return t===void 0&&(t=!0),t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Jv=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n]!==void 0?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},Zv=function(e,t){return t===void 0&&(t={}),Object.keys(e).reduce(function(n,r){return n[Mu[r]||r]=e[r],n},t)},zl=function(e,t){return t.map(function(n,r){var i,o=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach(function(s){var a=Mu[s]||s;a==="innerHTML"||a==="cssText"?o.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:o[a]=n[s]}),re.createElement(e,o)})},Gt=function(e,t,n){switch(e){case K.TITLE:return{toComponent:function(){return i=t.titleAttributes,(o={key:r=t.title})["data-rh"]=!0,s=Zv(i,o),[re.createElement(K.TITLE,s,r)];var r,i,o,s},toString:function(){return function(r,i,o,s){var a=Jv(o),l=KT(i);return a?"<"+r+' data-rh="true" '+a+">"+Yd(l,s)+"</"+r+">":"<"+r+' data-rh="true">'+Yd(l,s)+"</"+r+">"}(e,t.title,t.titleAttributes,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return Zv(t)},toString:function(){return Jv(t)}};default:return{toComponent:function(){return zl(e,t)},toString:function(){return function(r,i,o){return i.reduce(function(s,a){var l=Object.keys(a).filter(function(d){return!(d==="innerHTML"||d==="cssText")}).reduce(function(d,h){var f=a[h]===void 0?h:h+'="'+Yd(a[h],o)+'"';return d?d+" "+f:f},""),u=a.innerHTML||a.cssText||"",c=KD.indexOf(r)===-1;return s+"<"+r+' data-rh="true" '+l+(c?"/>":">"+u+"</"+r+">")},"")}(e,t,n)}}}},Nf=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.noscriptTags,s=e.styleTags,a=e.title,l=a===void 0?"":a,u=e.titleAttributes,c=e.linkTags,d=e.metaTags,h=e.scriptTags,f={toComponent:function(){},toString:function(){return""}};if(e.prioritizeSeoTags){var y=function(v){var w=v.linkTags,m=v.scriptTags,g=v.encode,E=Qd(v.metaTags,UD),p=Qd(w,$D),T=Qd(m,jD);return{priorityMethods:{toComponent:function(){return[].concat(zl(K.META,E.priority),zl(K.LINK,p.priority),zl(K.SCRIPT,T.priority))},toString:function(){return Gt(K.META,E.priority,g)+" "+Gt(K.LINK,p.priority,g)+" "+Gt(K.SCRIPT,T.priority,g)}},metaTags:E.default,linkTags:p.default,scriptTags:T.default}}(e);f=y.priorityMethods,c=y.linkTags,d=y.metaTags,h=y.scriptTags}return{priority:f,base:Gt(K.BASE,t,r),bodyAttributes:Gt("bodyAttributes",n,r),htmlAttributes:Gt("htmlAttributes",i,r),link:Gt(K.LINK,c,r),meta:Gt(K.META,d,r),noscript:Gt(K.NOSCRIPT,o,r),script:Gt(K.SCRIPT,h,r),style:Gt(K.STYLE,s,r),title:Gt(K.TITLE,{title:l,titleAttributes:u},r)}},wl=[],Of=function(e,t){var n=this;t===void 0&&(t=typeof document<"u"),this.instances=[],this.value={setHelmet:function(r){n.context.helmet=r},helmetInstances:{get:function(){return n.canUseDOM?wl:n.instances},add:function(r){(n.canUseDOM?wl:n.instances).push(r)},remove:function(r){var i=(n.canUseDOM?wl:n.instances).indexOf(r);(n.canUseDOM?wl:n.instances).splice(i,1)}}},this.context=e,this.canUseDOM=t,t||(e.helmet=Nf({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},GT=re.createContext({}),GD=ae.shape({setHelmet:ae.func,helmetInstances:ae.shape({get:ae.func,add:ae.func,remove:ae.func})}),QD=typeof document<"u",pr=function(e){function t(n){var r;return(r=e.call(this,n)||this).helmetData=new Of(r.props.context,t.canUseDOM),r}return Xm(t,e),t.prototype.render=function(){return re.createElement(GT.Provider,{value:this.helmetData.value},this.props.children)},t}(I.Component);pr.canUseDOM=QD,pr.propTypes={context:ae.shape({helmet:ae.shape()}),children:ae.node.isRequired},pr.defaultProps={context:{}},pr.displayName="HelmetProvider";var Oi=function(e,t){var n,r=document.head||document.querySelector(K.HEAD),i=r.querySelectorAll(e+"[data-rh]"),o=[].slice.call(i),s=[];return t&&t.length&&t.forEach(function(a){var l=document.createElement(e);for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(u==="innerHTML"?l.innerHTML=a.innerHTML:u==="cssText"?l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText)):l.setAttribute(u,a[u]===void 0?"":a[u]));l.setAttribute("data-rh","true"),o.some(function(c,d){return n=d,l.isEqualNode(c)})?o.splice(n,1):s.push(l)}),o.forEach(function(a){return a.parentNode.removeChild(a)}),s.forEach(function(a){return r.appendChild(a)}),{oldTags:o,newTags:s}},Xd=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute("data-rh"),i=r?r.split(","):[],o=[].concat(i),s=Object.keys(t),a=0;a<s.length;a+=1){var l=s[a],u=t[l]||"";n.getAttribute(l)!==u&&n.setAttribute(l,u),i.indexOf(l)===-1&&i.push(l);var c=o.indexOf(l);c!==-1&&o.splice(c,1)}for(var d=o.length-1;d>=0;d-=1)n.removeAttribute(o[d]);i.length===o.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==s.join(",")&&n.setAttribute("data-rh",s.join(","))}},e0=function(e,t){var n=e.baseTag,r=e.htmlAttributes,i=e.linkTags,o=e.metaTags,s=e.noscriptTags,a=e.onChangeClientState,l=e.scriptTags,u=e.styleTags,c=e.title,d=e.titleAttributes;Xd(K.BODY,e.bodyAttributes),Xd(K.HTML,r),function(v,w){v!==void 0&&document.title!==v&&(document.title=KT(v)),Xd(K.TITLE,w)}(c,d);var h={baseTag:Oi(K.BASE,n),linkTags:Oi(K.LINK,i),metaTags:Oi(K.META,o),noscriptTags:Oi(K.NOSCRIPT,s),scriptTags:Oi(K.SCRIPT,l),styleTags:Oi(K.STYLE,u)},f={},y={};Object.keys(h).forEach(function(v){var w=h[v],m=w.newTags,g=w.oldTags;m.length&&(f[v]=m),g.length&&(y[v]=h[v].oldTags)}),t&&t(),a(e,f,y)},rs=null,Vu=function(e){function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.call.apply(e,[this].concat(o))||this).rendered=!1,r}Xm(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(r){return!FD(r,this.props)},n.componentDidUpdate=function(){this.emitChange()},n.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},n.emitChange=function(){var r,i,o=this.props.context,s=o.setHelmet,a=null,l=(r=o.helmetInstances.get().map(function(u){var c=Fe({},u.props);return delete c.context,c}),{baseTag:qD(["href"],r),bodyAttributes:Gd("bodyAttributes",r),defer:uo(r,"defer"),encode:uo(r,"encodeSpecialCharacters"),htmlAttributes:Gd("htmlAttributes",r),linkTags:ns(K.LINK,["rel","href"],r),metaTags:ns(K.META,["name","charset","http-equiv","property","itemprop"],r),noscriptTags:ns(K.NOSCRIPT,["innerHTML"],r),onChangeClientState:HD(r),scriptTags:ns(K.SCRIPT,["src","innerHTML"],r),styleTags:ns(K.STYLE,["cssText"],r),title:zD(r),titleAttributes:Gd("titleAttributes",r),prioritizeSeoTags:WD(r,"prioritizeSeoTags")});pr.canUseDOM?(i=l,rs&&cancelAnimationFrame(rs),i.defer?rs=requestAnimationFrame(function(){e0(i,function(){rs=null})}):(e0(i),rs=null)):Nf&&(a=Nf(l)),s(a)},n.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},n.render=function(){return this.init(),null},t}(I.Component);Vu.propTypes={context:GD.isRequired},Vu.displayName="HelmetDispatcher";var YD=["children"],XD=["children"],co=function(e){function t(){return e.apply(this,arguments)||this}Xm(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(r){return!MD(Xv(this.props,"helmetData"),Xv(r,"helmetData"))},n.mapNestedChildrenToProps=function(r,i){if(!i)return null;switch(r.type){case K.SCRIPT:case K.NOSCRIPT:return{innerHTML:i};case K.STYLE:return{cssText:i};default:throw new Error("<"+r.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},n.flattenArrayTypeChildren=function(r){var i,o=r.child,s=r.arrayTypeChildren;return Fe({},s,((i={})[o.type]=[].concat(s[o.type]||[],[Fe({},r.newChildProps,this.mapNestedChildrenToProps(o,r.nestedChildren))]),i))},n.mapObjectTypeChildren=function(r){var i,o,s=r.child,a=r.newProps,l=r.newChildProps,u=r.nestedChildren;switch(s.type){case K.TITLE:return Fe({},a,((i={})[s.type]=u,i.titleAttributes=Fe({},l),i));case K.BODY:return Fe({},a,{bodyAttributes:Fe({},l)});case K.HTML:return Fe({},a,{htmlAttributes:Fe({},l)});default:return Fe({},a,((o={})[s.type]=Fe({},l),o))}},n.mapArrayTypeChildrenToProps=function(r,i){var o=Fe({},i);return Object.keys(r).forEach(function(s){var a;o=Fe({},o,((a={})[s]=r[s],a))}),o},n.warnOnInvalidChildren=function(r,i){return Gv(Yv.some(function(o){return r.type===o}),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+Yv.join(", ")+" are allowed. Helmet does not support rendering <"+r.type+"> elements. Refer to our API for more information."),Gv(!i||typeof i=="string"||Array.isArray(i)&&!i.some(function(o){return typeof o!="string"}),"Helmet expects a string as a child of <"+r.type+">. Did you forget to wrap your children in braces? ( <"+r.type+">{``}</"+r.type+"> ) Refer to our API for more information."),!0},n.mapChildrenToProps=function(r,i){var o=this,s={};return re.Children.forEach(r,function(a){if(a&&a.props){var l=a.props,u=l.children,c=Qv(l,YD),d=Object.keys(c).reduce(function(f,y){return f[BD[y]||y]=c[y],f},{}),h=a.type;switch(typeof h=="symbol"?h=h.toString():o.warnOnInvalidChildren(a,u),h){case K.FRAGMENT:i=o.mapChildrenToProps(u,i);break;case K.LINK:case K.META:case K.NOSCRIPT:case K.SCRIPT:case K.STYLE:s=o.flattenArrayTypeChildren({child:a,arrayTypeChildren:s,newChildProps:d,nestedChildren:u});break;default:i=o.mapObjectTypeChildren({child:a,newProps:i,newChildProps:d,nestedChildren:u})}}}),this.mapArrayTypeChildrenToProps(s,i)},n.render=function(){var r=this.props,i=r.children,o=Qv(r,XD),s=Fe({},o),a=o.helmetData;return i&&(s=this.mapChildrenToProps(i,s)),!a||a instanceof Of||(a=new Of(a.context,a.instances)),a?re.createElement(Vu,Fe({},s,{context:a.value,helmetData:void 0})):re.createElement(GT.Consumer,null,function(l){return re.createElement(Vu,Fe({},s,{context:l}))})},t}(I.Component);co.propTypes={base:ae.object,bodyAttributes:ae.object,children:ae.oneOfType([ae.arrayOf(ae.node),ae.node]),defaultTitle:ae.string,defer:ae.bool,encodeSpecialCharacters:ae.bool,htmlAttributes:ae.object,link:ae.arrayOf(ae.object),meta:ae.arrayOf(ae.object),noscript:ae.arrayOf(ae.object),onChangeClientState:ae.func,script:ae.arrayOf(ae.object),style:ae.arrayOf(ae.object),title:ae.string,titleAttributes:ae.object,titleTemplate:ae.string,prioritizeSeoTags:ae.bool,helmetData:ae.object},co.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},co.displayName="Helmet";/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}var ze;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ze||(ze={}));const t0="popstate";function JD(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return ga("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ei(i)}return eN(t,n,null,e)}function ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZD(){return Math.random().toString(36).substr(2,8)}function n0(e,t){return{usr:e.state,key:e.key,idx:t}}function ga(e,t,n,r){return n===void 0&&(n=null),Pe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?er(t):t,{state:n,key:t&&t.key||r||ZD()})}function Ei(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function eN(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ze.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Pe({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=ze.Pop;let w=c(),m=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:m})}function h(w,m){a=ze.Push;let g=ga(v.location,w,m);n&&n(g,w),u=c()+1;let E=n0(g,u),p=v.createHref(g);try{s.pushState(E,"",p)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(p)}o&&l&&l({action:a,location:v.location,delta:1})}function f(w,m){a=ze.Replace;let g=ga(v.location,w,m);n&&n(g,w),u=c();let E=n0(g,u),p=v.createHref(g);s.replaceState(E,"",p),o&&l&&l({action:a,location:v.location,delta:0})}function y(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof w=="string"?w:Ei(w);return ie(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let v={get action(){return a},get location(){return e(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(t0,d),l=w,()=>{i.removeEventListener(t0,d),l=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let m=y(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(w){return s.go(w)}};return v}var Qe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qe||(Qe={}));const tN=new Set(["lazy","caseSensitive","path","id","index","children"]);function nN(e){return e.index===!0}function Mf(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(ie(i.index!==!0||!i.children,"Cannot specify children on an index route"),ie(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),nN(i)){let l=Pe({},i,t(i),{id:a});return r[a]=l,l}else{let l=Pe({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Mf(i.children,t,s,r)),l}})}function Yi(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?er(t):t,i=jo(r.pathname||"/",n);if(i==null)return null;let o=QT(e);rN(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=hN(o[a],mN(i));return s}function QT(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ie(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=zn([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ie(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QT(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:cN(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of YT(o.path))i(o,s,l)}),t}function YT(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=YT(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function rN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iN=/^:\w+$/,oN=3,sN=2,aN=1,lN=10,uN=-2,r0=e=>e==="*";function cN(e,t){let n=e.split("/"),r=n.length;return n.some(r0)&&(r+=uN),t&&(r+=sN),n.filter(i=>!r0(i)).reduce((i,o)=>i+(iN.test(o)?oN:o===""?aN:lN),r)}function dN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function hN(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=fN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:zn([i,c.pathname]),pathnameBase:_N(zn([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=zn([i,c.pathnameBase]))}return o}function fN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";s=o.slice(0,o.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=gN(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:e}}function pN(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),xo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function mN(e){try{return decodeURI(e)}catch(t){return xo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gN(e,t){try{return decodeURIComponent(e)}catch(n){return xo(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function jo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function yN(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?er(e):e;return{pathname:n?n.startsWith("/")?n:vN(n,t):t,search:EN(r),hash:wN(i)}}function vN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vc(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jm(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=er(e):(i=Pe({},e),ie(!i.pathname||!i.pathname.includes("?"),Jd("?","pathname","search",i)),ie(!i.pathname||!i.pathname.includes("#"),Jd("#","pathname","hash",i)),ie(!i.search||!i.search.includes("#"),Jd("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=t.length-1;if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=yN(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const zn=e=>e.join("/").replace(/\/\/+/g,"/"),_N=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Zm{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function XT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const JT=["post","put","patch","delete"],TN=new Set(JT),IN=["get",...JT],AN=new Set(IN),SN=new Set([301,302,303,307,308]),CN=new Set([307,308]),Zd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},RN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},is={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PN=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function xN(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ie(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let A=e.detectErrorBoundary;i=S=>({hasErrorBoundary:A(S)})}else i=PN;let o={},s=Mf(e.routes,i,void 0,o),a,l=e.basename||"/",u=Pe({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,d=new Set,h=null,f=null,y=null,v=e.hydrationData!=null,w=Yi(s,e.history.location,l),m=null;if(w==null){let A=Qt(404,{pathname:e.history.location.pathname}),{matches:S,route:k}=d0(s);w=S,m={[k.id]:A}}let g=!w.some(A=>A.route.lazy)&&(!w.some(A=>A.route.loader)||e.hydrationData!=null),E,p={historyAction:e.history.action,location:e.history.location,matches:w,initialized:g,navigation:Zd,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||m,fetchers:new Map,blockers:new Map},T=ze.Pop,C=!1,P,x=!1,j=!1,F=[],ue=[],q=new Map,M=0,G=-1,Je=new Map,de=new Set,je=new Map,O=new Map,z=new Map,te=!1;function ke(){return c=e.history.listen(A=>{let{action:S,location:k,delta:$}=A;if(te){te=!1;return}xo(z.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=fg({currentLocation:p.location,nextLocation:k,historyAction:S});if(ee&&$!=null){te=!0,e.history.go($*-1),qa(ee,{state:"blocked",location:k,proceed(){qa(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:k}),e.history.go($)},reset(){let Y=new Map(p.blockers);Y.set(ee,is),ve({blockers:Y})}});return}return tr(S,k)}),p.initialized||tr(ze.Pop,p.location),E}function Ue(){c&&c(),d.clear(),P&&P.abort(),p.fetchers.forEach((A,S)=>Hc(S)),p.blockers.forEach((A,S)=>hg(S))}function xi(A){return d.add(A),()=>d.delete(A)}function ve(A){p=Pe({},p,A),d.forEach(S=>S(p))}function On(A,S){var k,$;let ee=p.actionData!=null&&p.navigation.formMethod!=null&&cn(p.navigation.formMethod)&&p.navigation.state==="loading"&&((k=A.state)==null?void 0:k._isRedirect)!==!0,Y;S.actionData?Object.keys(S.actionData).length>0?Y=S.actionData:Y=null:ee?Y=p.actionData:Y=null;let J=S.loaderData?c0(p.loaderData,S.loaderData,S.matches||[],S.errors):p.loaderData,W=p.blockers;W.size>0&&(W=new Map(W),W.forEach((_e,dt)=>W.set(dt,is)));let B=C===!0||p.navigation.formMethod!=null&&cn(p.navigation.formMethod)&&(($=A.state)==null?void 0:$._isRedirect)!==!0;a&&(s=a,a=void 0),x||T===ze.Pop||(T===ze.Push?e.history.push(A,A.state):T===ze.Replace&&e.history.replace(A,A.state)),ve(Pe({},S,{actionData:Y,loaderData:J,historyAction:T,location:A,initialized:!0,navigation:Zd,revalidation:"idle",restoreScrollPosition:mg(A,S.matches||p.matches),preventScrollReset:B,blockers:W})),T=ze.Pop,C=!1,x=!1,j=!1,F=[],ue=[]}async function _n(A,S){if(typeof A=="number"){e.history.go(A);return}let k=Vf(p.location,p.matches,l,u.v7_prependBasename,A,S==null?void 0:S.fromRouteId,S==null?void 0:S.relative),{path:$,submission:ee,error:Y}=i0(u.v7_normalizeFormMethod,!1,k,S),J=p.location,W=ga(p.location,$,S&&S.state);W=Pe({},W,e.history.encodeLocation(W));let B=S&&S.replace!=null?S.replace:void 0,_e=ze.Push;B===!0?_e=ze.Replace:B===!1||ee!=null&&cn(ee.formMethod)&&ee.formAction===p.location.pathname+p.location.search&&(_e=ze.Replace);let dt=S&&"preventScrollReset"in S?S.preventScrollReset===!0:void 0,ge=fg({currentLocation:J,nextLocation:W,historyAction:_e});if(ge){qa(ge,{state:"blocked",location:W,proceed(){qa(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),_n(A,S)},reset(){let be=new Map(p.blockers);be.set(ge,is),ve({blockers:be})}});return}return await tr(_e,W,{submission:ee,pendingError:Y,preventScrollReset:dt,replace:S&&S.replace})}function ki(){if(zc(),ve({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){tr(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}tr(T||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function tr(A,S,k){P&&P.abort(),P=null,T=A,x=(k&&k.startUninterruptedRevalidation)===!0,CI(p.location,p.matches),C=(k&&k.preventScrollReset)===!0;let $=a||s,ee=k&&k.overrideNavigation,Y=Yi($,S,l);if(!Y){let be=Qt(404,{pathname:S.pathname}),{matches:Ze,route:Br}=d0($);qc(),On(S,{matches:Ze,loaderData:{},errors:{[Br.id]:be}});return}if(p.initialized&&!j&&MN(p.location,S)&&!(k&&k.submission&&cn(k.submission.formMethod))){On(S,{matches:Y});return}P=new AbortController;let J=ss(e.history,S,P.signal,k&&k.submission),W,B;if(k&&k.pendingError)B={[Xi(Y).route.id]:k.pendingError};else if(k&&k.submission&&cn(k.submission.formMethod)){let be=await _I(J,S,k.submission,Y,{replace:k.replace});if(be.shortCircuited)return;W=be.pendingActionData,B=be.pendingActionError,ee=Tl(S,k.submission),J=new Request(J.url,{signal:J.signal})}let{shortCircuited:_e,loaderData:dt,errors:ge}=await EI(J,S,Y,ee,k&&k.submission,k&&k.fetcherSubmission,k&&k.replace,W,B);_e||(P=null,On(S,Pe({matches:Y},W?{actionData:W}:{},{loaderData:dt,errors:ge})))}async function _I(A,S,k,$,ee){ee===void 0&&(ee={}),zc();let Y=$N(S,k);ve({navigation:Y});let J,W=bf($,S);if(!W.route.action&&!W.route.lazy)J={type:Qe.error,error:Qt(405,{method:A.method,pathname:S.pathname,routeId:W.route.id})};else if(J=await os("action",A,W,$,o,i,l),A.signal.aborted)return{shortCircuited:!0};if(ho(J)){let B;return ee&&ee.replace!=null?B=ee.replace:B=J.location===p.location.pathname+p.location.search,await Bo(p,J,{submission:k,replace:B}),{shortCircuited:!0}}if(bs(J)){let B=Xi($,W.route.id);return(ee&&ee.replace)!==!0&&(T=ze.Push),{pendingActionData:{},pendingActionError:{[B.route.id]:J.error}}}if(ri(J))throw Qt(400,{type:"defer-action"});return{pendingActionData:{[W.route.id]:J.data}}}async function EI(A,S,k,$,ee,Y,J,W,B){let _e=$||Tl(S,ee),dt=ee||Y||p0(_e),ge=a||s,[be,Ze]=o0(e.history,p,k,dt,S,j,F,ue,je,de,ge,l,W,B);if(qc(ye=>!(k&&k.some(sn=>sn.route.id===ye))||be&&be.some(sn=>sn.route.id===ye)),G=++M,be.length===0&&Ze.length===0){let ye=cg();return On(S,Pe({matches:k,loaderData:{},errors:B||null},W?{actionData:W}:{},ye?{fetchers:new Map(p.fetchers)}:{})),{shortCircuited:!0}}if(!x){Ze.forEach(sn=>{let rr=p.fetchers.get(sn.key),Yc=as(void 0,rr?rr.data:void 0);p.fetchers.set(sn.key,Yc)});let ye=W||p.actionData;ve(Pe({navigation:_e},ye?Object.keys(ye).length===0?{actionData:null}:{actionData:ye}:{},Ze.length>0?{fetchers:new Map(p.fetchers)}:{}))}Ze.forEach(ye=>{q.has(ye.key)&&nr(ye.key),ye.controller&&q.set(ye.key,ye.controller)});let Br=()=>Ze.forEach(ye=>nr(ye.key));P&&P.signal.addEventListener("abort",Br);let{results:zr,loaderResults:zo,fetcherResults:Wc}=await lg(p.matches,k,be,Ze,A);if(A.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Br),Ze.forEach(ye=>q.delete(ye.key));let Mn=h0(zr);if(Mn){if(Mn.idx>=be.length){let ye=Ze[Mn.idx-be.length].key;de.add(ye)}return await Bo(p,Mn.result,{replace:J}),{shortCircuited:!0}}let{loaderData:Vn,errors:Wa}=u0(p,k,be,zo,B,Ze,Wc,O);O.forEach((ye,sn)=>{ye.subscribe(rr=>{(rr||ye.done)&&O.delete(sn)})});let Kc=cg(),Gc=dg(G),Qc=Kc||Gc||Ze.length>0;return Pe({loaderData:Vn,errors:Wa},Qc?{fetchers:new Map(p.fetchers)}:{})}function ag(A){return p.fetchers.get(A)||RN}function wI(A,S,k,$){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");q.has(A)&&nr(A);let ee=a||s,Y=Vf(p.location,p.matches,l,u.v7_prependBasename,k,S,$==null?void 0:$.relative),J=Yi(ee,Y,l);if(!J){Ha(A,S,Qt(404,{pathname:Y}));return}let{path:W,submission:B,error:_e}=i0(u.v7_normalizeFormMethod,!0,Y,$);if(_e){Ha(A,S,_e);return}let dt=bf(J,W);if(C=($&&$.preventScrollReset)===!0,B&&cn(B.formMethod)){TI(A,S,W,dt,J,B);return}je.set(A,{routeId:S,path:W}),II(A,S,W,dt,J,B)}async function TI(A,S,k,$,ee,Y){if(zc(),je.delete(A),!$.route.action&&!$.route.lazy){let Ge=Qt(405,{method:Y.formMethod,pathname:k,routeId:S});Ha(A,S,Ge);return}let J=p.fetchers.get(A),W=jN(Y,J);p.fetchers.set(A,W),ve({fetchers:new Map(p.fetchers)});let B=new AbortController,_e=ss(e.history,k,B.signal,Y);q.set(A,B);let dt=M,ge=await os("action",_e,$,ee,o,i,l);if(_e.signal.aborted){q.get(A)===B&&q.delete(A);return}if(ho(ge))if(q.delete(A),G>dt){let Ge=Li(void 0);p.fetchers.set(A,Ge),ve({fetchers:new Map(p.fetchers)});return}else{de.add(A);let Ge=as(Y);return p.fetchers.set(A,Ge),ve({fetchers:new Map(p.fetchers)}),Bo(p,ge,{submission:Y,isFetchActionRedirect:!0})}if(bs(ge)){Ha(A,S,ge.error);return}if(ri(ge))throw Qt(400,{type:"defer-action"});let be=p.navigation.location||p.location,Ze=ss(e.history,be,B.signal),Br=a||s,zr=p.navigation.state!=="idle"?Yi(Br,p.navigation.location,l):p.matches;ie(zr,"Didn't find any matches after fetcher action");let zo=++M;Je.set(A,zo);let Wc=as(Y,ge.data);p.fetchers.set(A,Wc);let[Mn,Vn]=o0(e.history,p,zr,Y,be,j,F,ue,je,de,Br,l,{[$.route.id]:ge.data},void 0);Vn.filter(Ge=>Ge.key!==A).forEach(Ge=>{let Ho=Ge.key,gg=p.fetchers.get(Ho),PI=as(void 0,gg?gg.data:void 0);p.fetchers.set(Ho,PI),q.has(Ho)&&nr(Ho),Ge.controller&&q.set(Ho,Ge.controller)}),ve({fetchers:new Map(p.fetchers)});let Wa=()=>Vn.forEach(Ge=>nr(Ge.key));B.signal.addEventListener("abort",Wa);let{results:Kc,loaderResults:Gc,fetcherResults:Qc}=await lg(p.matches,zr,Mn,Vn,Ze);if(B.signal.aborted)return;B.signal.removeEventListener("abort",Wa),Je.delete(A),q.delete(A),Vn.forEach(Ge=>q.delete(Ge.key));let ye=h0(Kc);if(ye){if(ye.idx>=Mn.length){let Ge=Vn[ye.idx-Mn.length].key;de.add(Ge)}return Bo(p,ye.result)}let{loaderData:sn,errors:rr}=u0(p,p.matches,Mn,Gc,void 0,Vn,Qc,O);if(p.fetchers.has(A)){let Ge=Li(ge.data);p.fetchers.set(A,Ge)}let Yc=dg(zo);p.navigation.state==="loading"&&zo>G?(ie(T,"Expected pending action"),P&&P.abort(),On(p.navigation.location,{matches:zr,loaderData:sn,errors:rr,fetchers:new Map(p.fetchers)})):(ve(Pe({errors:rr,loaderData:c0(p.loaderData,sn,zr,rr)},Yc||Vn.length>0?{fetchers:new Map(p.fetchers)}:{})),j=!1)}async function II(A,S,k,$,ee,Y){let J=p.fetchers.get(A),W=as(Y,J?J.data:void 0);p.fetchers.set(A,W),ve({fetchers:new Map(p.fetchers)});let B=new AbortController,_e=ss(e.history,k,B.signal);q.set(A,B);let dt=M,ge=await os("loader",_e,$,ee,o,i,l);if(ri(ge)&&(ge=await nI(ge,_e.signal,!0)||ge),q.get(A)===B&&q.delete(A),_e.signal.aborted)return;if(ho(ge))if(G>dt){let Ze=Li(void 0);p.fetchers.set(A,Ze),ve({fetchers:new Map(p.fetchers)});return}else{de.add(A),await Bo(p,ge);return}if(bs(ge)){let Ze=Xi(p.matches,S);p.fetchers.delete(A),ve({fetchers:new Map(p.fetchers),errors:{[Ze.route.id]:ge.error}});return}ie(!ri(ge),"Unhandled fetcher deferred data");let be=Li(ge.data);p.fetchers.set(A,be),ve({fetchers:new Map(p.fetchers)})}async function Bo(A,S,k){let{submission:$,replace:ee,isFetchActionRedirect:Y}=k===void 0?{}:k;S.revalidate&&(j=!0);let J=ga(A.location,S.location,Pe({_isRedirect:!0},Y?{_isFetchActionRedirect:!0}:{}));if(ie(J,"Expected a location on the redirect navigation"),ZT.test(S.location)&&n){let _e=e.history.createURL(S.location),dt=jo(_e.pathname,l)==null;if(t.location.origin!==_e.origin||dt){ee?t.location.replace(S.location):t.location.assign(S.location);return}}P=null;let W=ee===!0?ze.Replace:ze.Push,B=$||p0(A.navigation);if(CN.has(S.status)&&B&&cn(B.formMethod))await tr(W,J,{submission:Pe({},B,{formAction:S.location}),preventScrollReset:C});else if(Y)await tr(W,J,{overrideNavigation:Tl(J),fetcherSubmission:B,preventScrollReset:C});else{let _e=Tl(J,B);await tr(W,J,{overrideNavigation:_e,preventScrollReset:C})}}async function lg(A,S,k,$,ee){let Y=await Promise.all([...k.map(B=>os("loader",ee,B,S,o,i,l)),...$.map(B=>B.matches&&B.match&&B.controller?os("loader",ss(e.history,B.path,B.controller.signal),B.match,B.matches,o,i,l):{type:Qe.error,error:Qt(404,{pathname:B.path})})]),J=Y.slice(0,k.length),W=Y.slice(k.length);return await Promise.all([f0(A,k,J,J.map(()=>ee.signal),!1,p.loaderData),f0(A,$.map(B=>B.match),W,$.map(B=>B.controller?B.controller.signal:null),!0)]),{results:Y,loaderResults:J,fetcherResults:W}}function zc(){j=!0,F.push(...qc()),je.forEach((A,S)=>{q.has(S)&&(ue.push(S),nr(S))})}function Ha(A,S,k){let $=Xi(p.matches,S);Hc(A),ve({errors:{[$.route.id]:k},fetchers:new Map(p.fetchers)})}function Hc(A){let S=p.fetchers.get(A);q.has(A)&&!(S&&S.state==="loading"&&Je.has(A))&&nr(A),je.delete(A),Je.delete(A),de.delete(A),p.fetchers.delete(A)}function nr(A){let S=q.get(A);ie(S,"Expected fetch controller: "+A),S.abort(),q.delete(A)}function ug(A){for(let S of A){let k=ag(S),$=Li(k.data);p.fetchers.set(S,$)}}function cg(){let A=[],S=!1;for(let k of de){let $=p.fetchers.get(k);ie($,"Expected fetcher: "+k),$.state==="loading"&&(de.delete(k),A.push(k),S=!0)}return ug(A),S}function dg(A){let S=[];for(let[k,$]of Je)if($<A){let ee=p.fetchers.get(k);ie(ee,"Expected fetcher: "+k),ee.state==="loading"&&(nr(k),Je.delete(k),S.push(k))}return ug(S),S.length>0}function AI(A,S){let k=p.blockers.get(A)||is;return z.get(A)!==S&&z.set(A,S),k}function hg(A){p.blockers.delete(A),z.delete(A)}function qa(A,S){let k=p.blockers.get(A)||is;ie(k.state==="unblocked"&&S.state==="blocked"||k.state==="blocked"&&S.state==="blocked"||k.state==="blocked"&&S.state==="proceeding"||k.state==="blocked"&&S.state==="unblocked"||k.state==="proceeding"&&S.state==="unblocked","Invalid blocker state transition: "+k.state+" -> "+S.state);let $=new Map(p.blockers);$.set(A,S),ve({blockers:$})}function fg(A){let{currentLocation:S,nextLocation:k,historyAction:$}=A;if(z.size===0)return;z.size>1&&xo(!1,"A router only supports one blocker at a time");let ee=Array.from(z.entries()),[Y,J]=ee[ee.length-1],W=p.blockers.get(Y);if(!(W&&W.state==="proceeding")&&J({currentLocation:S,nextLocation:k,historyAction:$}))return Y}function qc(A){let S=[];return O.forEach((k,$)=>{(!A||A($))&&(k.cancel(),S.push($),O.delete($))}),S}function SI(A,S,k){if(h=A,y=S,f=k||null,!v&&p.navigation===Zd){v=!0;let $=mg(p.location,p.matches);$!=null&&ve({restoreScrollPosition:$})}return()=>{h=null,y=null,f=null}}function pg(A,S){return f&&f(A,S.map($=>FN($,p.loaderData)))||A.key}function CI(A,S){if(h&&y){let k=pg(A,S);h[k]=y()}}function mg(A,S){if(h){let k=pg(A,S),$=h[k];if(typeof $=="number")return $}return null}function RI(A){o={},a=Mf(A,i,void 0,o)}return E={get basename(){return l},get state(){return p},get routes(){return s},initialize:ke,subscribe:xi,enableScrollRestoration:SI,navigate:_n,fetch:wI,revalidate:ki,createHref:A=>e.history.createHref(A),encodeLocation:A=>e.history.encodeLocation(A),getFetcher:ag,deleteFetcher:Hc,dispose:Ue,getBlocker:AI,deleteBlocker:hg,_internalFetchControllers:q,_internalActiveDeferreds:O,_internalSetRoutes:RI},E}function kN(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Vf(e,t,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let c of t)if(a.push(c),c.route.id===o){l=c;break}}else a=t,l=t[t.length-1];let u=Jm(i||".",Vc(a).map(c=>c.pathnameBase),jo(e.pathname,n)||e.pathname,s==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!eg(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:zn([n,u.pathname])),Ei(u)}function i0(e,t,n,r){if(!r||!kN(r))return{path:n};if(r.formMethod&&!bN(r.formMethod))return{path:n,error:Qt(405,{method:r.formMethod})};let i=()=>({path:n,error:Qt(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),a=tI(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!cn(s))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,y)=>{let[v,w]=y;return""+f+v+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!cn(s))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}ie(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Lf(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Lf(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=l0(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=l0(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(cn(c.formMethod))return{path:n,submission:c};let d=er(n);return t&&d.search&&eg(d.search)&&l.append("index",""),d.search="?"+l,{path:Ei(d),submission:c}}function DN(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function o0(e,t,n,r,i,o,s,a,l,u,c,d,h,f){let y=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,v=e.createURL(t.location),w=e.createURL(i),m=f?Object.keys(f)[0]:void 0,E=DN(n,m).filter((T,C)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(NN(t.loaderData,t.matches[C],T)||s.some(j=>j===T.route.id))return!0;let P=t.matches[C],x=T;return s0(T,Pe({currentUrl:v,currentParams:P.params,nextUrl:w,nextParams:x.params},r,{actionResult:y,defaultShouldRevalidate:o||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||eI(P,x)}))}),p=[];return l.forEach((T,C)=>{if(!n.some(ue=>ue.route.id===T.routeId))return;let P=Yi(c,T.path,d);if(!P){p.push({key:C,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let x=t.fetchers.get(C),j=bf(P,T.path),F=!1;u.has(C)?F=!1:a.includes(C)?F=!0:x&&x.state!=="idle"&&x.data===void 0?F=o:F=s0(j,Pe({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:y,defaultShouldRevalidate:o})),F&&p.push({key:C,routeId:T.routeId,path:T.path,matches:P,match:j,controller:new AbortController})}),[E,p]}function NN(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function eI(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function s0(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function a0(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];ie(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";xo(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!tN.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Pe({},t(i),{lazy:void 0}))}async function os(e,t,n,r,i,o,s,a){a===void 0&&(a={});let l,u,c,d=y=>{let v,w=new Promise((m,g)=>v=g);return c=()=>v(),t.signal.addEventListener("abort",c),Promise.race([y({request:t,params:n.params,context:a.requestContext}),w])};try{let y=n.route[e];if(n.route.lazy)if(y)u=(await Promise.all([d(y),a0(n.route,o,i)]))[0];else if(await a0(n.route,o,i),y=n.route[e],y)u=await d(y);else if(e==="action"){let v=new URL(t.url),w=v.pathname+v.search;throw Qt(405,{method:t.method,pathname:w,routeId:n.route.id})}else return{type:Qe.data,data:void 0};else if(y)u=await d(y);else{let v=new URL(t.url),w=v.pathname+v.search;throw Qt(404,{pathname:w})}ie(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(y){l=Qe.error,u=y}finally{c&&t.signal.removeEventListener("abort",c)}if(LN(u)){let y=u.status;if(SN.has(y)){let m=u.headers.get("Location");if(ie(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!ZT.test(m))m=Vf(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,m);else if(!a.isStaticRequest){let g=new URL(t.url),E=m.startsWith("//")?new URL(g.protocol+m):new URL(m),p=jo(E.pathname,s)!=null;E.origin===g.origin&&p&&(m=E.pathname+E.search+E.hash)}if(a.isStaticRequest)throw u.headers.set("Location",m),u;return{type:Qe.redirect,status:y,location:m,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(a.isRouteRequest)throw{type:l||Qe.data,response:u};let v,w=u.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?v=await u.json():v=await u.text(),l===Qe.error?{type:l,error:new Zm(y,u.statusText,v),headers:u.headers}:{type:Qe.data,data:v,statusCode:u.status,headers:u.headers}}if(l===Qe.error)return{type:l,error:u};if(VN(u)){var h,f;return{type:Qe.deferred,deferredData:u,statusCode:(h=u.init)==null?void 0:h.status,headers:((f=u.init)==null?void 0:f.headers)&&new Headers(u.init.headers)}}return{type:Qe.data,data:u}}function ss(e,t,n,r){let i=e.createURL(tI(t)).toString(),o={signal:n};if(r&&cn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Lf(r.formData):o.body=r.formData}return new Request(i,o)}function Lf(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function l0(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function ON(e,t,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=t[d].route.id;if(ie(!ho(c),"Cannot handle redirect results in processLoaderData"),bs(c)){let f=Xi(e,h),y=c.error;r&&(y=Object.values(r)[0],r=void 0),s=s||{},s[f.route.id]==null&&(s[f.route.id]=y),o[h]=void 0,l||(l=!0,a=XT(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else ri(c)?(i.set(h,c.deferredData),o[h]=c.deferredData.data):o[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function u0(e,t,n,r,i,o,s,a){let{loaderData:l,errors:u}=ON(t,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:h,controller:f}=o[c];ie(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let y=s[c];if(!(f&&f.signal.aborted))if(bs(y)){let v=Xi(e.matches,h==null?void 0:h.route.id);u&&u[v.route.id]||(u=Pe({},u,{[v.route.id]:y.error})),e.fetchers.delete(d)}else if(ho(y))ie(!1,"Unhandled fetcher revalidation redirect");else if(ri(y))ie(!1,"Unhandled fetcher deferred data");else{let v=Li(y.data);e.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function c0(e,t,n,r){let i=Pe({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function Xi(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function d0(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Qt(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Zm(e||500,s,new Error(a),!0)}function h0(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(ho(n))return{result:n,idx:t}}}function tI(e){let t=typeof e=="string"?er(e):e;return Ei(Pe({},t,{hash:""}))}function MN(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function ri(e){return e.type===Qe.deferred}function bs(e){return e.type===Qe.error}function ho(e){return(e&&e.type)===Qe.redirect}function VN(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function LN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function bN(e){return AN.has(e.toLowerCase())}function cn(e){return TN.has(e.toLowerCase())}async function f0(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let u=e.find(d=>d.route.id===l.route.id),c=u!=null&&!eI(u,l)&&(o&&o[l.route.id])!==void 0;if(ri(a)&&(i||c)){let d=r[s];ie(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await nI(a,d,i).then(h=>{h&&(n[s]=h||n[s])})}}}async function nI(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Qe.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Qe.error,error:i}}return{type:Qe.data,data:e.deferredData.data}}}function eg(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function FN(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function bf(e,t){let n=typeof t=="string"?er(t).search:t.search;if(e[e.length-1].route.index&&eg(n||""))return e[e.length-1];let r=Vc(e);return r[r.length-1]}function p0(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Tl(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $N(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function as(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function jN(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0}}function Li(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(this,arguments)}const Lc=I.createContext(null),rI=I.createContext(null),Uo=I.createContext(null),bc=I.createContext(null),Pi=I.createContext({outlet:null,matches:[],isDataRoute:!1}),iI=I.createContext(null);function UN(e,t){let{relative:n}=t===void 0?{}:t;Ba()||ie(!1);let{basename:r,navigator:i}=I.useContext(Uo),{hash:o,pathname:s,search:a}=sI(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:zn([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ba(){return I.useContext(bc)!=null}function za(){return Ba()||ie(!1),I.useContext(bc).location}function oI(e){I.useContext(Uo).static||I.useLayoutEffect(e)}function BN(){let{isDataRoute:e}=I.useContext(Pi);return e?eO():zN()}function zN(){Ba()||ie(!1);let e=I.useContext(Lc),{basename:t,navigator:n}=I.useContext(Uo),{matches:r}=I.useContext(Pi),{pathname:i}=za(),o=JSON.stringify(Vc(r).map(l=>l.pathnameBase)),s=I.useRef(!1);return oI(()=>{s.current=!0}),I.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=Jm(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:zn([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}function sI(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=I.useContext(Pi),{pathname:i}=za(),o=JSON.stringify(Vc(r).map(s=>s.pathnameBase));return I.useMemo(()=>Jm(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function HN(e,t,n){Ba()||ie(!1);let{navigator:r}=I.useContext(Uo),{matches:i}=I.useContext(Pi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=za(),u;if(t){var c;let v=typeof t=="string"?er(t):t;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||ie(!1),u=v}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",f=Yi(e,{pathname:h}),y=QN(f&&f.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:zn([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:zn([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return t&&y?I.createElement(bc.Provider,{value:{location:Lu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ze.Pop}},y):y}function qN(){let e=ZN(),t=XT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:i},n):null,o)}const WN=I.createElement(qN,null);class KN extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?I.createElement(Pi.Provider,{value:this.props.routeContext},I.createElement(iI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GN(e){let{routeContext:t,match:n,children:r}=e,i=I.useContext(Lc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Pi.Provider,{value:t},r)}function QN(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||ie(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||WN);let h=t.concat(o.slice(0,u+1)),f=()=>{let y;return c?y=d:l.route.Component?y=I.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,I.createElement(GN,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?I.createElement(KN,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var Ff;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(Ff||(Ff={}));var ya;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(ya||(ya={}));function YN(e){let t=I.useContext(Lc);return t||ie(!1),t}function XN(e){let t=I.useContext(rI);return t||ie(!1),t}function JN(e){let t=I.useContext(Pi);return t||ie(!1),t}function aI(e){let t=JN(),n=t.matches[t.matches.length-1];return n.route.id||ie(!1),n.route.id}function ZN(){var e;let t=I.useContext(iI),n=XN(ya.UseRouteError),r=aI(ya.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function eO(){let{router:e}=YN(Ff.UseNavigateStable),t=aI(ya.UseNavigateStable),n=I.useRef(!1);return oI(()=>{n.current=!0}),I.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Lu({fromRouteId:t},o)))},[e,t])}const tO="startTransition",m0=qI[tO];function nO(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=I.useState(n.state),{v7_startTransition:s}=r||{},a=I.useCallback(d=>{s&&m0?m0(()=>o(d)):o(d)},[o,s]);I.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=I.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:d=>n.navigate(d),push:(d,h,f)=>n.navigate(d,{state:h,preventScrollReset:f==null?void 0:f.preventScrollReset}),replace:(d,h,f)=>n.navigate(d,{replace:!0,state:h,preventScrollReset:f==null?void 0:f.preventScrollReset})}),[n]),u=n.basename||"/",c=I.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return I.createElement(I.Fragment,null,I.createElement(Lc.Provider,{value:c},I.createElement(rI.Provider,{value:i},I.createElement(iO,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?I.createElement(rO,{routes:n.routes,state:i}):t))),null)}function rO(e){let{routes:t,state:n}=e;return HN(t,void 0,n)}function iO(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ze.Pop,navigator:o,static:s=!1}=e;Ba()&&ie(!1);let a=t.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=er(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:f="default"}=r,y=I.useMemo(()=>{let v=jo(u,a);return v==null?null:{location:{pathname:v,search:c,hash:d,state:h,key:f},navigationType:i}},[a,u,c,d,h,f,i]);return y==null?null:I.createElement(Uo.Provider,{value:l},I.createElement(bc.Provider,{children:n,value:y}))}var g0;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(g0||(g0={}));new Promise(()=>{});function oO(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:I.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:I.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(this,arguments)}function sO(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function aO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lO(e,t){return e.button===0&&(!t||t==="_self")&&!aO(e)}const uO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function cO(e,t){return xN({basename:t==null?void 0:t.basename,future:va({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:JD({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||dO(),routes:e,mapRouteProperties:oO}).initialize()}function dO(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=va({},t,{errors:hO(t.errors)})),t}function hO(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Zm(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const fO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fo=I.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=t,d=sO(t,uO),{basename:h}=I.useContext(Uo),f,y=!1;if(typeof u=="string"&&pO.test(u)&&(f=u,fO))try{let g=new URL(window.location.href),E=u.startsWith("//")?new URL(g.protocol+u):new URL(u),p=jo(E.pathname,h);E.origin===g.origin&&p!=null?u=p+E.search+E.hash:y=!0}catch{}let v=UN(u,{relative:i}),w=mO(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function m(g){r&&r(g),g.defaultPrevented||w(g)}return I.createElement("a",va({},d,{href:f||v,onClick:y||o?r:m,ref:n,target:l}))});var y0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(y0||(y0={}));var v0;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(v0||(v0={}));function mO(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=t===void 0?{}:t,a=BN(),l=za(),u=sI(e,{relative:s});return I.useCallback(c=>{if(lO(c,n)){c.preventDefault();let d=r!==void 0?r:Ei(l)===Ei(u);a(e,{replace:d,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,e,o,s])}var lI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_0=re.createContext&&re.createContext(lI),Pr=globalThis&&globalThis.__assign||function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Pr.apply(this,arguments)},gO=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function uI(e){return e&&e.map(function(t,n){return re.createElement(t.tag,Pr({key:n},t.attr),uI(t.child))})}function kt(e){return function(t){return re.createElement(yO,Pr({attr:Pr({},e.attr)},t),uI(e.child))}}function yO(e){var t=function(n){var r=e.attr,i=e.size,o=e.title,s=gO(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),re.createElement("svg",Pr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Pr(Pr({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&re.createElement("title",null,o),e.children)};return _0!==void 0?re.createElement(_0.Consumer,null,function(n){return t(n)}):t(lI)}function vO(e){return kt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function _O(e){return kt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}const E0=({children:e,to:t})=>{const{pathname:n}=za(),r=`link ${n===t?"active":""}`;return _.jsx(fo,{className:r,to:t,children:e})};function tg(){const e=I.useRef(),t=()=>{e.current.classList.toggle("responsive-nav")};return _.jsxs("header",{children:[_.jsxs("div",{className:"container-nav",children:[_.jsx("div",{style:{display:"flex",alignItems:"center",gap:10},children:_.jsx(fo,{to:"/",className:"link",style:{textTransform:"uppercase"},children:"Registro Productos"})}),_.jsxs("nav",{ref:e,children:[_.jsxs("div",{className:"container-links",children:[_.jsx(E0,{to:"/",children:"Inicio"}),_.jsx(E0,{to:"/products",children:"Productos"})]}),_.jsx("button",{className:"nav-btn nav-close-btn","aria-label":"Close",onClick:t,children:_.jsx(_O,{})})]})]}),_.jsx("button",{className:"nav-btn","aria-label":"Open",onClick:t,children:_.jsx(vO,{})})]})}function EO(e){return kt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]})(e)}function wO(e){return kt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attr:{d:"M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]})(e)}function TO(e){return kt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 306.9c-113.5 0-205.1 91.6-205.1 205.1S398.5 717.1 512 717.1 717.1 625.5 717.1 512 625.5 306.9 512 306.9zm0 338.4c-73.4 0-133.3-59.9-133.3-133.3S438.6 378.7 512 378.7 645.3 438.6 645.3 512 585.4 645.3 512 645.3zm213.5-394.6c-26.5 0-47.9 21.4-47.9 47.9s21.4 47.9 47.9 47.9 47.9-21.3 47.9-47.9a47.84 47.84 0 0 0-47.9-47.9zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zm-88 235.8c-7.3 18.2-16.1 31.8-30.2 45.8-14.1 14.1-27.6 22.9-45.8 30.2C695.2 844.7 570.3 840 512 840c-58.3 0-183.3 4.7-235.9-16.1-18.2-7.3-31.8-16.1-45.8-30.2-14.1-14.1-22.9-27.6-30.2-45.8C179.3 695.2 184 570.3 184 512c0-58.3-4.7-183.3 16.1-235.9 7.3-18.2 16.1-31.8 30.2-45.8s27.6-22.9 45.8-30.2C328.7 179.3 453.7 184 512 184s183.3-4.7 235.9 16.1c18.2 7.3 31.8 16.1 45.8 30.2 14.1 14.1 22.9 27.6 30.2 45.8C844.7 328.7 840 453.7 840 512c0 58.3 4.7 183.2-16.2 235.8z"}}]})(e)}function IO(e){return kt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]})(e)}function AO(e){return kt({tag:"svg",attr:{t:"1551322312294",style:"",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z"}},{tag:"path",attr:{d:"M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z"}}]})(e)}function SO(e){return kt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"}}]})(e)}function ng(){return _.jsxs("footer",{className:"footer",children:[_.jsx("div",{className:"container",children:_.jsxs("div",{className:"row",children:[_.jsxs("div",{className:"footer-col",children:[_.jsx("h4",{children:"Registro Productos"}),_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx(fo,{to:"/",children:"Inicio"})}),_.jsx("li",{children:_.jsx(fo,{to:"/products",children:"Productos"})})]})]}),_.jsxs("div",{className:"footer-col",children:[_.jsx("h4",{children:"Nuestras redes sociales"}),_.jsx("div",{className:"social-links",children:_.jsx(fo,{"aria-label":"Instagram link",target:"blank",className:"social-icons",to:"",children:_.jsx(TO,{size:20})})})]})]})}),_.jsx("div",{className:"container-brand",children:_.jsx("p",{children:"© Registro Productos"})})]})}function CO(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var $f=I,ls=CO($f);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jf=function(){return jf=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},jf.apply(this,arguments)};function RO(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function PO(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var xO=`.scroll-to-top {
  background-color: white;
  right: 40px;
  bottom: 40px;
  position: fixed;
  z-index: 2;
  cursor: pointer;
  border-radius: 7px;
  width: 40px;
  height: 40px;
  box-shadow: 0 9px 25px 0 rgba(132, 128, 177, 0.28);
  border: none;
}

.scroll-to-top:active {
  transform: matrix(0.95, 0, 0, 0.95, 0, 0);
}
`;PO(xO);function kO(e){e===void 0&&(e=!1),e?window.scrollTo({top:0,behavior:"smooth"}):document.documentElement.scrollTop=0}var DO=function(e){var t=e.top,n=t===void 0?20:t,r=e.className,i=r===void 0?"":r,o=e.color,s=o===void 0?"black":o,a=e.smooth,l=a===void 0?!1:a,u=e.component,c=u===void 0?"":u,d=e.viewBox,h=d===void 0?"0 0 256 256":d,f=e.svgPath,y=f===void 0?"M222.138,91.475l-89.6-89.6c-2.5-2.5-6.551-2.5-9.051,0l-89.6,89.6c-2.5,2.5-2.5,6.551,0,9.051s6.744,2.5,9.244,0L122,21.85  V249.6c0,3.535,2.466,6.4,6,6.4s6-2.865,6-6.4V21.85l78.881,78.676c1.25,1.25,2.992,1.875,4.629,1.875s3.326-0.625,4.576-1.875  C224.586,98.025,224.638,93.975,222.138,91.475z":f,v=e.width,w=v===void 0?"28":v,m=e.height,g=m===void 0?"28":m,E=RO(e,["top","className","color","smooth","component","viewBox","svgPath","width","height"]),p=$f.useState(!1),T=p[0],C=p[1];return $f.useEffect(function(){var P=function(){C(document.documentElement.scrollTop>=n)};return P(),document.addEventListener("scroll",P),function(){return document.removeEventListener("scroll",P)}},[n]),ls.createElement(ls.Fragment,null,T&&ls.createElement("button",jf({className:"scroll-to-top "+i,onClick:function(){return kO(l)},"aria-label":"Scroll to top"},E),c||ls.createElement("svg",{width:w,height:g,fill:s,viewBox:h},ls.createElement("path",{d:y}))))},NO=DO;const OO=ko(NO);function MO(e){return kt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"}}]})(e)}function VO(e){return kt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"}},{tag:"path",attr:{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"}}]})(e)}function rg(){return _.jsx(_.Fragment,{children:_.jsx(OO,{top:250,smooth:!0,color:"#0089e4",component:_.jsx(MO,{style:{color:"#0089e4"},size:20})})})}function LO(e){return kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}}]})(e)}function bO(e){return kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}}]})(e)}function cI(e){return kt({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:"currentColor"}}]})(e)}function ig({children:e,open:t,close:n,setIsOpen:r}){const{setCurrentId:i}=Ri();if(!t)return null;const o=()=>{r(n),i("")};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"div-overlay-style"}),_.jsxs("div",{className:"div-modal-style",children:[_.jsx("div",{children:_.jsx("button",{className:"close-modal",onClick:o,children:_.jsx(cI,{size:20})})}),e]})]})}function FO({product:e,setIsOpen2:t}){const{onDeleteProduct:n}=Ri();return _.jsxs("div",{className:"container-delete-and-edit",children:[_.jsx("div",{children:_.jsxs("p",{children:['¿Estas seguro que quieres eliminar "',e.name,'"?']})}),_.jsxs("div",{className:"sub-container-delete-and-edit",children:[_.jsx("button",{"aria-label":"Cancelar borrar",onClick:()=>t(!1),children:"Cancelar"}),_.jsx("button",{"aria-label":"Aceptar borrar",onClick:()=>n(e.id),children:"Aceptar"})]})]})}function $O({product:e,setIsOpen:t,menuType:n}){const[r,i]=I.useState(!1),{setCurrentId:o,handleLess:s,handlePlus:a,onFavoriteProduct:l}=Ri(),u=`card-container ${n==="list"?"card-container-list":""}`,c=`sub-card-container ${n==="list"?"sub-card-container-list":""}`,d=`container-name ${n==="list"?"container-name-list":""}`,h=v=>{t(!0),o(v)},f=()=>{e.amount>1&&s(e.id,e.amount),e.amount<2&&i(!0)},y=(v,w)=>{l(v,w)};return _.jsx(_.Fragment,{children:_.jsxs("div",{className:u,children:[_.jsxs("div",{className:"sub-card-container",children:[_.jsx("div",{className:d,children:_.jsx("p",{children:e.name})}),_.jsxs("div",{className:c,children:[_.jsxs("div",{className:"container-amount",children:[_.jsx("button",{"aria-label":"Restar producto",onClick:()=>f(),children:_.jsx(IO,{size:20})}),_.jsx("span",{children:e.amount}),_.jsx("button",{"aria-label":"Sumar producto",onClick:()=>a(e.id,e.amount),children:_.jsx(AO,{size:20})})]}),_.jsx(ig,{setIsOpen:i,open:r,close:()=>i(!1),children:_.jsx(FO,{product:e,setIsOpen2:i})}),_.jsxs("div",{className:"container-edit-delete",children:[_.jsx("button",{"aria-label":e.favorite?"Eliminar de favoritos":"Agregar a favoritos",className:"setFavorite",onClick:()=>y(e.id,e.favorite),children:e.favorite?_.jsx(bO,{size:20}):_.jsx(LO,{size:20})}),_.jsx("button",{"aria-label":"Editar producto",className:"edit-btn",onClick:()=>h(e.id),children:_.jsx(EO,{size:20})}),_.jsx("button",{"aria-label":"Borrar producto",className:"delete-btn",onClick:()=>i(!0),children:_.jsx(VO,{size:18})})]}),_.jsxs("div",{children:[_.jsx("p",{children:"Expira en:"}),_.jsx("span",{children:e.date.split("-").reverse().join("/")})]}),_.jsxs("div",{children:[e.days&&!e.text&&_.jsxs("p",{children:[e.days==1?"Falta":"Faltan"," ",e.days," ",e.days==1?"dia":"dias"," para vencer"]}),e.text&&_.jsxs("p",{children:[e.text," ",e.days," ",e.days==1?"dia":"dias"]})]})]})]}),_.jsx("div",{children:e.category&&_.jsx("div",{className:"card-footer",children:_.jsx("span",{children:e.category})})})]})})}function jO(){return Ri(),UT(),_.jsxs(_.Fragment,{children:[_.jsx(pr,{children:_.jsxs(co,{children:[_.jsx("title",{children:"Inicio | Registro Productos"}),_.jsx("meta",{name:"descripción",content:"Empieze a registrar productos!!!"})]})}),_.jsx(tg,{}),_.jsx("section",{className:"section",children:"Home"}),_.jsx(rg,{}),_.jsx(ng,{})]})}function UO(){return _.jsx(_.Fragment,{children:_.jsx(jO,{})})}function BO(){return _.jsx("div",{className:"loaderForm",children:_.jsxs("div",{className:"wrapper",children:[_.jsx("div",{className:"line-1"}),_.jsx("div",{className:"line-2"}),_.jsx("div",{className:"line-3"}),_.jsx("div",{className:"line-4"}),_.jsx("div",{className:"line-5"}),_.jsx("div",{className:"line-6"}),_.jsx("div",{className:"line-7"}),_.jsx("div",{className:"line-8"})]})})}function zO({setIsOpen:e}){const{currentId:t,addOrEditProduct:n}=Ri(),[r,i]=I.useState(!0),o={name:"",date:"",amount:1,category:"",favorite:!1},[s,a]=I.useState(o),l=d=>{const{name:h,value:f}=d.target;a({...s,[h]:f,created:Ke.now()})},u=d=>(d.preventDefault(),s.name===""?Qr("Falta ingresar nombre","error"):s.date===""?Qr("Falta ingresar fecha","error"):(n(s),a({...o}),e(!1))),c=async d=>{const h=Gr(or,"products",d),f=await Nk(h);a({...f.data()}),i(!1)};return I.useEffect(()=>{t===""?(i(!1),a({...o})):c(t)},[t]),_.jsx("form",{onSubmit:u,className:"form-container",children:r?_.jsx(BO,{}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"input-container",children:_.jsx("input",{onChange:l,type:"text",className:"form-control",placeholder:"Nombre del producto",name:"name",value:s.name})}),_.jsx("div",{className:"input-container",children:_.jsx("input",{onChange:l,type:"number",className:"input-number",placeholder:"Cantidad",name:"amount",value:s.amount,min:"1"})}),_.jsx("div",{className:"input-container",children:_.jsx("input",{onChange:l,type:"date",name:"date",className:"form-control",value:s.date})}),_.jsx("div",{className:"input-container",children:_.jsx("input",{onChange:l,type:"text",name:"category",className:"form-control",placeholder:"Categoría (opcional)",value:s.category})}),_.jsx("button",{className:"btn-save-update",children:t===""?"Guardar":"Actualizar"})]})})}function HO({setSearch:e,search:t,products:n}){const r=t!==""?n.filter(i=>BT(i,t)).length:"";return _.jsxs("div",{className:"search-container",children:[_.jsx("input",{onChange:i=>e(i.target.value),placeholder:"Buscar producto..."}),r!==0?_.jsxs("span",{children:[t!==""?"Resultados: ":"",r]}):_.jsxs("span",{children:['No se encontraron resultados con "',t,'"']})]})}function w0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w0(Object(n),!0).forEach(function(r){Te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $c(e,t,n){return t&&T0(e.prototype,t),n&&T0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(){return Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nn.apply(this,arguments)}function og(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bf(e,t)}function bu(e){return bu=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},bu(e)}function Bf(e,t){return Bf=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Bf(e,t)}function qO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function WO(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jc(e,t){if(e==null)return{};var n=WO(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KO(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dn(e)}function sg(e){var t=qO();return function(){var r=bu(e),i;if(t){var o=bu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return KO(this,i)}}function GO(e,t){return XO(e)||ZO(e,t)||dI(e,t)||tM()}function QO(e){return YO(e)||JO(e)||dI(e)||eM()}function YO(e){if(Array.isArray(e))return zf(e)}function XO(e){if(Array.isArray(e))return e}function JO(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZO(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function dI(e,t){if(e){if(typeof e=="string")return zf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zf(e,t)}}function zf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nM=$c(function e(t){var n=this,r=t.expanded,i=r===void 0?[]:r,o=t.allowMultipleExpanded,s=o===void 0?!1:o,a=t.allowZeroExpanded,l=a===void 0?!1:a;Fc(this,e),Te(this,"expanded",void 0),Te(this,"allowMultipleExpanded",void 0),Te(this,"allowZeroExpanded",void 0),Te(this,"toggleExpanded",function(u){if(n.isItemDisabled(u))return n;var c=n.isItemExpanded(u);return c?n.augment({expanded:n.expanded.filter(function(d){return d!==u})}):n.augment({expanded:n.allowMultipleExpanded?[].concat(QO(n.expanded),[u]):[u]})}),Te(this,"isItemDisabled",function(u){var c=n.isItemExpanded(u),d=n.expanded.length===1;return!!(c&&!n.allowZeroExpanded&&d)}),Te(this,"isItemExpanded",function(u){return n.expanded.indexOf(u)!==-1}),Te(this,"getPanelAttributes",function(u,c){var d=c??n.isItemExpanded(u);return{role:n.allowMultipleExpanded?void 0:"region","aria-hidden":n.allowMultipleExpanded?!d:void 0,"aria-labelledby":n.getButtonId(u),id:n.getPanelId(u),hidden:d?void 0:!0}}),Te(this,"getHeadingAttributes",function(){return{role:"heading"}}),Te(this,"getButtonAttributes",function(u,c){var d=c??n.isItemExpanded(u),h=n.isItemDisabled(u);return{id:n.getButtonId(u),"aria-disabled":h,"aria-expanded":d,"aria-controls":n.getPanelId(u),role:"button",tabIndex:0}}),Te(this,"getPanelId",function(u){return"accordion__panel-".concat(u)}),Te(this,"getButtonId",function(u){return"accordion__heading-".concat(u)}),Te(this,"augment",function(u){return new e(Uf({expanded:n.expanded,allowMultipleExpanded:n.allowMultipleExpanded,allowZeroExpanded:n.allowZeroExpanded},u))}),this.expanded=i,this.allowMultipleExpanded=s,this.allowZeroExpanded=l}),hI=I.createContext(null),fI=function(e){og(n,e);var t=sg(n);function n(){var r;Fc(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Te(dn(r),"state",new nM({expanded:r.props.preExpanded,allowMultipleExpanded:r.props.allowMultipleExpanded,allowZeroExpanded:r.props.allowZeroExpanded})),Te(dn(r),"toggleExpanded",function(a){r.setState(function(l){return l.toggleExpanded(a)},function(){r.props.onChange&&r.props.onChange(r.state.expanded)})}),Te(dn(r),"isItemDisabled",function(a){return r.state.isItemDisabled(a)}),Te(dn(r),"isItemExpanded",function(a){return r.state.isItemExpanded(a)}),Te(dn(r),"getPanelAttributes",function(a,l){return r.state.getPanelAttributes(a,l)}),Te(dn(r),"getHeadingAttributes",function(){return r.state.getHeadingAttributes()}),Te(dn(r),"getButtonAttributes",function(a,l){return r.state.getButtonAttributes(a,l)}),r}return $c(n,[{key:"render",value:function(){var i=this.state,o=i.allowZeroExpanded,s=i.allowMultipleExpanded;return I.createElement(hI.Provider,{value:{allowMultipleExpanded:s,allowZeroExpanded:o,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),n}(I.PureComponent);Te(fI,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var pI=function(e){og(n,e);var t=sg(n);function n(){var r;Fc(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Te(dn(r),"renderChildren",function(a){return a?r.props.children(a):null}),r}return $c(n,[{key:"render",value:function(){return I.createElement(hI.Consumer,null,this.renderChildren)}}]),n}(I.PureComponent),rM=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],iM=function(t){var n=t.className,r=n===void 0?"accordion":n,i=t.allowMultipleExpanded,o=t.allowZeroExpanded,s=t.onChange,a=t.preExpanded,l=jc(t,rM);return I.createElement(fI,{preExpanded:a,allowMultipleExpanded:i,allowZeroExpanded:o,onChange:s},I.createElement("div",Nn({"data-accordion-component":"Accordion",className:r},l)))},Hf;(function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"})(Hf||(Hf={}));var mI=Hf,eh=0;function oM(){var e=eh;return eh=eh+1,"raa-".concat(e)}var sM=I.useId||oM,aM=/[\u0009\u000a\u000c\u000d\u0020]/g;function _a(e){return e===""||aM.test(e)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(e,'", ASCII whitespaces are forbidden')),!1):!0}var gI=I.createContext(null),lM=function(t){var n=t.children,r=t.uuid,i=t.accordionContext,o=t.dangerouslySetExpanded,s=function(){i.toggleExpanded(r)},a=function(u){var c=o??u.isItemExpanded(r),d=u.isItemDisabled(r),h=u.getPanelAttributes(r,o),f=u.getHeadingAttributes(r),y=u.getButtonAttributes(r,o);return I.createElement(gI.Provider,{value:{uuid:r,expanded:c,disabled:d,toggleExpanded:s,panelAttributes:h,headingAttributes:f,buttonAttributes:y}},n)};return I.createElement(pI,null,a)},uM=function(t){return I.createElement(pI,null,function(n){return I.createElement(lM,Nn({},t,{accordionContext:n}))})},Uc=function(t){var n=t.children,r=function(o){return o?n(o):null};return I.createElement(gI.Consumer,null,r)},cM=["uuid","dangerouslySetExpanded","className","activeClassName"],_s=function(t){var n=t.uuid,r=t.dangerouslySetExpanded,i=t.className,o=i===void 0?"accordion__item":i,s=t.activeClassName,a=jc(t,cM),l=I.useState(sM()),u=GO(l,1),c=u[0],d=n??c,h=function(y){var v=y.expanded,w=v&&s?s:o;return I.createElement("div",Nn({"data-accordion-component":"AccordionItem",className:w},a))};return _a(d.toString()),a.id&&_a(a.id),I.createElement(uM,{uuid:d,dangerouslySetExpanded:r},I.createElement(Uc,null,h))};_s.displayName=mI.AccordionItem;function yI(e){return e&&(e.matches('[data-accordion-component="Accordion"]')?e:yI(e.parentElement))}function Bc(e){var t=yI(e);return t&&Array.from(t.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function dM(e){var t=Bc(e)||[],n=t[0];n&&n.focus()}function hM(e){var t=Bc(e)||[],n=t[t.length-1];n&&n.focus()}function fM(e){var t=Bc(e)||[],n=t.indexOf(e);if(n!==-1){var r=t[n+1];r&&r.focus()}}function pM(e){var t=Bc(e)||[],n=t.indexOf(e);if(n!==-1){var r=t[n-1];r&&r.focus()}}var Ln={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},mM=["toggleExpanded","className"],gM=function(t){var n=t.toggleExpanded,r=t.className,i=r===void 0?"accordion__button":r,o=jc(t,mM),s=function(l){var u=l.key;if((u===Ln.ENTER||u===Ln.SPACE||u===Ln.SPACE_DEPRECATED)&&(l.preventDefault(),n()),l.target instanceof HTMLElement)switch(u){case Ln.HOME:{l.preventDefault(),dM(l.target);break}case Ln.END:{l.preventDefault(),hM(l.target);break}case Ln.LEFT:case Ln.UP:{l.preventDefault(),pM(l.target);break}case Ln.RIGHT:case Ln.DOWN:{l.preventDefault(),fM(l.target);break}}};return o.id&&_a(o.id),I.createElement("div",Nn({className:i},o,{role:"button",tabIndex:0,onClick:n,onKeyDown:s,"data-accordion-component":"AccordionItemButton"}))},Il=function(t){return I.createElement(Uc,null,function(n){var r=n.toggleExpanded,i=n.buttonAttributes;return I.createElement(gM,Nn({toggleExpanded:r},t,i))})},yM={className:"accordion__heading","aria-level":3},vM=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

“The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.”

`,vI=function(e){og(n,e);var t=sg(n);function n(){var r;Fc(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Te(dn(r),"ref",void 0),Te(dn(r),"setRef",function(a){r.ref=a}),r}return $c(n,[{key:"componentDidUpdate",value:function(){n.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){n.VALIDATE(this.ref)}},{key:"render",value:function(){return I.createElement("div",Nn({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(i){if(i===void 0)throw new Error("ref is undefined");if(!(i.childElementCount===1&&i.firstElementChild&&i.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(vM)}}]),n}(I.PureComponent);Te(vI,"defaultProps",yM);var Es=function(t){return I.createElement(Uc,null,function(n){var r=n.headingAttributes;return t.id&&_a(t.id),I.createElement(vI,Nn({},t,r))})};Es.displayName=mI.AccordionItemHeading;var _M=["className","region","id"],Al=function(t){var n=t.className,r=n===void 0?"accordion__panel":n,i=t.region,o=t.id,s=jc(t,_M),a=function(u){var c=u.panelAttributes;o&&_a(o);var d=Uf(Uf({},c),{},{"aria-labelledby":i?c["aria-labelledby"]:void 0});return I.createElement("div",Nn({"data-accordion-component":"AccordionItemPanel",className:r},s,d,{role:i?"region":void 0}))};return I.createElement(Uc,null,a)};function EM(e){return kt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm96-64H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-96,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48Zm96-64H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,200,136Zm0,64H152V152h48v48Z"}}]})(e)}function wM({clickSquare:e,clickList:t}){return _.jsxs("div",{className:"container-menu-type",children:[_.jsx("button",{onClick:()=>e(),children:_.jsx(EM,{size:20})}),_.jsx("button",{onClick:()=>t(),children:_.jsx(SO,{size:20})})]})}function TM(){return _.jsx("div",{className:"pollo",children:_.jsx("img",{src:"https://i.pinimg.com/originals/b0/ec/ce/b0ecce5d028525d08389f01324fec5b4.jpg",alt:""})})}function IM(){return _.jsxs("div",{className:"container-loader",children:[_.jsx("span",{className:"loader"}),_.jsx("p",{children:"Cargando..."})]})}const AM=()=>{const[e,t]=I.useState(window.innerWidth),[n,r]=I.useState(window.innerHeight);I.useEffect(()=>(window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}),[]);const i=()=>{t(window.innerWidth),r(window.innerHeight)};return{width:e,height:n}};function SM(e){return kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2.75 6a.75.75 0 0 0 0 1.5h18.5a.75.75 0 0 0 0-1.5H2.75ZM6 11.75a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75Zm4 4.938a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"}}]})(e)}function CM({menu:e,setMenu:t,setCategory:n,setOrdenByDate:r,setOrdenByName:i}){const[o,s]=I.useState(-1),[a,l]=I.useState(!1),[u,c]=I.useState(0),{products:d,expiredProducts:h,productsVence:f,favorite:y}=Ri(),v=`container-filters ${e?"container-filters-open":""}`,w=`sub-container-menu ${e?"sub-container-menu-open":""}`,m=()=>{n(""),i(""),r(""),s(-1),c(0)},g=(x,j)=>{n(x),s(j)},E=()=>{i(""),r("")},p=()=>{i(""),r("orden2")},T=()=>{r(""),i("orden1")},C=x=>{const F=(x!=="all"?d.filter(ue=>ue.category==x):d).length;return _.jsx("span",{children:F})},P=()=>_.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsxs("span",{children:["Productos: ",d.length]}),_.jsxs("span",{children:["Productos por vencer: ",f.length]}),_.jsxs("span",{children:["Productos ya vencidos: ",h.length]}),_.jsxs("span",{children:["Favoritos: ",y.length]})]});return _.jsx("div",{className:v,children:_.jsxs("div",{className:w,children:[_.jsx("button",{className:"btn-filters",onClick:()=>t(!1),children:_.jsx(cI,{size:20})}),_.jsxs("div",{children:[_.jsxs("div",{className:"container-header",children:[_.jsx("p",{children:"Mis filtros"}),_.jsx(SM,{size:60})]}),_.jsxs("div",{children:[_.jsx("button",{className:"resetAllfilter",onClick:()=>m(),children:"Resetear filtros"}),_.jsxs("div",{className:"list-filters",children:[_.jsxs("button",{className:o===-1?"btn-filter active-filter":"btn-filter",onClick:()=>{n(""),s(-1)},children:["Todos ",C("all")]}),Array.from(new Set(d.map(x=>x.category))).map((x,j)=>{if(x)return _.jsxs("button",{className:o===j?"btn-filter active-filter":"btn-filter",onClick:()=>g(x,j),children:[x,C(x)]},j)})]})]}),_.jsxs("div",{children:[_.jsx("p",{style:{textAlign:"center",margin:"10px"},children:"Ordenar por"}),_.jsxs("div",{className:"list-filters",children:[_.jsx("button",{className:u===0?"btn-filter-orden active-orden":"btn-filter",onClick:()=>{E(),c(0)},children:"Por defecto"}),_.jsx("button",{className:u===1?"btn-filter-orden active-orden":"btn-filter",onClick:()=>{p(),c(1)},children:"Fecha de vencimiento"}),_.jsx("button",{className:u===2?"btn-filter-orden active-orden":"btn-filter",onClick:()=>{T(),c(2)},children:"Alfabeticamente"})]})]})]}),_.jsx(ig,{setIsOpen:l,open:a,close:()=>l(!1),children:_.jsx(P,{})}),_.jsx("div",{className:"container-footer",children:_.jsxs("button",{onClick:()=>l(!0),children:[_.jsx(wO,{size:20})," Informacion adicional"]})})]})})}function RM(){const{products:e,productsVence:t,expiredProducts:n,loader:r,setLoader:i,favorite:o}=Ri(),[s,a]=I.useState(!1),[l,u]=I.useState(!1),[c,d]=I.useState(""),[h,f]=I.useState(""),[y,v]=I.useState(""),[w,m]=I.useState(""),[g,E]=I.useState(localStorage.getItem("menuType")||[]),{width:p}=AM();I.useEffect(()=>{UT()},[r]);const T=M=>w.toLowerCase()===""?M:BT(M,w),C=M=>c===""?M:M.category===c,P=(M,G)=>{if(h!=="")return M.date<G.date?-1:M.date>G.date?1:0},x=(M,G)=>{if(y!=="")return M.name<G.name?-1:M.name>G.name?1:0},j=M=>_.jsx($O,{menuType:g,product:M,setIsOpen:a},M.id);localStorage.setItem("menuType",g);const F=()=>{E("list")},ue=()=>{E("square")},q={color:"white",backgroundColor:"#0089e4",userSelect:"none",borderRadius:"10px",position:"relative"};return _.jsxs(_.Fragment,{children:[_.jsx(pr,{children:_.jsxs(co,{children:[_.jsx("title",{children:"Productos | Registro Productos"}),_.jsx("meta",{name:"descripción",content:"Ingrese su producto favorito!!"})]})}),_.jsx(tg,{}),_.jsxs("section",{className:"section",children:[_.jsx(ig,{setIsOpen:a,open:s,close:()=>a(!1),children:_.jsx(zO,{setIsOpen:a})}),_.jsxs("div",{className:"container-full-products",children:[e.length>0&&_.jsx("h1",{className:"myProducts",children:"Mis productos"}),_.jsx("div",{children:_.jsx("button",{"aria-label":"Agregar nuevo producto",className:"btn-add-product",onClick:()=>a(!0),children:"Nuevo producto"})}),r?_.jsx(IM,{}):e.length===0?_.jsx(TM,{}):_.jsxs(_.Fragment,{children:[_.jsx(HO,{setSearch:m,search:w,products:e}),_.jsx("div",{children:_.jsx("button",{className:"add-filter-btn",onClick:()=>u(!0),children:"Ver filtros"})}),_.jsx(CM,{setMenu:u,menu:l,setCategory:d,setOrdenByDate:f,setOrdenByName:v}),p>=900&&_.jsx(wM,{clickList:F,clickSquare:ue}),_.jsxs(iM,{allowZeroExpanded:!0,allowMultipleExpanded:!0,preExpanded:["a"],style:{borderRadius:"10px",border:"none"},children:[_.jsxs(_s,{uuid:"a",children:[_.jsx(Es,{children:_.jsxs(Il,{style:q,children:["Productos",_.jsx("span",{className:"span-length",children:e.length})]})}),_.jsx(Al,{children:_.jsxs("div",{className:"container-products",children:[e.length<1&&"No hay productos",e.filter(M=>T(M)).filter(M=>C(M)).sort((M,G)=>P(M,G)).sort((M,G)=>x(M,G)).map(M=>j(M))]})})]}),_.jsxs(_s,{children:[_.jsx(Es,{children:_.jsxs(Il,{style:q,children:["Productos por vencer",_.jsx("span",{className:"span-length",children:t.length})]})}),_.jsx(Al,{children:_.jsxs("div",{className:"container-products",children:[t.length<1&&"No hay productos por vencer",t.filter(M=>T(M)).filter(M=>C(M)).sort((M,G)=>P(M,G)).sort((M,G)=>x(M,G)).map(M=>j(M))]})})]}),_.jsxs(_s,{children:[_.jsx(Es,{children:_.jsxs(Il,{style:q,children:["Productos vencidos",_.jsx("span",{className:"span-length",children:n.length})]})}),_.jsx(Al,{children:_.jsxs("div",{className:"container-products",children:[n.length<1&&"No hay productos vencidos",n.filter(M=>T(M)).filter(M=>C(M)).sort((M,G)=>P(M,G)).sort((M,G)=>x(M,G)).map(M=>j(M))]})})]}),_.jsxs(_s,{children:[_.jsx(Es,{children:_.jsxs(Il,{style:q,children:["Favoritos",_.jsx("span",{className:"span-length",children:o.length})]})}),_.jsx(Al,{children:_.jsxs("div",{className:"container-products",children:[o.length<1&&"No hay favoritos",o.filter(M=>T(M)).filter(M=>C(M)).sort((M,G)=>P(M,G)).sort((M,G)=>x(M,G)).map(M=>j(M))]})})]})]})]})]})]}),_.jsx(rg,{}),_.jsx(ng,{})]})}function PM(){return _.jsxs(_.Fragment,{children:[_.jsx(pr,{children:_.jsx(co,{children:_.jsx("title",{children:"404 | Registro Productos"})})}),_.jsx(tg,{}),_.jsx("section",{className:"section",children:_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[_.jsx("h1",{style:{fontSize:"120px"},children:"404"}),_.jsx("p",{style:{fontSize:"24px"},children:"Pagina no encontrada"}),_.jsx(fo,{style:{marginTop:"20px"},to:"/",children:"Volver al Inicio"})]})}),_.jsx(rg,{}),_.jsx(ng,{})]})}const xM=[{path:"/",element:_.jsx(UO,{}),errorElement:_.jsx(PM,{})},{path:"/products",element:_.jsx(RM,{})}],kM=cO(xM);th.createRoot(document.getElementById("root")).render(_.jsxs(ID,{children:[_.jsx(nO,{router:kM}),_.jsx(kf,{})]}));
