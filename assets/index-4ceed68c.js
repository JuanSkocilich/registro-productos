function kI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Do(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A0={exports:{}},$u={},S0={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=Symbol.for("react.element"),DI=Symbol.for("react.portal"),NI=Symbol.for("react.fragment"),OI=Symbol.for("react.strict_mode"),MI=Symbol.for("react.profiler"),VI=Symbol.for("react.provider"),LI=Symbol.for("react.context"),bI=Symbol.for("react.forward_ref"),FI=Symbol.for("react.suspense"),$I=Symbol.for("react.memo"),jI=Symbol.for("react.lazy"),vg=Symbol.iterator;function UI(e){return e===null||typeof e!="object"?null:(e=vg&&e[vg]||e["@@iterator"],typeof e=="function"?e:null)}var C0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R0=Object.assign,P0={};function No(e,t,n){this.props=e,this.context=t,this.refs=P0,this.updater=n||C0}No.prototype.isReactComponent={};No.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};No.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x0(){}x0.prototype=No.prototype;function Wf(e,t,n){this.props=e,this.context=t,this.refs=P0,this.updater=n||C0}var Kf=Wf.prototype=new x0;Kf.constructor=Wf;R0(Kf,No.prototype);Kf.isPureReactComponent=!0;var _g=Array.isArray,k0=Object.prototype.hasOwnProperty,Gf={current:null},D0={key:!0,ref:!0,__self:!0,__source:!0};function N0(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)k0.call(t,r)&&!D0.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wa,type:e,key:o,ref:s,props:i,_owner:Gf.current}}function BI(e,t){return{$$typeof:wa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qf(e){return typeof e=="object"&&e!==null&&e.$$typeof===wa}function zI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Eg=/\/+/g;function Jc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zI(""+e.key):t.toString(36)}function Cl(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case wa:case DI:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Jc(s,0):r,_g(i)?(n="",e!=null&&(n=e.replace(Eg,"$&/")+"/"),Cl(i,t,n,"",function(u){return u})):i!=null&&(Qf(i)&&(i=BI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Eg,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",_g(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Jc(o,a);s+=Cl(o,t,n,l,i)}else if(l=UI(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Jc(o,a++),s+=Cl(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ga(e,t,n){if(e==null)return e;var r=[],i=0;return Cl(e,r,"","",function(o){return t.call(n,o,i++)}),r}function HI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pt={current:null},Rl={transition:null},qI={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Rl,ReactCurrentOwner:Gf};se.Children={map:Ga,forEach:function(e,t,n){Ga(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ga(e,function(){t++}),t},toArray:function(e){return Ga(e,function(t){return t})||[]},only:function(e){if(!Qf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=No;se.Fragment=NI;se.Profiler=MI;se.PureComponent=Wf;se.StrictMode=OI;se.Suspense=FI;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qI;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=R0({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Gf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)k0.call(t,l)&&!D0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wa,type:e.type,key:i,ref:o,props:r,_owner:s}};se.createContext=function(e){return e={$$typeof:LI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VI,_context:e},e.Consumer=e};se.createElement=N0;se.createFactory=function(e){var t=N0.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:bI,render:e}};se.isValidElement=Qf;se.lazy=function(e){return{$$typeof:jI,_payload:{_status:-1,_result:e},_init:HI}};se.memo=function(e,t){return{$$typeof:$I,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Rl.transition;Rl.transition={};try{e()}finally{Rl.transition=t}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(e,t){return Pt.current.useCallback(e,t)};se.useContext=function(e){return Pt.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return Pt.current.useDeferredValue(e)};se.useEffect=function(e,t){return Pt.current.useEffect(e,t)};se.useId=function(){return Pt.current.useId()};se.useImperativeHandle=function(e,t,n){return Pt.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return Pt.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Pt.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Pt.current.useMemo(e,t)};se.useReducer=function(e,t,n){return Pt.current.useReducer(e,t,n)};se.useRef=function(e){return Pt.current.useRef(e)};se.useState=function(e){return Pt.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return Pt.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return Pt.current.useTransition()};se.version="18.2.0";S0.exports=se;var I=S0.exports;const re=Do(I),WI=kI({__proto__:null,default:re},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI=I,GI=Symbol.for("react.element"),QI=Symbol.for("react.fragment"),YI=Object.prototype.hasOwnProperty,XI=KI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JI={key:!0,ref:!0,__self:!0,__source:!0};function O0(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)YI.call(t,r)&&!JI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:GI,type:e,key:o,ref:s,props:i,_owner:XI.current}}$u.Fragment=QI;$u.jsx=O0;$u.jsxs=O0;A0.exports=$u;var _=A0.exports,nh={},M0={exports:{}},Wt={},V0={exports:{}},L0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,z){var te=O.length;O.push(z);e:for(;0<te;){var ke=te-1>>>1,Ue=O[ke];if(0<i(Ue,z))O[ke]=z,O[te]=Ue,te=ke;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var z=O[0],te=O.pop();if(te!==z){O[0]=te;e:for(var ke=0,Ue=O.length,ki=Ue>>>1;ke<ki;){var ve=2*(ke+1)-1,On=O[ve],_n=ve+1,Di=O[_n];if(0>i(On,te))_n<Ue&&0>i(Di,On)?(O[ke]=Di,O[_n]=te,ke=_n):(O[ke]=On,O[ve]=te,ke=ve);else if(_n<Ue&&0>i(Di,te))O[ke]=Di,O[_n]=te,ke=_n;else break e}}return z}function i(O,z){var te=O.sortIndex-z.sortIndex;return te!==0?te:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(O){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=O)r(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function p(O){if(v=!1,E(O),!y)if(n(l)!==null)y=!0,de(T);else{var z=n(u);z!==null&&je(p,z.startTime-O)}}function T(O,z){y=!1,v&&(v=!1,m(x),x=-1),f=!0;var te=h;try{for(E(z),d=n(l);d!==null&&(!(d.expirationTime>z)||O&&!ue());){var ke=d.callback;if(typeof ke=="function"){d.callback=null,h=d.priorityLevel;var Ue=ke(d.expirationTime<=z);z=e.unstable_now(),typeof Ue=="function"?d.callback=Ue:d===n(l)&&r(l),E(z)}else r(l);d=n(l)}if(d!==null)var ki=!0;else{var ve=n(u);ve!==null&&je(p,ve.startTime-z),ki=!1}return ki}finally{d=null,h=te,f=!1}}var C=!1,P=null,x=-1,j=5,F=-1;function ue(){return!(e.unstable_now()-F<j)}function q(){if(P!==null){var O=e.unstable_now();F=O;var z=!0;try{z=P(!0,O)}finally{z?M():(C=!1,P=null)}}else C=!1}var M;if(typeof g=="function")M=function(){g(q)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Je=G.port2;G.port1.onmessage=q,M=function(){Je.postMessage(null)}}else M=function(){w(q,0)};function de(O){P=O,C||(C=!0,M())}function je(O,z){x=w(function(){O(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){y||f||(y=!0,de(T))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var te=h;h=z;try{return O()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var te=h;h=O;try{return z()}finally{h=te}},e.unstable_scheduleCallback=function(O,z,te){var ke=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ke+te:ke):te=ke,O){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=te+Ue,O={id:c++,callback:z,priorityLevel:O,startTime:te,expirationTime:Ue,sortIndex:-1},te>ke?(O.sortIndex=te,t(u,O),n(l)===null&&O===n(u)&&(v?(m(x),x=-1):v=!0,je(p,te-ke))):(O.sortIndex=Ue,t(l,O),y||f||(y=!0,de(T))),O},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(O){var z=h;return function(){var te=h;h=z;try{return O.apply(this,arguments)}finally{h=te}}}})(L0);V0.exports=L0;var ZI=V0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0=I,Ht=ZI;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F0=new Set,$s={};function Ti(e,t){mo(e,t),mo(e+"Capture",t)}function mo(e,t){for($s[e]=t,e=0;e<t.length;e++)F0.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rh=Object.prototype.hasOwnProperty,eA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wg={},Tg={};function tA(e){return rh.call(Tg,e)?!0:rh.call(wg,e)?!1:eA.test(e)?Tg[e]=!0:(wg[e]=!0,!1)}function nA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rA(e,t,n,r){if(t===null||typeof t>"u"||nA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yf=/[\-:]([a-z])/g;function Xf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yf,Xf);ct[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yf,Xf);ct[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yf,Xf);ct[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jf(e,t,n,r){var i=ct.hasOwnProperty(t)?ct[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rA(t,n,i,r)&&(n=null),r||i===null?tA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Zn=b0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qa=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),$0=Symbol.for("react.provider"),j0=Symbol.for("react.context"),ep=Symbol.for("react.forward_ref"),oh=Symbol.for("react.suspense"),sh=Symbol.for("react.suspense_list"),tp=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),U0=Symbol.for("react.offscreen"),Ig=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=Ig&&e[Ig]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Zc;function cs(e){if(Zc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zc=t&&t[1]||""}return`
`+Zc+e}var ed=!1;function td(e,t){if(!e||ed)return"";ed=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{ed=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cs(e):""}function iA(e){switch(e.tag){case 5:return cs(e.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return e=td(e.type,!1),e;case 11:return e=td(e.type.render,!1),e;case 1:return e=td(e.type,!0),e;default:return""}}function ah(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $i:return"Fragment";case Fi:return"Portal";case ih:return"Profiler";case Zf:return"StrictMode";case oh:return"Suspense";case sh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j0:return(e.displayName||"Context")+".Consumer";case $0:return(e._context.displayName||"Context")+".Provider";case ep:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tp:return t=e.displayName||null,t!==null?t:ah(e.type)||"Memo";case sr:t=e._payload,e=e._init;try{return ah(e(t))}catch{}}return null}function oA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ah(t);case 8:return t===Zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function B0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sA(e){var t=B0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ya(e){e._valueTracker||(e._valueTracker=sA(e))}function z0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=B0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lh(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ag(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function H0(e,t){t=t.checked,t!=null&&Jf(e,"checked",t,!1)}function uh(e,t){H0(e,t);var n=xr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ch(e,t.type,n):t.hasOwnProperty("defaultValue")&&ch(e,t.type,xr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ch(e,t,n){(t!=="number"||ql(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ds=Array.isArray;function Zi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(ds(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xr(n)}}function q0(e,t){var n=xr(t.value),r=xr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function W0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?W0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xa,K0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xa=Xa||document.createElement("div"),Xa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aA=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(e){aA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ts[t]=Ts[e]})});function G0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ts.hasOwnProperty(e)&&Ts[e]?(""+t).trim():t+"px"}function Q0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=G0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var lA=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fh(e,t){if(t){if(lA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function ph(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=null;function np(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gh=null,eo=null,to=null;function Pg(e){if(e=Aa(e)){if(typeof gh!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Hu(t),gh(e.stateNode,e.type,t))}}function Y0(e){eo?to?to.push(e):to=[e]:eo=e}function X0(){if(eo){var e=eo,t=to;if(to=eo=null,Pg(e),t)for(e=0;e<t.length;e++)Pg(t[e])}}function J0(e,t){return e(t)}function Z0(){}var nd=!1;function e1(e,t,n){if(nd)return e(t,n);nd=!0;try{return J0(e,t,n)}finally{nd=!1,(eo!==null||to!==null)&&(Z0(),X0())}}function Us(e,t){var n=e.stateNode;if(n===null)return null;var r=Hu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var yh=!1;if(Hn)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){yh=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{yh=!1}function uA(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Is=!1,Wl=null,Kl=!1,vh=null,cA={onError:function(e){Is=!0,Wl=e}};function dA(e,t,n,r,i,o,s,a,l){Is=!1,Wl=null,uA.apply(cA,arguments)}function hA(e,t,n,r,i,o,s,a,l){if(dA.apply(this,arguments),Is){if(Is){var u=Wl;Is=!1,Wl=null}else throw Error(D(198));Kl||(Kl=!0,vh=u)}}function Ii(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function t1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xg(e){if(Ii(e)!==e)throw Error(D(188))}function fA(e){var t=e.alternate;if(!t){if(t=Ii(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return xg(i),e;if(o===r)return xg(i),t;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function n1(e){return e=fA(e),e!==null?r1(e):null}function r1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=r1(e);if(t!==null)return t;e=e.sibling}return null}var i1=Ht.unstable_scheduleCallback,kg=Ht.unstable_cancelCallback,pA=Ht.unstable_shouldYield,mA=Ht.unstable_requestPaint,$e=Ht.unstable_now,gA=Ht.unstable_getCurrentPriorityLevel,rp=Ht.unstable_ImmediatePriority,o1=Ht.unstable_UserBlockingPriority,Gl=Ht.unstable_NormalPriority,yA=Ht.unstable_LowPriority,s1=Ht.unstable_IdlePriority,ju=null,Cn=null;function vA(e){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(ju,e,void 0,(e.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:wA,_A=Math.log,EA=Math.LN2;function wA(e){return e>>>=0,e===0?32:31-(_A(e)/EA|0)|0}var Ja=64,Za=4194304;function hs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ql(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=hs(a):(o&=s,o!==0&&(r=hs(o)))}else s=n&~i,s!==0?r=hs(s):o!==0&&(r=hs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fn(t),i=1<<n,r|=e[n],t&=~i;return r}function TA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-fn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=TA(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function _h(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function a1(){var e=Ja;return Ja<<=1,!(Ja&4194240)&&(Ja=64),e}function rd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ta(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fn(t),e[t]=n}function AA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-fn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function ip(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pe=0;function l1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var u1,op,c1,d1,h1,Eh=!1,el=[],mr=null,gr=null,yr=null,Bs=new Map,zs=new Map,lr=[],SA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dg(e,t){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(t.pointerId)}}function Go(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Aa(t),t!==null&&op(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function CA(e,t,n,r,i){switch(t){case"focusin":return mr=Go(mr,e,t,n,r,i),!0;case"dragenter":return gr=Go(gr,e,t,n,r,i),!0;case"mouseover":return yr=Go(yr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Bs.set(o,Go(Bs.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,zs.set(o,Go(zs.get(o)||null,e,t,n,r,i)),!0}return!1}function f1(e){var t=Xr(e.target);if(t!==null){var n=Ii(t);if(n!==null){if(t=n.tag,t===13){if(t=t1(n),t!==null){e.blockedOn=t,h1(e.priority,function(){c1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mh=r,n.target.dispatchEvent(r),mh=null}else return t=Aa(n),t!==null&&op(t),e.blockedOn=n,!1;t.shift()}return!0}function Ng(e,t,n){Pl(e)&&n.delete(t)}function RA(){Eh=!1,mr!==null&&Pl(mr)&&(mr=null),gr!==null&&Pl(gr)&&(gr=null),yr!==null&&Pl(yr)&&(yr=null),Bs.forEach(Ng),zs.forEach(Ng)}function Qo(e,t){e.blockedOn===t&&(e.blockedOn=null,Eh||(Eh=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,RA)))}function Hs(e){function t(i){return Qo(i,e)}if(0<el.length){Qo(el[0],e);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mr!==null&&Qo(mr,e),gr!==null&&Qo(gr,e),yr!==null&&Qo(yr,e),Bs.forEach(t),zs.forEach(t),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)f1(n),n.blockedOn===null&&lr.shift()}var no=Zn.ReactCurrentBatchConfig,Yl=!0;function PA(e,t,n,r){var i=pe,o=no.transition;no.transition=null;try{pe=1,sp(e,t,n,r)}finally{pe=i,no.transition=o}}function xA(e,t,n,r){var i=pe,o=no.transition;no.transition=null;try{pe=4,sp(e,t,n,r)}finally{pe=i,no.transition=o}}function sp(e,t,n,r){if(Yl){var i=wh(e,t,n,r);if(i===null)fd(e,t,r,Xl,n),Dg(e,r);else if(CA(i,e,t,n,r))r.stopPropagation();else if(Dg(e,r),t&4&&-1<SA.indexOf(e)){for(;i!==null;){var o=Aa(i);if(o!==null&&u1(o),o=wh(e,t,n,r),o===null&&fd(e,t,r,Xl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else fd(e,t,r,null,n)}}var Xl=null;function wh(e,t,n,r){if(Xl=null,e=np(r),e=Xr(e),e!==null)if(t=Ii(e),t===null)e=null;else if(n=t.tag,n===13){if(e=t1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xl=e,null}function p1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gA()){case rp:return 1;case o1:return 4;case Gl:case yA:return 16;case s1:return 536870912;default:return 16}default:return 16}}var cr=null,ap=null,xl=null;function m1(){if(xl)return xl;var e,t=ap,n=t.length,r,i="value"in cr?cr.value:cr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return xl=i.slice(e,1<r?1-r:void 0)}function kl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tl(){return!0}function Og(){return!1}function Kt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?tl:Og,this.isPropagationStopped=Og,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),t}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lp=Kt(Oo),Ia=Oe({},Oo,{view:0,detail:0}),kA=Kt(Ia),id,od,Yo,Uu=Oe({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yo&&(Yo&&e.type==="mousemove"?(id=e.screenX-Yo.screenX,od=e.screenY-Yo.screenY):od=id=0,Yo=e),id)},movementY:function(e){return"movementY"in e?e.movementY:od}}),Mg=Kt(Uu),DA=Oe({},Uu,{dataTransfer:0}),NA=Kt(DA),OA=Oe({},Ia,{relatedTarget:0}),sd=Kt(OA),MA=Oe({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),VA=Kt(MA),LA=Oe({},Oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bA=Kt(LA),FA=Oe({},Oo,{data:0}),Vg=Kt(FA),$A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UA[e])?!!t[e]:!1}function up(){return BA}var zA=Oe({},Ia,{key:function(e){if(e.key){var t=$A[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(e){return e.type==="keypress"?kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HA=Kt(zA),qA=Oe({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lg=Kt(qA),WA=Oe({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),KA=Kt(WA),GA=Oe({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),QA=Kt(GA),YA=Oe({},Uu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XA=Kt(YA),JA=[9,13,27,32],cp=Hn&&"CompositionEvent"in window,As=null;Hn&&"documentMode"in document&&(As=document.documentMode);var ZA=Hn&&"TextEvent"in window&&!As,g1=Hn&&(!cp||As&&8<As&&11>=As),bg=String.fromCharCode(32),Fg=!1;function y1(e,t){switch(e){case"keyup":return JA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ji=!1;function eS(e,t){switch(e){case"compositionend":return v1(t);case"keypress":return t.which!==32?null:(Fg=!0,bg);case"textInput":return e=t.data,e===bg&&Fg?null:e;default:return null}}function tS(e,t){if(ji)return e==="compositionend"||!cp&&y1(e,t)?(e=m1(),xl=ap=cr=null,ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return g1&&t.locale!=="ko"?null:t.data;default:return null}}var nS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nS[e.type]:t==="textarea"}function _1(e,t,n,r){Y0(r),t=Jl(t,"onChange"),0<t.length&&(n=new lp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ss=null,qs=null;function rS(e){k1(e,0)}function Bu(e){var t=zi(e);if(z0(t))return e}function iS(e,t){if(e==="change")return t}var E1=!1;if(Hn){var ad;if(Hn){var ld="oninput"in document;if(!ld){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),ld=typeof jg.oninput=="function"}ad=ld}else ad=!1;E1=ad&&(!document.documentMode||9<document.documentMode)}function Ug(){Ss&&(Ss.detachEvent("onpropertychange",w1),qs=Ss=null)}function w1(e){if(e.propertyName==="value"&&Bu(qs)){var t=[];_1(t,qs,e,np(e)),e1(rS,t)}}function oS(e,t,n){e==="focusin"?(Ug(),Ss=t,qs=n,Ss.attachEvent("onpropertychange",w1)):e==="focusout"&&Ug()}function sS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bu(qs)}function aS(e,t){if(e==="click")return Bu(t)}function lS(e,t){if(e==="input"||e==="change")return Bu(t)}function uS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:uS;function Ws(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rh.call(t,i)||!gn(e[i],t[i]))return!1}return!0}function Bg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zg(e,t){var n=Bg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bg(n)}}function T1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?T1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function I1(){for(var e=window,t=ql();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ql(e.document)}return t}function dp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cS(e){var t=I1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&T1(n.ownerDocument.documentElement,n)){if(r!==null&&dp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=zg(n,o);var s=zg(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dS=Hn&&"documentMode"in document&&11>=document.documentMode,Ui=null,Th=null,Cs=null,Ih=!1;function Hg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ih||Ui==null||Ui!==ql(r)||(r=Ui,"selectionStart"in r&&dp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cs&&Ws(Cs,r)||(Cs=r,r=Jl(Th,"onSelect"),0<r.length&&(t=new lp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ui)))}function nl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bi={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},ud={},A1={};Hn&&(A1=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function zu(e){if(ud[e])return ud[e];if(!Bi[e])return e;var t=Bi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in A1)return ud[e]=t[n];return e}var S1=zu("animationend"),C1=zu("animationiteration"),R1=zu("animationstart"),P1=zu("transitionend"),x1=new Map,qg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(e,t){x1.set(e,t),Ti(t,[e])}for(var cd=0;cd<qg.length;cd++){var dd=qg[cd],hS=dd.toLowerCase(),fS=dd[0].toUpperCase()+dd.slice(1);Vr(hS,"on"+fS)}Vr(S1,"onAnimationEnd");Vr(C1,"onAnimationIteration");Vr(R1,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(P1,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pS=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function Wg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hA(r,t,void 0,e),e.currentTarget=null}function k1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Wg(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Wg(i,a,u),o=l}}}if(Kl)throw e=vh,Kl=!1,vh=null,e}function we(e,t){var n=t[Ph];n===void 0&&(n=t[Ph]=new Set);var r=e+"__bubble";n.has(r)||(D1(t,e,2,!1),n.add(r))}function hd(e,t,n){var r=0;t&&(r|=4),D1(n,e,r,t)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Ks(e){if(!e[rl]){e[rl]=!0,F0.forEach(function(n){n!=="selectionchange"&&(pS.has(n)||hd(n,!1,e),hd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rl]||(t[rl]=!0,hd("selectionchange",!1,t))}}function D1(e,t,n,r){switch(p1(t)){case 1:var i=PA;break;case 4:i=xA;break;default:i=sp}n=i.bind(null,t,n,e),i=void 0,!yh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fd(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Xr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}e1(function(){var u=o,c=np(n),d=[];e:{var h=x1.get(e);if(h!==void 0){var f=lp,y=e;switch(e){case"keypress":if(kl(n)===0)break e;case"keydown":case"keyup":f=HA;break;case"focusin":y="focus",f=sd;break;case"focusout":y="blur",f=sd;break;case"beforeblur":case"afterblur":f=sd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=NA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=KA;break;case S1:case C1:case R1:f=VA;break;case P1:f=QA;break;case"scroll":f=kA;break;case"wheel":f=XA;break;case"copy":case"cut":case"paste":f=bA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Lg}var v=(t&4)!==0,w=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,E;g!==null;){E=g;var p=E.stateNode;if(E.tag===5&&p!==null&&(E=p,m!==null&&(p=Us(g,m),p!=null&&v.push(Gs(g,p,E)))),w)break;g=g.return}0<v.length&&(h=new f(h,y,null,n,c),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==mh&&(y=n.relatedTarget||n.fromElement)&&(Xr(y)||y[qn]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?Xr(y):null,y!==null&&(w=Ii(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(v=Mg,p="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Lg,p="onPointerLeave",m="onPointerEnter",g="pointer"),w=f==null?h:zi(f),E=y==null?h:zi(y),h=new v(p,g+"leave",f,n,c),h.target=w,h.relatedTarget=E,p=null,Xr(c)===u&&(v=new v(m,g+"enter",y,n,c),v.target=E,v.relatedTarget=w,p=v),w=p,f&&y)t:{for(v=f,m=y,g=0,E=v;E;E=Ni(E))g++;for(E=0,p=m;p;p=Ni(p))E++;for(;0<g-E;)v=Ni(v),g--;for(;0<E-g;)m=Ni(m),E--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Ni(v),m=Ni(m)}v=null}else v=null;f!==null&&Kg(d,h,f,v,!1),y!==null&&w!==null&&Kg(d,w,y,v,!0)}}e:{if(h=u?zi(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var T=iS;else if($g(h))if(E1)T=lS;else{T=sS;var C=oS}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=aS);if(T&&(T=T(e,u))){_1(d,T,n,c);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&ch(h,"number",h.value)}switch(C=u?zi(u):window,e){case"focusin":($g(C)||C.contentEditable==="true")&&(Ui=C,Th=u,Cs=null);break;case"focusout":Cs=Th=Ui=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,Hg(d,n,c);break;case"selectionchange":if(dS)break;case"keydown":case"keyup":Hg(d,n,c)}var P;if(cp)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ji?y1(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(g1&&n.locale!=="ko"&&(ji||x!=="onCompositionStart"?x==="onCompositionEnd"&&ji&&(P=m1()):(cr=c,ap="value"in cr?cr.value:cr.textContent,ji=!0)),C=Jl(u,x),0<C.length&&(x=new Vg(x,e,null,n,c),d.push({event:x,listeners:C}),P?x.data=P:(P=v1(n),P!==null&&(x.data=P)))),(P=ZA?eS(e,n):tS(e,n))&&(u=Jl(u,"onBeforeInput"),0<u.length&&(c=new Vg("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=P))}k1(d,t)})}function Gs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Us(e,n),o!=null&&r.unshift(Gs(e,o,i)),o=Us(e,t),o!=null&&r.push(Gs(e,o,i))),e=e.return}return r}function Ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kg(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Us(n,o),l!=null&&s.unshift(Gs(n,l,a))):i||(l=Us(n,o),l!=null&&s.push(Gs(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var mS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function Gg(e){return(typeof e=="string"?e:""+e).replace(mS,`
`).replace(gS,"")}function il(e,t,n){if(t=Gg(t),Gg(e)!==t&&n)throw Error(D(425))}function Zl(){}var Ah=null,Sh=null;function Ch(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rh=typeof setTimeout=="function"?setTimeout:void 0,yS=typeof clearTimeout=="function"?clearTimeout:void 0,Qg=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof Qg<"u"?function(e){return Qg.resolve(null).then(e).catch(_S)}:Rh;function _S(e){setTimeout(function(){throw e})}function pd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Hs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hs(t)}function vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Mo,Qs="__reactProps$"+Mo,qn="__reactContainer$"+Mo,Ph="__reactEvents$"+Mo,ES="__reactListeners$"+Mo,wS="__reactHandles$"+Mo;function Xr(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qn]||n[Tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yg(e);e!==null;){if(n=e[Tn])return n;e=Yg(e)}return t}e=n,n=e.parentNode}return null}function Aa(e){return e=e[Tn]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Hu(e){return e[Qs]||null}var xh=[],Hi=-1;function Lr(e){return{current:e}}function Se(e){0>Hi||(e.current=xh[Hi],xh[Hi]=null,Hi--)}function Ee(e,t){Hi++,xh[Hi]=e.current,e.current=t}var kr={},Tt=Lr(kr),Vt=Lr(!1),li=kr;function go(e,t){var n=e.type.contextTypes;if(!n)return kr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Lt(e){return e=e.childContextTypes,e!=null}function eu(){Se(Vt),Se(Tt)}function Xg(e,t,n){if(Tt.current!==kr)throw Error(D(168));Ee(Tt,t),Ee(Vt,n)}function N1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,oA(e)||"Unknown",i));return Oe({},n,r)}function tu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,li=Tt.current,Ee(Tt,e),Ee(Vt,Vt.current),!0}function Jg(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=N1(e,t,li),r.__reactInternalMemoizedMergedChildContext=e,Se(Vt),Se(Tt),Ee(Tt,e)):Se(Vt),Ee(Vt,n)}var Fn=null,qu=!1,md=!1;function O1(e){Fn===null?Fn=[e]:Fn.push(e)}function TS(e){qu=!0,O1(e)}function br(){if(!md&&Fn!==null){md=!0;var e=0,t=pe;try{var n=Fn;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Fn=null,qu=!1}catch(i){throw Fn!==null&&(Fn=Fn.slice(e+1)),i1(rp,br),i}finally{pe=t,md=!1}}return null}var qi=[],Wi=0,nu=null,ru=0,Xt=[],Jt=0,ui=null,$n=1,jn="";function qr(e,t){qi[Wi++]=ru,qi[Wi++]=nu,nu=e,ru=t}function M1(e,t,n){Xt[Jt++]=$n,Xt[Jt++]=jn,Xt[Jt++]=ui,ui=e;var r=$n;e=jn;var i=32-fn(r)-1;r&=~(1<<i),n+=1;var o=32-fn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$n=1<<32-fn(t)+i|n<<i|r,jn=o+e}else $n=1<<o|n<<i|r,jn=e}function hp(e){e.return!==null&&(qr(e,1),M1(e,1,0))}function fp(e){for(;e===nu;)nu=qi[--Wi],qi[Wi]=null,ru=qi[--Wi],qi[Wi]=null;for(;e===ui;)ui=Xt[--Jt],Xt[Jt]=null,jn=Xt[--Jt],Xt[Jt]=null,$n=Xt[--Jt],Xt[Jt]=null}var Bt=null,jt=null,xe=!1,hn=null;function V1(e,t){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,jt=vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ui!==null?{id:$n,overflow:jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,jt=null,!0):!1;default:return!1}}function kh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dh(e){if(xe){var t=jt;if(t){var n=t;if(!Zg(e,t)){if(kh(e))throw Error(D(418));t=vr(n.nextSibling);var r=Bt;t&&Zg(e,t)?V1(r,n):(e.flags=e.flags&-4097|2,xe=!1,Bt=e)}}else{if(kh(e))throw Error(D(418));e.flags=e.flags&-4097|2,xe=!1,Bt=e}}}function ey(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function ol(e){if(e!==Bt)return!1;if(!xe)return ey(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ch(e.type,e.memoizedProps)),t&&(t=jt)){if(kh(e))throw L1(),Error(D(418));for(;t;)V1(e,t),t=vr(t.nextSibling)}if(ey(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jt=vr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=Bt?vr(e.stateNode.nextSibling):null;return!0}function L1(){for(var e=jt;e;)e=vr(e.nextSibling)}function yo(){jt=Bt=null,xe=!1}function pp(e){hn===null?hn=[e]:hn.push(e)}var IS=Zn.ReactCurrentBatchConfig;function ln(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var iu=Lr(null),ou=null,Ki=null,mp=null;function gp(){mp=Ki=ou=null}function yp(e){var t=iu.current;Se(iu),e._currentValue=t}function Nh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ro(e,t){ou=e,mp=Ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ot=!0),e.firstContext=null)}function nn(e){var t=e._currentValue;if(mp!==e)if(e={context:e,memoizedValue:t,next:null},Ki===null){if(ou===null)throw Error(D(308));Ki=e,ou.dependencies={lanes:0,firstContext:e}}else Ki=Ki.next=e;return t}var Jr=null;function vp(e){Jr===null?Jr=[e]:Jr.push(e)}function b1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,vp(t)):(n.next=i.next,i.next=n),t.interleaved=n,Wn(e,r)}function Wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ar=!1;function _p(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Wn(e,n)}return i=r.interleaved,i===null?(t.next=t,vp(r)):(t.next=i.next,i.next=t),r.interleaved=t,Wn(e,n)}function Dl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ip(e,n)}}function ty(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function su(e,t,n,r){var i=e.updateQueue;ar=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(h=t,f=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(f,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(f,d,h):y,h==null)break e;d=Oe({},d,h);break e;case 2:ar=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);di|=s,e.lanes=s,e.memoizedState=d}}function ny(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var $1=new b0.Component().refs;function Oh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wu={isMounted:function(e){return(e=e._reactInternals)?Ii(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ct(),i=wr(e),o=Bn(r,i);o.payload=t,n!=null&&(o.callback=n),t=_r(e,o,i),t!==null&&(pn(t,e,i,r),Dl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ct(),i=wr(e),o=Bn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=_r(e,o,i),t!==null&&(pn(t,e,i,r),Dl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),r=wr(e),i=Bn(n,r);i.tag=2,t!=null&&(i.callback=t),t=_r(e,i,r),t!==null&&(pn(t,e,r,n),Dl(t,e,r))}};function ry(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ws(n,r)||!Ws(i,o):!0}function j1(e,t,n){var r=!1,i=kr,o=t.contextType;return typeof o=="object"&&o!==null?o=nn(o):(i=Lt(t)?li:Tt.current,r=t.contextTypes,o=(r=r!=null)?go(e,i):kr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function iy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wu.enqueueReplaceState(t,t.state,null)}function Mh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=$1,_p(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=nn(o):(o=Lt(t)?li:Tt.current,i.context=go(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Oh(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Wu.enqueueReplaceState(i,i.state,null),su(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===$1&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function sl(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oy(e){var t=e._init;return t(e._payload)}function U1(e){function t(m,g){if(e){var E=m.deletions;E===null?(m.deletions=[g],m.flags|=16):E.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Tr(m,g),m.index=0,m.sibling=null,m}function o(m,g,E){return m.index=E,e?(E=m.alternate,E!==null?(E=E.index,E<g?(m.flags|=2,g):E):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,E,p){return g===null||g.tag!==6?(g=Td(E,m.mode,p),g.return=m,g):(g=i(g,E),g.return=m,g)}function l(m,g,E,p){var T=E.type;return T===$i?c(m,g,E.props.children,p,E.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sr&&oy(T)===g.type)?(p=i(g,E.props),p.ref=Xo(m,g,E),p.return=m,p):(p=bl(E.type,E.key,E.props,null,m.mode,p),p.ref=Xo(m,g,E),p.return=m,p)}function u(m,g,E,p){return g===null||g.tag!==4||g.stateNode.containerInfo!==E.containerInfo||g.stateNode.implementation!==E.implementation?(g=Id(E,m.mode,p),g.return=m,g):(g=i(g,E.children||[]),g.return=m,g)}function c(m,g,E,p,T){return g===null||g.tag!==7?(g=si(E,m.mode,p,T),g.return=m,g):(g=i(g,E),g.return=m,g)}function d(m,g,E){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Td(""+g,m.mode,E),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qa:return E=bl(g.type,g.key,g.props,null,m.mode,E),E.ref=Xo(m,null,g),E.return=m,E;case Fi:return g=Id(g,m.mode,E),g.return=m,g;case sr:var p=g._init;return d(m,p(g._payload),E)}if(ds(g)||Wo(g))return g=si(g,m.mode,E,null),g.return=m,g;sl(m,g)}return null}function h(m,g,E,p){var T=g!==null?g.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:a(m,g,""+E,p);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qa:return E.key===T?l(m,g,E,p):null;case Fi:return E.key===T?u(m,g,E,p):null;case sr:return T=E._init,h(m,g,T(E._payload),p)}if(ds(E)||Wo(E))return T!==null?null:c(m,g,E,p,null);sl(m,E)}return null}function f(m,g,E,p,T){if(typeof p=="string"&&p!==""||typeof p=="number")return m=m.get(E)||null,a(g,m,""+p,T);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Qa:return m=m.get(p.key===null?E:p.key)||null,l(g,m,p,T);case Fi:return m=m.get(p.key===null?E:p.key)||null,u(g,m,p,T);case sr:var C=p._init;return f(m,g,E,C(p._payload),T)}if(ds(p)||Wo(p))return m=m.get(E)||null,c(g,m,p,T,null);sl(g,p)}return null}function y(m,g,E,p){for(var T=null,C=null,P=g,x=g=0,j=null;P!==null&&x<E.length;x++){P.index>x?(j=P,P=null):j=P.sibling;var F=h(m,P,E[x],p);if(F===null){P===null&&(P=j);break}e&&P&&F.alternate===null&&t(m,P),g=o(F,g,x),C===null?T=F:C.sibling=F,C=F,P=j}if(x===E.length)return n(m,P),xe&&qr(m,x),T;if(P===null){for(;x<E.length;x++)P=d(m,E[x],p),P!==null&&(g=o(P,g,x),C===null?T=P:C.sibling=P,C=P);return xe&&qr(m,x),T}for(P=r(m,P);x<E.length;x++)j=f(P,m,x,E[x],p),j!==null&&(e&&j.alternate!==null&&P.delete(j.key===null?x:j.key),g=o(j,g,x),C===null?T=j:C.sibling=j,C=j);return e&&P.forEach(function(ue){return t(m,ue)}),xe&&qr(m,x),T}function v(m,g,E,p){var T=Wo(E);if(typeof T!="function")throw Error(D(150));if(E=T.call(E),E==null)throw Error(D(151));for(var C=T=null,P=g,x=g=0,j=null,F=E.next();P!==null&&!F.done;x++,F=E.next()){P.index>x?(j=P,P=null):j=P.sibling;var ue=h(m,P,F.value,p);if(ue===null){P===null&&(P=j);break}e&&P&&ue.alternate===null&&t(m,P),g=o(ue,g,x),C===null?T=ue:C.sibling=ue,C=ue,P=j}if(F.done)return n(m,P),xe&&qr(m,x),T;if(P===null){for(;!F.done;x++,F=E.next())F=d(m,F.value,p),F!==null&&(g=o(F,g,x),C===null?T=F:C.sibling=F,C=F);return xe&&qr(m,x),T}for(P=r(m,P);!F.done;x++,F=E.next())F=f(P,m,x,F.value,p),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?x:F.key),g=o(F,g,x),C===null?T=F:C.sibling=F,C=F);return e&&P.forEach(function(q){return t(m,q)}),xe&&qr(m,x),T}function w(m,g,E,p){if(typeof E=="object"&&E!==null&&E.type===$i&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Qa:e:{for(var T=E.key,C=g;C!==null;){if(C.key===T){if(T=E.type,T===$i){if(C.tag===7){n(m,C.sibling),g=i(C,E.props.children),g.return=m,m=g;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sr&&oy(T)===C.type){n(m,C.sibling),g=i(C,E.props),g.ref=Xo(m,C,E),g.return=m,m=g;break e}n(m,C);break}else t(m,C);C=C.sibling}E.type===$i?(g=si(E.props.children,m.mode,p,E.key),g.return=m,m=g):(p=bl(E.type,E.key,E.props,null,m.mode,p),p.ref=Xo(m,g,E),p.return=m,m=p)}return s(m);case Fi:e:{for(C=E.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===E.containerInfo&&g.stateNode.implementation===E.implementation){n(m,g.sibling),g=i(g,E.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Id(E,m.mode,p),g.return=m,m=g}return s(m);case sr:return C=E._init,w(m,g,C(E._payload),p)}if(ds(E))return y(m,g,E,p);if(Wo(E))return v(m,g,E,p);sl(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,E),g.return=m,m=g):(n(m,g),g=Td(E,m.mode,p),g.return=m,m=g),s(m)):n(m,g)}return w}var vo=U1(!0),B1=U1(!1),Sa={},Rn=Lr(Sa),Ys=Lr(Sa),Xs=Lr(Sa);function Zr(e){if(e===Sa)throw Error(D(174));return e}function Ep(e,t){switch(Ee(Xs,t),Ee(Ys,e),Ee(Rn,Sa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hh(t,e)}Se(Rn),Ee(Rn,t)}function _o(){Se(Rn),Se(Ys),Se(Xs)}function z1(e){Zr(Xs.current);var t=Zr(Rn.current),n=hh(t,e.type);t!==n&&(Ee(Ys,e),Ee(Rn,n))}function wp(e){Ys.current===e&&(Se(Rn),Se(Ys))}var De=Lr(0);function au(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gd=[];function Tp(){for(var e=0;e<gd.length;e++)gd[e]._workInProgressVersionPrimary=null;gd.length=0}var Nl=Zn.ReactCurrentDispatcher,yd=Zn.ReactCurrentBatchConfig,ci=0,Ne=null,Ye=null,tt=null,lu=!1,Rs=!1,Js=0,AS=0;function ht(){throw Error(D(321))}function Ip(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function Ap(e,t,n,r,i,o){if(ci=o,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nl.current=e===null||e.memoizedState===null?PS:xS,e=n(r,i),Rs){o=0;do{if(Rs=!1,Js=0,25<=o)throw Error(D(301));o+=1,tt=Ye=null,t.updateQueue=null,Nl.current=kS,e=n(r,i)}while(Rs)}if(Nl.current=uu,t=Ye!==null&&Ye.next!==null,ci=0,tt=Ye=Ne=null,lu=!1,t)throw Error(D(300));return e}function Sp(){var e=Js!==0;return Js=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ne.memoizedState=tt=e:tt=tt.next=e,tt}function rn(){if(Ye===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=tt===null?Ne.memoizedState:tt.next;if(t!==null)tt=t,Ye=e;else{if(e===null)throw Error(D(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},tt===null?Ne.memoizedState=tt=e:tt=tt.next=e}return tt}function Zs(e,t){return typeof t=="function"?t(e):t}function vd(e){var t=rn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Ye,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ci&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ne.lanes|=c,di|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,gn(r,t.memoizedState)||(Ot=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ne.lanes|=o,di|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _d(e){var t=rn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);gn(o,t.memoizedState)||(Ot=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function H1(){}function q1(e,t){var n=Ne,r=rn(),i=t(),o=!gn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ot=!0),r=r.queue,Cp(G1.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,ea(9,K1.bind(null,n,r,i,t),void 0,null),nt===null)throw Error(D(349));ci&30||W1(n,t,i)}return i}function W1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function K1(e,t,n,r){t.value=n,t.getSnapshot=r,Q1(t)&&Y1(e)}function G1(e,t,n){return n(function(){Q1(t)&&Y1(e)})}function Q1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function Y1(e){var t=Wn(e,1);t!==null&&pn(t,e,1,-1)}function sy(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:e},t.queue=e,e=e.dispatch=RS.bind(null,Ne,e),[t.memoizedState,e]}function ea(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function X1(){return rn().memoizedState}function Ol(e,t,n,r){var i=wn();Ne.flags|=e,i.memoizedState=ea(1|t,n,void 0,r===void 0?null:r)}function Ku(e,t,n,r){var i=rn();r=r===void 0?null:r;var o=void 0;if(Ye!==null){var s=Ye.memoizedState;if(o=s.destroy,r!==null&&Ip(r,s.deps)){i.memoizedState=ea(t,n,o,r);return}}Ne.flags|=e,i.memoizedState=ea(1|t,n,o,r)}function ay(e,t){return Ol(8390656,8,e,t)}function Cp(e,t){return Ku(2048,8,e,t)}function J1(e,t){return Ku(4,2,e,t)}function Z1(e,t){return Ku(4,4,e,t)}function e_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t_(e,t,n){return n=n!=null?n.concat([e]):null,Ku(4,4,e_.bind(null,t,e),n)}function Rp(){}function n_(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ip(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function r_(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ip(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function i_(e,t,n){return ci&21?(gn(n,t)||(n=a1(),Ne.lanes|=n,di|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=n)}function SS(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=yd.transition;yd.transition={};try{e(!1),t()}finally{pe=n,yd.transition=r}}function o_(){return rn().memoizedState}function CS(e,t,n){var r=wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s_(e))a_(t,n);else if(n=b1(e,t,n,r),n!==null){var i=Ct();pn(n,e,r,i),l_(n,t,r)}}function RS(e,t,n){var r=wr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s_(e))a_(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,gn(a,s)){var l=t.interleaved;l===null?(i.next=i,vp(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=b1(e,t,i,r),n!==null&&(i=Ct(),pn(n,e,r,i),l_(n,t,r))}}function s_(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function a_(e,t){Rs=lu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function l_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ip(e,n)}}var uu={readContext:nn,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},PS={readContext:nn,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:ay,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ol(4194308,4,e_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ol(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=CS.bind(null,Ne,e),[r.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:sy,useDebugValue:Rp,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=sy(!1),t=e[0];return e=SS.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ne,i=wn();if(xe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),nt===null)throw Error(D(349));ci&30||W1(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ay(G1.bind(null,r,o,e),[e]),r.flags|=2048,ea(9,K1.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wn(),t=nt.identifierPrefix;if(xe){var n=jn,r=$n;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Js++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=AS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xS={readContext:nn,useCallback:n_,useContext:nn,useEffect:Cp,useImperativeHandle:t_,useInsertionEffect:J1,useLayoutEffect:Z1,useMemo:r_,useReducer:vd,useRef:X1,useState:function(){return vd(Zs)},useDebugValue:Rp,useDeferredValue:function(e){var t=rn();return i_(t,Ye.memoizedState,e)},useTransition:function(){var e=vd(Zs)[0],t=rn().memoizedState;return[e,t]},useMutableSource:H1,useSyncExternalStore:q1,useId:o_,unstable_isNewReconciler:!1},kS={readContext:nn,useCallback:n_,useContext:nn,useEffect:Cp,useImperativeHandle:t_,useInsertionEffect:J1,useLayoutEffect:Z1,useMemo:r_,useReducer:_d,useRef:X1,useState:function(){return _d(Zs)},useDebugValue:Rp,useDeferredValue:function(e){var t=rn();return Ye===null?t.memoizedState=e:i_(t,Ye.memoizedState,e)},useTransition:function(){var e=_d(Zs)[0],t=rn().memoizedState;return[e,t]},useMutableSource:H1,useSyncExternalStore:q1,useId:o_,unstable_isNewReconciler:!1};function Eo(e,t){try{var n="",r=t;do n+=iA(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ed(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var DS=typeof WeakMap=="function"?WeakMap:Map;function u_(e,t,n){n=Bn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){du||(du=!0,qh=r),Vh(e,t)},n}function c_(e,t,n){n=Bn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Vh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Vh(e,t),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function ly(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new DS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qS.bind(null,e,t,n),t.then(e,e))}function uy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bn(-1,1),t.tag=2,_r(n,t,1))),n.lanes|=1),e)}var NS=Zn.ReactCurrentOwner,Ot=!1;function At(e,t,n,r){t.child=e===null?B1(t,null,n,r):vo(t,e.child,n,r)}function dy(e,t,n,r,i){n=n.render;var o=t.ref;return ro(t,i),r=Ap(e,t,n,r,o,i),n=Sp(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(xe&&n&&hp(t),t.flags|=1,At(e,t,r,i),t.child)}function hy(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Vp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,d_(e,t,o,r,i)):(e=bl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ws,n(s,r)&&e.ref===t.ref)return Kn(e,t,i)}return t.flags|=1,e=Tr(o,r),e.ref=t.ref,e.return=t,t.child=e}function d_(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ws(o,r)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ot=!0);else return t.lanes=e.lanes,Kn(e,t,i)}return Lh(e,t,n,r,i)}function h_(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Qi,$t),$t|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Qi,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ee(Qi,$t),$t|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ee(Qi,$t),$t|=r;return At(e,t,i,n),t.child}function f_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lh(e,t,n,r,i){var o=Lt(n)?li:Tt.current;return o=go(t,o),ro(t,i),n=Ap(e,t,n,r,o,i),r=Sp(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kn(e,t,i)):(xe&&r&&hp(t),t.flags|=1,At(e,t,n,i),t.child)}function fy(e,t,n,r,i){if(Lt(n)){var o=!0;tu(t)}else o=!1;if(ro(t,i),t.stateNode===null)Ml(e,t),j1(t,n,r),Mh(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=nn(u):(u=Lt(n)?li:Tt.current,u=go(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&iy(t,s,r,u),ar=!1;var h=t.memoizedState;s.state=h,su(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Vt.current||ar?(typeof c=="function"&&(Oh(t,n,c,r),l=t.memoizedState),(a=ar||ry(t,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,F1(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ln(t.type,a),s.props=u,d=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=nn(l):(l=Lt(n)?li:Tt.current,l=go(t,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&iy(t,s,r,l),ar=!1,h=t.memoizedState,s.state=h,su(t,r,s,i);var y=t.memoizedState;a!==d||h!==y||Vt.current||ar?(typeof f=="function"&&(Oh(t,n,f,r),y=t.memoizedState),(u=ar||ry(t,n,u,r,h,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return bh(e,t,n,r,o,i)}function bh(e,t,n,r,i,o){f_(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Jg(t,n,!1),Kn(e,t,o);r=t.stateNode,NS.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=vo(t,e.child,null,o),t.child=vo(t,null,a,o)):At(e,t,a,o),t.memoizedState=r.state,i&&Jg(t,n,!0),t.child}function p_(e){var t=e.stateNode;t.pendingContext?Xg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xg(e,t.context,!1),Ep(e,t.containerInfo)}function py(e,t,n,r,i){return yo(),pp(i),t.flags|=256,At(e,t,n,r),t.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function $h(e){return{baseLanes:e,cachePool:null,transitions:null}}function m_(e,t,n){var r=t.pendingProps,i=De.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ee(De,i&1),e===null)return Dh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Yu(s,r,0,null),e=si(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=$h(n),t.memoizedState=Fh,e):Pp(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return OS(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Tr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Tr(a,o):(o=si(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?$h(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Fh,r}return o=e.child,e=o.sibling,r=Tr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pp(e,t){return t=Yu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function al(e,t,n,r){return r!==null&&pp(r),vo(t,e.child,null,n),e=Pp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OS(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Ed(Error(D(422))),al(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Yu({mode:"visible",children:r.children},i,0,null),o=si(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&vo(t,e.child,null,s),t.child.memoizedState=$h(s),t.memoizedState=Fh,o);if(!(t.mode&1))return al(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(D(419)),r=Ed(o,r,void 0),al(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ot||a){if(r=nt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Wn(e,i),pn(r,e,i,-1))}return Mp(),r=Ed(Error(D(421))),al(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=WS.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,jt=vr(i.nextSibling),Bt=t,xe=!0,hn=null,e!==null&&(Xt[Jt++]=$n,Xt[Jt++]=jn,Xt[Jt++]=ui,$n=e.id,jn=e.overflow,ui=t),t=Pp(t,r.children),t.flags|=4096,t)}function my(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nh(e.return,t,n)}function wd(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function g_(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(At(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&my(e,n,t);else if(e.tag===19)my(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(De,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&au(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),wd(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&au(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}wd(t,!0,n,null,o);break;case"together":wd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ml(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),di|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Tr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function MS(e,t,n){switch(t.tag){case 3:p_(t),yo();break;case 5:z1(t);break;case 1:Lt(t.type)&&tu(t);break;case 4:Ep(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ee(iu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?m_(e,t,n):(Ee(De,De.current&1),e=Kn(e,t,n),e!==null?e.sibling:null);Ee(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return g_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,h_(e,t,n)}return Kn(e,t,n)}var y_,jh,v_,__;y_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jh=function(){};v_=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zr(Rn.current);var o=null;switch(n){case"input":i=lh(e,i),r=lh(e,r),o=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),o=[];break;case"textarea":i=dh(e,i),r=dh(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zl)}fh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($s.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&we("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};__=function(e,t,n,r){n!==r&&(t.flags|=4)};function Jo(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function VS(e,t,n){var r=t.pendingProps;switch(fp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return Lt(t.type)&&eu(),ft(t),null;case 3:return r=t.stateNode,_o(),Se(Vt),Se(Tt),Tp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ol(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hn!==null&&(Gh(hn),hn=null))),jh(e,t),ft(t),null;case 5:wp(t);var i=Zr(Xs.current);if(n=t.type,e!==null&&t.stateNode!=null)v_(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return ft(t),null}if(e=Zr(Rn.current),ol(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Tn]=t,r[Qs]=o,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<fs.length;i++)we(fs[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Ag(r,o),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},we("invalid",r);break;case"textarea":Cg(r,o),we("invalid",r)}fh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&il(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&il(r.textContent,a,e),i=["children",""+a]):$s.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&we("scroll",r)}switch(n){case"input":Ya(r),Sg(r,o,!0);break;case"textarea":Ya(r),Rg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Zl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=W0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Tn]=t,e[Qs]=r,y_(e,t,!1,!1),t.stateNode=e;e:{switch(s=ph(n,r),n){case"dialog":we("cancel",e),we("close",e),i=r;break;case"iframe":case"object":case"embed":we("load",e),i=r;break;case"video":case"audio":for(i=0;i<fs.length;i++)we(fs[i],e);i=r;break;case"source":we("error",e),i=r;break;case"img":case"image":case"link":we("error",e),we("load",e),i=r;break;case"details":we("toggle",e),i=r;break;case"input":Ag(e,r),i=lh(e,r),we("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),we("invalid",e);break;case"textarea":Cg(e,r),i=dh(e,r),we("invalid",e);break;default:i=r}fh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Q0(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&K0(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&js(e,l):typeof l=="number"&&js(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($s.hasOwnProperty(o)?l!=null&&o==="onScroll"&&we("scroll",e):l!=null&&Jf(e,o,l,s))}switch(n){case"input":Ya(e),Sg(e,r,!1);break;case"textarea":Ya(e),Rg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Zi(e,!!r.multiple,o,!1):r.defaultValue!=null&&Zi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ft(t),null;case 6:if(e&&t.stateNode!=null)__(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Zr(Xs.current),Zr(Rn.current),ol(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tn]=t,(o=r.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:il(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&il(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=t,t.stateNode=r}return ft(t),null;case 13:if(Se(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&jt!==null&&t.mode&1&&!(t.flags&128))L1(),yo(),t.flags|=98560,o=!1;else if(o=ol(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(D(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[Tn]=t}else yo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),o=!1}else hn!==null&&(Gh(hn),hn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?Xe===0&&(Xe=3):Mp())),t.updateQueue!==null&&(t.flags|=4),ft(t),null);case 4:return _o(),jh(e,t),e===null&&Ks(t.stateNode.containerInfo),ft(t),null;case 10:return yp(t.type._context),ft(t),null;case 17:return Lt(t.type)&&eu(),ft(t),null;case 19:if(Se(De),o=t.memoizedState,o===null)return ft(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Jo(o,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=au(e),s!==null){for(t.flags|=128,Jo(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(De,De.current&1|2),t.child}e=e.sibling}o.tail!==null&&$e()>wo&&(t.flags|=128,r=!0,Jo(o,!1),t.lanes=4194304)}else{if(!r)if(e=au(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xe)return ft(t),null}else 2*$e()-o.renderingStartTime>wo&&n!==1073741824&&(t.flags|=128,r=!0,Jo(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=De.current,Ee(De,r?n&1|2:n&1),t):(ft(t),null);case 22:case 23:return Op(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$t&1073741824&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function LS(e,t){switch(fp(t),t.tag){case 1:return Lt(t.type)&&eu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _o(),Se(Vt),Se(Tt),Tp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wp(t),null;case 13:if(Se(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));yo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(De),null;case 4:return _o(),null;case 10:return yp(t.type._context),null;case 22:case 23:return Op(),null;case 24:return null;default:return null}}var ll=!1,gt=!1,bS=typeof WeakSet=="function"?WeakSet:Set,b=null;function Gi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(e,t,r)}else n.current=null}function Uh(e,t,n){try{n()}catch(r){Ve(e,t,r)}}var gy=!1;function FS(e,t){if(Ah=Yl,e=I1(),dp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sh={focusedElem:e,selectionRange:n},Yl=!1,b=t;b!==null;)if(t=b,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,b=e;else for(;b!==null;){t=b;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ln(t.type,v),w);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(p){Ve(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,b=e;break}b=t.return}return y=gy,gy=!1,y}function Ps(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Uh(t,n,o)}i=i.next}while(i!==r)}}function Gu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function E_(e){var t=e.alternate;t!==null&&(e.alternate=null,E_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tn],delete t[Qs],delete t[Ph],delete t[ES],delete t[wS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w_(e){return e.tag===5||e.tag===3||e.tag===4}function yy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zl));else if(r!==4&&(e=e.child,e!==null))for(zh(e,t,n),e=e.sibling;e!==null;)zh(e,t,n),e=e.sibling}function Hh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hh(e,t,n),e=e.sibling;e!==null;)Hh(e,t,n),e=e.sibling}var ot=null,un=!1;function ir(e,t,n){for(n=n.child;n!==null;)T_(e,t,n),n=n.sibling}function T_(e,t,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(ju,n)}catch{}switch(n.tag){case 5:gt||Gi(n,t);case 6:var r=ot,i=un;ot=null,ir(e,t,n),ot=r,un=i,ot!==null&&(un?(e=ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(un?(e=ot,n=n.stateNode,e.nodeType===8?pd(e.parentNode,n):e.nodeType===1&&pd(e,n),Hs(e)):pd(ot,n.stateNode));break;case 4:r=ot,i=un,ot=n.stateNode.containerInfo,un=!0,ir(e,t,n),ot=r,un=i;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Uh(n,t,s),i=i.next}while(i!==r)}ir(e,t,n);break;case 1:if(!gt&&(Gi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,t,a)}ir(e,t,n);break;case 21:ir(e,t,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,ir(e,t,n),gt=r):ir(e,t,n);break;default:ir(e,t,n)}}function vy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bS),t.forEach(function(r){var i=KS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function an(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,un=!1;break e;case 3:ot=a.stateNode.containerInfo,un=!0;break e;case 4:ot=a.stateNode.containerInfo,un=!0;break e}a=a.return}if(ot===null)throw Error(D(160));T_(o,s,i),ot=null,un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ve(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)I_(t,e),t=t.sibling}function I_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),En(e),r&4){try{Ps(3,e,e.return),Gu(3,e)}catch(v){Ve(e,e.return,v)}try{Ps(5,e,e.return)}catch(v){Ve(e,e.return,v)}}break;case 1:an(t,e),En(e),r&512&&n!==null&&Gi(n,n.return);break;case 5:if(an(t,e),En(e),r&512&&n!==null&&Gi(n,n.return),e.flags&32){var i=e.stateNode;try{js(i,"")}catch(v){Ve(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&H0(i,o),ph(a,s);var u=ph(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?Q0(i,d):c==="dangerouslySetInnerHTML"?K0(i,d):c==="children"?js(i,d):Jf(i,c,d,u)}switch(a){case"input":uh(i,o);break;case"textarea":q0(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Zi(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?Zi(i,!!o.multiple,o.defaultValue,!0):Zi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qs]=o}catch(v){Ve(e,e.return,v)}}break;case 6:if(an(t,e),En(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Ve(e,e.return,v)}}break;case 3:if(an(t,e),En(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hs(t.containerInfo)}catch(v){Ve(e,e.return,v)}break;case 4:an(t,e),En(e);break;case 13:an(t,e),En(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Dp=$e())),r&4&&vy(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(gt=(u=gt)||c,an(t,e),gt=u):an(t,e),En(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(b=e,c=e.child;c!==null;){for(d=b=c;b!==null;){switch(h=b,f=h.child,h.tag){case 0:case 11:case 14:case 15:Ps(4,h,h.return);break;case 1:Gi(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Ve(r,n,v)}}break;case 5:Gi(h,h.return);break;case 22:if(h.memoizedState!==null){Ey(d);continue}}f!==null?(f.return=h,b=f):Ey(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=G0("display",s))}catch(v){Ve(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Ve(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:an(t,e),En(e),r&4&&vy(e);break;case 21:break;default:an(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(w_(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(js(i,""),r.flags&=-33);var o=yy(e);Hh(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=yy(e);zh(e,a,s);break;default:throw Error(D(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $S(e,t,n){b=e,A_(e)}function A_(e,t,n){for(var r=(e.mode&1)!==0;b!==null;){var i=b,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ll;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gt;a=ll;var u=gt;if(ll=s,(gt=l)&&!u)for(b=i;b!==null;)s=b,l=s.child,s.tag===22&&s.memoizedState!==null?wy(i):l!==null?(l.return=s,b=l):wy(i);for(;o!==null;)b=o,A_(o),o=o.sibling;b=i,ll=a,gt=u}_y(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,b=o):_y(e)}}function _y(e){for(;b!==null;){var t=b;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gt||Gu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!gt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ln(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ny(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ny(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Hs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}gt||t.flags&512&&Bh(t)}catch(h){Ve(t,t.return,h)}}if(t===e){b=null;break}if(n=t.sibling,n!==null){n.return=t.return,b=n;break}b=t.return}}function Ey(e){for(;b!==null;){var t=b;if(t===e){b=null;break}var n=t.sibling;if(n!==null){n.return=t.return,b=n;break}b=t.return}}function wy(e){for(;b!==null;){var t=b;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gu(4,t)}catch(l){Ve(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ve(t,i,l)}}var o=t.return;try{Bh(t)}catch(l){Ve(t,o,l)}break;case 5:var s=t.return;try{Bh(t)}catch(l){Ve(t,s,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){b=null;break}var a=t.sibling;if(a!==null){a.return=t.return,b=a;break}b=t.return}}var jS=Math.ceil,cu=Zn.ReactCurrentDispatcher,xp=Zn.ReactCurrentOwner,tn=Zn.ReactCurrentBatchConfig,ce=0,nt=null,qe=null,lt=0,$t=0,Qi=Lr(0),Xe=0,ta=null,di=0,Qu=0,kp=0,xs=null,Dt=null,Dp=0,wo=1/0,bn=null,du=!1,qh=null,Er=null,ul=!1,dr=null,hu=0,ks=0,Wh=null,Vl=-1,Ll=0;function Ct(){return ce&6?$e():Vl!==-1?Vl:Vl=$e()}function wr(e){return e.mode&1?ce&2&&lt!==0?lt&-lt:IS.transition!==null?(Ll===0&&(Ll=a1()),Ll):(e=pe,e!==0||(e=window.event,e=e===void 0?16:p1(e.type)),e):1}function pn(e,t,n,r){if(50<ks)throw ks=0,Wh=null,Error(D(185));Ta(e,n,r),(!(ce&2)||e!==nt)&&(e===nt&&(!(ce&2)&&(Qu|=n),Xe===4&&ur(e,lt)),bt(e,r),n===1&&ce===0&&!(t.mode&1)&&(wo=$e()+500,qu&&br()))}function bt(e,t){var n=e.callbackNode;IA(e,t);var r=Ql(e,e===nt?lt:0);if(r===0)n!==null&&kg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kg(n),t===1)e.tag===0?TS(Ty.bind(null,e)):O1(Ty.bind(null,e)),vS(function(){!(ce&6)&&br()}),n=null;else{switch(l1(r)){case 1:n=rp;break;case 4:n=o1;break;case 16:n=Gl;break;case 536870912:n=s1;break;default:n=Gl}n=N_(n,S_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function S_(e,t){if(Vl=-1,Ll=0,ce&6)throw Error(D(327));var n=e.callbackNode;if(io()&&e.callbackNode!==n)return null;var r=Ql(e,e===nt?lt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fu(e,r);else{t=r;var i=ce;ce|=2;var o=R_();(nt!==e||lt!==t)&&(bn=null,wo=$e()+500,oi(e,t));do try{zS();break}catch(a){C_(e,a)}while(1);gp(),cu.current=o,ce=i,qe!==null?t=0:(nt=null,lt=0,t=Xe)}if(t!==0){if(t===2&&(i=_h(e),i!==0&&(r=i,t=Kh(e,i))),t===1)throw n=ta,oi(e,0),ur(e,r),bt(e,$e()),n;if(t===6)ur(e,r);else{if(i=e.current.alternate,!(r&30)&&!US(i)&&(t=fu(e,r),t===2&&(o=_h(e),o!==0&&(r=o,t=Kh(e,o))),t===1))throw n=ta,oi(e,0),ur(e,r),bt(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Wr(e,Dt,bn);break;case 3:if(ur(e,r),(r&130023424)===r&&(t=Dp+500-$e(),10<t)){if(Ql(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ct(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Rh(Wr.bind(null,e,Dt,bn),t);break}Wr(e,Dt,bn);break;case 4:if(ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-fn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jS(r/1960))-r,10<r){e.timeoutHandle=Rh(Wr.bind(null,e,Dt,bn),r);break}Wr(e,Dt,bn);break;case 5:Wr(e,Dt,bn);break;default:throw Error(D(329))}}}return bt(e,$e()),e.callbackNode===n?S_.bind(null,e):null}function Kh(e,t){var n=xs;return e.current.memoizedState.isDehydrated&&(oi(e,t).flags|=256),e=fu(e,t),e!==2&&(t=Dt,Dt=n,t!==null&&Gh(t)),e}function Gh(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function US(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~kp,t&=~Qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fn(t),r=1<<n;e[n]=-1,t&=~r}}function Ty(e){if(ce&6)throw Error(D(327));io();var t=Ql(e,0);if(!(t&1))return bt(e,$e()),null;var n=fu(e,t);if(e.tag!==0&&n===2){var r=_h(e);r!==0&&(t=r,n=Kh(e,r))}if(n===1)throw n=ta,oi(e,0),ur(e,t),bt(e,$e()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wr(e,Dt,bn),bt(e,$e()),null}function Np(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(wo=$e()+500,qu&&br())}}function hi(e){dr!==null&&dr.tag===0&&!(ce&6)&&io();var t=ce;ce|=1;var n=tn.transition,r=pe;try{if(tn.transition=null,pe=1,e)return e()}finally{pe=r,tn.transition=n,ce=t,!(ce&6)&&br()}}function Op(){$t=Qi.current,Se(Qi)}function oi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yS(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eu();break;case 3:_o(),Se(Vt),Se(Tt),Tp();break;case 5:wp(r);break;case 4:_o();break;case 13:Se(De);break;case 19:Se(De);break;case 10:yp(r.type._context);break;case 22:case 23:Op()}n=n.return}if(nt=e,qe=e=Tr(e.current,null),lt=$t=t,Xe=0,ta=null,kp=Qu=di=0,Dt=xs=null,Jr!==null){for(t=0;t<Jr.length;t++)if(n=Jr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Jr=null}return e}function C_(e,t){do{var n=qe;try{if(gp(),Nl.current=uu,lu){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lu=!1}if(ci=0,tt=Ye=Ne=null,Rs=!1,Js=0,xp.current=null,n===null||n.return===null){Xe=1,ta=t,qe=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=uy(s);if(f!==null){f.flags&=-257,cy(f,s,a,o,t),f.mode&1&&ly(o,u,t),t=f,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){ly(o,u,t),Mp();break e}l=Error(D(426))}}else if(xe&&a.mode&1){var w=uy(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),cy(w,s,a,o,t),pp(Eo(l,a));break e}}o=l=Eo(l,a),Xe!==4&&(Xe=2),xs===null?xs=[o]:xs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=u_(o,l,t);ty(o,m);break e;case 1:a=l;var g=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Er===null||!Er.has(E)))){o.flags|=65536,t&=-t,o.lanes|=t;var p=c_(o,a,t);ty(o,p);break e}}o=o.return}while(o!==null)}x_(n)}catch(T){t=T,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(1)}function R_(){var e=cu.current;return cu.current=uu,e===null?uu:e}function Mp(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),nt===null||!(di&268435455)&&!(Qu&268435455)||ur(nt,lt)}function fu(e,t){var n=ce;ce|=2;var r=R_();(nt!==e||lt!==t)&&(bn=null,oi(e,t));do try{BS();break}catch(i){C_(e,i)}while(1);if(gp(),ce=n,cu.current=r,qe!==null)throw Error(D(261));return nt=null,lt=0,Xe}function BS(){for(;qe!==null;)P_(qe)}function zS(){for(;qe!==null&&!pA();)P_(qe)}function P_(e){var t=D_(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?x_(e):qe=t,xp.current=null}function x_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=LS(n,t),n!==null){n.flags&=32767,qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,qe=null;return}}else if(n=VS(n,t,$t),n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Xe===0&&(Xe=5)}function Wr(e,t,n){var r=pe,i=tn.transition;try{tn.transition=null,pe=1,HS(e,t,n,r)}finally{tn.transition=i,pe=r}return null}function HS(e,t,n,r){do io();while(dr!==null);if(ce&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(AA(e,o),e===nt&&(qe=nt=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ul||(ul=!0,N_(Gl,function(){return io(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=tn.transition,tn.transition=null;var s=pe;pe=1;var a=ce;ce|=4,xp.current=null,FS(e,n),I_(n,e),cS(Sh),Yl=!!Ah,Sh=Ah=null,e.current=n,$S(n),mA(),ce=a,pe=s,tn.transition=o}else e.current=n;if(ul&&(ul=!1,dr=e,hu=i),o=e.pendingLanes,o===0&&(Er=null),vA(n.stateNode),bt(e,$e()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(du)throw du=!1,e=qh,qh=null,e;return hu&1&&e.tag!==0&&io(),o=e.pendingLanes,o&1?e===Wh?ks++:(ks=0,Wh=e):ks=0,br(),null}function io(){if(dr!==null){var e=l1(hu),t=tn.transition,n=pe;try{if(tn.transition=null,pe=16>e?16:e,dr===null)var r=!1;else{if(e=dr,dr=null,hu=0,ce&6)throw Error(D(331));var i=ce;for(ce|=4,b=e.current;b!==null;){var o=b,s=o.child;if(b.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(b=u;b!==null;){var c=b;switch(c.tag){case 0:case 11:case 15:Ps(8,c,o)}var d=c.child;if(d!==null)d.return=c,b=d;else for(;b!==null;){c=b;var h=c.sibling,f=c.return;if(E_(c),c===u){b=null;break}if(h!==null){h.return=f,b=h;break}b=f}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}b=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,b=s;else e:for(;b!==null;){if(o=b,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ps(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,b=m;break e}b=o.return}}var g=e.current;for(b=g;b!==null;){s=b;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,b=E;else e:for(s=g;b!==null;){if(a=b,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gu(9,a)}}catch(T){Ve(a,a.return,T)}if(a===s){b=null;break e}var p=a.sibling;if(p!==null){p.return=a.return,b=p;break e}b=a.return}}if(ce=i,br(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(ju,e)}catch{}r=!0}return r}finally{pe=n,tn.transition=t}}return!1}function Iy(e,t,n){t=Eo(n,t),t=u_(e,t,1),e=_r(e,t,1),t=Ct(),e!==null&&(Ta(e,1,t),bt(e,t))}function Ve(e,t,n){if(e.tag===3)Iy(e,e,n);else for(;t!==null;){if(t.tag===3){Iy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){e=Eo(n,e),e=c_(t,e,1),t=_r(t,e,1),e=Ct(),t!==null&&(Ta(t,1,e),bt(t,e));break}}t=t.return}}function qS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ct(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(lt&n)===n&&(Xe===4||Xe===3&&(lt&130023424)===lt&&500>$e()-Dp?oi(e,0):kp|=n),bt(e,t)}function k_(e,t){t===0&&(e.mode&1?(t=Za,Za<<=1,!(Za&130023424)&&(Za=4194304)):t=1);var n=Ct();e=Wn(e,t),e!==null&&(Ta(e,t,n),bt(e,n))}function WS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),k_(e,n)}function KS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),k_(e,n)}var D_;D_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)Ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ot=!1,MS(e,t,n);Ot=!!(e.flags&131072)}else Ot=!1,xe&&t.flags&1048576&&M1(t,ru,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ml(e,t),e=t.pendingProps;var i=go(t,Tt.current);ro(t,n),i=Ap(null,t,r,e,i,n);var o=Sp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(r)?(o=!0,tu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_p(t),i.updater=Wu,t.stateNode=i,i._reactInternals=t,Mh(t,r,e,n),t=bh(null,t,r,!0,o,n)):(t.tag=0,xe&&o&&hp(t),At(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ml(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=QS(r),e=ln(r,e),i){case 0:t=Lh(null,t,r,e,n);break e;case 1:t=fy(null,t,r,e,n);break e;case 11:t=dy(null,t,r,e,n);break e;case 14:t=hy(null,t,r,ln(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),Lh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),fy(e,t,r,i,n);case 3:e:{if(p_(t),e===null)throw Error(D(387));r=t.pendingProps,o=t.memoizedState,i=o.element,F1(e,t),su(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Eo(Error(D(423)),t),t=py(e,t,r,n,i);break e}else if(r!==i){i=Eo(Error(D(424)),t),t=py(e,t,r,n,i);break e}else for(jt=vr(t.stateNode.containerInfo.firstChild),Bt=t,xe=!0,hn=null,n=B1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yo(),r===i){t=Kn(e,t,n);break e}At(e,t,r,n)}t=t.child}return t;case 5:return z1(t),e===null&&Dh(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Ch(r,i)?s=null:o!==null&&Ch(r,o)&&(t.flags|=32),f_(e,t),At(e,t,s,n),t.child;case 6:return e===null&&Dh(t),null;case 13:return m_(e,t,n);case 4:return Ep(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vo(t,null,r,n):At(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),dy(e,t,r,i,n);case 7:return At(e,t,t.pendingProps,n),t.child;case 8:return At(e,t,t.pendingProps.children,n),t.child;case 12:return At(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ee(iu,r._currentValue),r._currentValue=s,o!==null)if(gn(o.value,s)){if(o.children===i.children&&!Vt.current){t=Kn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Bn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Nh(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(D(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Nh(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}At(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ro(t,n),i=nn(i),r=r(i),t.flags|=1,At(e,t,r,n),t.child;case 14:return r=t.type,i=ln(r,t.pendingProps),i=ln(r.type,i),hy(e,t,r,i,n);case 15:return d_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),Ml(e,t),t.tag=1,Lt(r)?(e=!0,tu(t)):e=!1,ro(t,n),j1(t,r,i),Mh(t,r,i,n),bh(null,t,r,!0,e,n);case 19:return g_(e,t,n);case 22:return h_(e,t,n)}throw Error(D(156,t.tag))};function N_(e,t){return i1(e,t)}function GS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,r){return new GS(e,t,n,r)}function Vp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QS(e){if(typeof e=="function")return Vp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ep)return 11;if(e===tp)return 14}return 2}function Tr(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bl(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Vp(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case $i:return si(n.children,i,o,t);case Zf:s=8,i|=8;break;case ih:return e=en(12,n,t,i|2),e.elementType=ih,e.lanes=o,e;case oh:return e=en(13,n,t,i),e.elementType=oh,e.lanes=o,e;case sh:return e=en(19,n,t,i),e.elementType=sh,e.lanes=o,e;case U0:return Yu(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $0:s=10;break e;case j0:s=9;break e;case ep:s=11;break e;case tp:s=14;break e;case sr:s=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=en(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function si(e,t,n,r){return e=en(7,e,r,t),e.lanes=n,e}function Yu(e,t,n,r){return e=en(22,e,r,t),e.elementType=U0,e.lanes=n,e.stateNode={isHidden:!1},e}function Td(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function Id(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rd(0),this.expirationTimes=rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lp(e,t,n,r,i,o,s,a,l){return e=new YS(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=en(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(o),e}function XS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function O_(e){if(!e)return kr;e=e._reactInternals;e:{if(Ii(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Lt(n))return N1(e,n,t)}return t}function M_(e,t,n,r,i,o,s,a,l){return e=Lp(n,r,!0,e,i,o,s,a,l),e.context=O_(null),n=e.current,r=Ct(),i=wr(n),o=Bn(r,i),o.callback=t??null,_r(n,o,i),e.current.lanes=i,Ta(e,i,r),bt(e,r),e}function Xu(e,t,n,r){var i=t.current,o=Ct(),s=wr(i);return n=O_(n),t.context===null?t.context=n:t.pendingContext=n,t=Bn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_r(i,t,s),e!==null&&(pn(e,i,s,o),Dl(e,i,s)),s}function pu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ay(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bp(e,t){Ay(e,t),(e=e.alternate)&&Ay(e,t)}function JS(){return null}var V_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fp(e){this._internalRoot=e}Ju.prototype.render=Fp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Xu(e,t,null,null)};Ju.prototype.unmount=Fp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hi(function(){Xu(null,e,null,null)}),t[qn]=null}};function Ju(e){this._internalRoot=e}Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=d1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<lr.length&&t!==0&&t<lr[n].priority;n++);lr.splice(n,0,e),n===0&&f1(e)}};function $p(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sy(){}function ZS(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=pu(s);o.call(u)}}var s=M_(t,r,e,0,null,!1,!1,"",Sy);return e._reactRootContainer=s,e[qn]=s.current,Ks(e.nodeType===8?e.parentNode:e),hi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=pu(l);a.call(u)}}var l=Lp(e,0,!1,null,null,!1,!1,"",Sy);return e._reactRootContainer=l,e[qn]=l.current,Ks(e.nodeType===8?e.parentNode:e),hi(function(){Xu(t,l,n,r)}),l}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=pu(s);a.call(l)}}Xu(t,s,e,i)}else s=ZS(n,t,e,i,r);return pu(s)}u1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hs(t.pendingLanes);n!==0&&(ip(t,n|1),bt(t,$e()),!(ce&6)&&(wo=$e()+500,br()))}break;case 13:hi(function(){var r=Wn(e,1);if(r!==null){var i=Ct();pn(r,e,1,i)}}),bp(e,1)}};op=function(e){if(e.tag===13){var t=Wn(e,134217728);if(t!==null){var n=Ct();pn(t,e,134217728,n)}bp(e,134217728)}};c1=function(e){if(e.tag===13){var t=wr(e),n=Wn(e,t);if(n!==null){var r=Ct();pn(n,e,t,r)}bp(e,t)}};d1=function(){return pe};h1=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};gh=function(e,t,n){switch(t){case"input":if(uh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Hu(r);if(!i)throw Error(D(90));z0(r),uh(r,i)}}}break;case"textarea":q0(e,n);break;case"select":t=n.value,t!=null&&Zi(e,!!n.multiple,t,!1)}};J0=Np;Z0=hi;var e2={usingClientEntryPoint:!1,Events:[Aa,zi,Hu,Y0,X0,Np]},Zo={findFiberByHostInstance:Xr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},t2={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=n1(e),e===null?null:e.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||JS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{ju=cl.inject(t2),Cn=cl}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e2;Wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$p(t))throw Error(D(200));return XS(e,t,null,n)};Wt.createRoot=function(e,t){if(!$p(e))throw Error(D(299));var n=!1,r="",i=V_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Lp(e,1,!1,null,null,n,!1,r,i),e[qn]=t.current,Ks(e.nodeType===8?e.parentNode:e),new Fp(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=n1(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return hi(e)};Wt.hydrate=function(e,t,n){if(!Zu(t))throw Error(D(200));return ec(null,e,t,!0,n)};Wt.hydrateRoot=function(e,t,n){if(!$p(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=V_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=M_(t,null,e,1,n??null,i,!1,o,s),e[qn]=t.current,Ks(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ju(t)};Wt.render=function(e,t,n){if(!Zu(t))throw Error(D(200));return ec(null,e,t,!1,n)};Wt.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(D(40));return e._reactRootContainer?(hi(function(){ec(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1};Wt.unstable_batchedUpdates=Np;Wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return ec(e,t,n,!1,r)};Wt.version="18.2.0-next-9e3b772b8-20220608";function L_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L_)}catch(e){console.error(e)}}L_(),M0.exports=Wt;var n2=M0.exports,Cy=n2;nh.createRoot=Cy.createRoot,nh.hydrateRoot=Cy.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},r2=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},F_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,s||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(b_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):r2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new i2;const h=o<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class i2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o2=function(e){const t=b_(e);return F_.encodeByteArray(t,!0)},mu=function(e){return o2(e).replace(/\./g,"")},s2=function(e){try{return F_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=()=>a2().__FIREBASE_DEFAULTS__,u2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},c2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&s2(e[1]);return t&&JSON.parse(t)},$_=()=>{try{return l2()||u2()||c2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},d2=e=>{var t,n;return(n=(t=$_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},h2=e=>{const t=d2(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},j_=()=>{var e;return(e=$_())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[mu(JSON.stringify(n)),mu(JSON.stringify(s)),a].join(".")}function m2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function U_(){try{return typeof indexedDB=="object"}catch{return!1}}function B_(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}function g2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="FirebaseError";class Fr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=y2,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?v2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fr(i,a,r)}}function v2(e,t){return e.replace(_2,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const _2=/\{\$([^}]+)}/g;function gu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(Ry(o)&&Ry(s)){if(!gu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ry(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=1e3,w2=2,T2=4*60*60*1e3,I2=.5;function Py(e,t=E2,n=w2){const r=t*Math.pow(n,e),i=Math.round(I2*r*(Math.random()-.5)*2);return Math.min(T2,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e){return e&&e._delegate?e._delegate:e}class Gn{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A2=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new f2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(C2(t))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Kr){return this.instances.has(t)}getOptions(t=Kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S2(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Kr){return this.component?this.component.multipleInstances?t:Kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function S2(e){return e===Kr?void 0:e}function C2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new A2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(fe||(fe={}));const P2={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},x2=fe.INFO,k2={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},D2=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=k2[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jp{constructor(t){this.name=t,this._logLevel=x2,this._logHandler=D2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?P2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...t),this._logHandler(this,fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...t),this._logHandler(this,fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...t),this._logHandler(this,fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...t),this._logHandler(this,fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...t),this._logHandler(this,fe.ERROR,...t)}}const N2=(e,t)=>t.some(n=>e instanceof n);let xy,ky;function O2(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M2(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z_=new WeakMap,Qh=new WeakMap,H_=new WeakMap,Ad=new WeakMap,Up=new WeakMap;function V2(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Ir(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&z_.set(n,e)}).catch(()=>{}),Up.set(t,e),t}function L2(e){if(Qh.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Qh.set(e,t)}let Yh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Qh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||H_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function b2(e){Yh=e(Yh)}function F2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Sd(this),t,...n);return H_.set(r,t.sort?t.sort():[t]),Ir(r)}:M2().includes(e)?function(...t){return e.apply(Sd(this),t),Ir(z_.get(this))}:function(...t){return Ir(e.apply(Sd(this),t))}}function $2(e){return typeof e=="function"?F2(e):(e instanceof IDBTransaction&&L2(e),N2(e,O2())?new Proxy(e,Yh):e)}function Ir(e){if(e instanceof IDBRequest)return V2(e);if(Ad.has(e))return Ad.get(e);const t=$2(e);return t!==e&&(Ad.set(e,t),Up.set(t,e)),t}const Sd=e=>Up.get(e);function j2(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Ir(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ir(s.result),l.oldVersion,l.newVersion,Ir(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const U2=["get","getKey","getAll","getAllKeys","count"],B2=["put","add","delete","clear"],Cd=new Map;function Dy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=B2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||U2.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Cd.set(t,o),o}b2(e=>({...e,get:(t,n,r)=>Dy(t,n)||e.get(t,n,r),has:(t,n)=>!!Dy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(H2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function H2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xh="@firebase/app",Ny="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new jp("@firebase/app"),q2="@firebase/app-compat",W2="@firebase/analytics-compat",K2="@firebase/analytics",G2="@firebase/app-check-compat",Q2="@firebase/app-check",Y2="@firebase/auth",X2="@firebase/auth-compat",J2="@firebase/database",Z2="@firebase/database-compat",eC="@firebase/functions",tC="@firebase/functions-compat",nC="@firebase/installations",rC="@firebase/installations-compat",iC="@firebase/messaging",oC="@firebase/messaging-compat",sC="@firebase/performance",aC="@firebase/performance-compat",lC="@firebase/remote-config",uC="@firebase/remote-config-compat",cC="@firebase/storage",dC="@firebase/storage-compat",hC="@firebase/firestore",fC="@firebase/firestore-compat",pC="firebase",mC="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="[DEFAULT]",gC={[Xh]:"fire-core",[q2]:"fire-core-compat",[K2]:"fire-analytics",[W2]:"fire-analytics-compat",[Q2]:"fire-app-check",[G2]:"fire-app-check-compat",[Y2]:"fire-auth",[X2]:"fire-auth-compat",[J2]:"fire-rtdb",[Z2]:"fire-rtdb-compat",[eC]:"fire-fn",[tC]:"fire-fn-compat",[nC]:"fire-iid",[rC]:"fire-iid-compat",[iC]:"fire-fcm",[oC]:"fire-fcm-compat",[sC]:"fire-perf",[aC]:"fire-perf-compat",[lC]:"fire-rc",[uC]:"fire-rc-compat",[cC]:"fire-gcs",[dC]:"fire-gcs-compat",[hC]:"fire-fst",[fC]:"fire-fst-compat","fire-js":"fire-js",[pC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,Zh=new Map;function yC(e,t){try{e.container.addComponent(t)}catch(n){fi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Dr(e){const t=e.name;if(Zh.has(t))return fi.debug(`There were multiple attempts to register component ${t}.`),!1;Zh.set(t,e);for(const n of yu.values())yC(n,e);return!0}function Ca(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ar=new tc("app","Firebase",vC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=mC;function q_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Jh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Ar.create("bad-app-name",{appName:String(i)});if(n||(n=j_()),!n)throw Ar.create("no-options");const o=yu.get(i);if(o){if(gu(n,o.options)&&gu(r,o.config))return o;throw Ar.create("duplicate-app",{appName:i})}const s=new R2(i);for(const l of Zh.values())s.addComponent(l);const a=new _C(n,r,s);return yu.set(i,a),a}function W_(e=Jh){const t=yu.get(e);if(!t&&e===Jh&&j_())return q_();if(!t)throw Ar.create("no-app",{appName:e});return t}function Pn(e,t,n){var r;let i=(r=gC[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fi.warn(a.join(" "));return}Dr(new Gn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firebase-heartbeat-database",TC=1,na="firebase-heartbeat-store";let Rd=null;function K_(){return Rd||(Rd=j2(wC,TC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(na)}}}).catch(e=>{throw Ar.create("idb-open",{originalErrorMessage:e.message})})),Rd}async function IC(e){try{return await(await K_()).transaction(na).objectStore(na).get(G_(e))}catch(t){if(t instanceof Fr)fi.warn(t.message);else{const n=Ar.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});fi.warn(n.message)}}}async function Oy(e,t){try{const r=(await K_()).transaction(na,"readwrite");await r.objectStore(na).put(t,G_(e)),await r.done}catch(n){if(n instanceof Fr)fi.warn(n.message);else{const r=Ar.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fi.warn(r.message)}}}function G_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=1024,SC=30*24*60*60*1e3;class CC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=My();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=SC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=My(),{heartbeatsToSend:n,unsentEntries:r}=RC(this._heartbeatsCache.heartbeats),i=mu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function My(){return new Date().toISOString().substring(0,10)}function RC(e,t=AC){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Vy(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vy(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U_()?B_().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await IC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Vy(e){return mu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(e){Dr(new Gn("platform-logger",t=>new z2(t),"PRIVATE")),Dr(new Gn("heartbeat",t=>new CC(t),"PRIVATE")),Pn(Xh,Ny,e),Pn(Xh,Ny,"esm2017"),Pn("fire-js","")}xC("");var kC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,Bp=Bp||{},X=kC||self;function nc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ra(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function DC(e){return Object.prototype.hasOwnProperty.call(e,Pd)&&e[Pd]||(e[Pd]=++NC)}var Pd="closure_uid_"+(1e9*Math.random()>>>0),NC=0;function OC(e,t,n){return e.call.apply(e.bind,arguments)}function MC(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function _t(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_t=OC:_t=MC,_t.apply(null,arguments)}function dl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function it(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function $r(){this.s=this.s,this.o=this.o}var VC=0;$r.prototype.s=!1;$r.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),VC!=0)&&DC(this)};$r.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Q_=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function zp(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ly(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(nc(r)){const i=e.length||0,o=r.length||0;e.length=i+o;for(let s=0;s<o;s++)e[i+s]=r[s]}else e.push(r)}}function Et(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var LC=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{X.addEventListener("test",()=>{},t),X.removeEventListener("test",()=>{},t)}catch{}return e}();function ra(e){return/^[\s\xa0]*$/.test(e)}function rc(){var e=X.navigator;return e&&(e=e.userAgent)?e:""}function In(e){return rc().indexOf(e)!=-1}function Hp(e){return Hp[" "](e),e}Hp[" "]=function(){};function bC(e,t){var n=xR;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var FC=In("Opera"),To=In("Trident")||In("MSIE"),Y_=In("Edge"),ef=Y_||To,X_=In("Gecko")&&!(rc().toLowerCase().indexOf("webkit")!=-1&&!In("Edge"))&&!(In("Trident")||In("MSIE"))&&!In("Edge"),$C=rc().toLowerCase().indexOf("webkit")!=-1&&!In("Edge");function J_(){var e=X.document;return e?e.documentMode:void 0}var tf;e:{var xd="",kd=function(){var e=rc();if(X_)return/rv:([^\);]+)(\)|;)/.exec(e);if(Y_)return/Edge\/([\d\.]+)/.exec(e);if(To)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if($C)return/WebKit\/(\S+)/.exec(e);if(FC)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(kd&&(xd=kd?kd[1]:""),To){var Dd=J_();if(Dd!=null&&Dd>parseFloat(xd)){tf=String(Dd);break e}}tf=xd}var nf;if(X.document&&To){var by=J_();nf=by||parseInt(tf,10)||void 0}else nf=void 0;var jC=nf;function ia(e,t){if(Et.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(X_){e:{try{Hp(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:UC[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ia.$.h.call(this)}}it(ia,Et);var UC={2:"touch",3:"pen",4:"mouse"};ia.prototype.h=function(){ia.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Pa="closure_listenable_"+(1e6*Math.random()|0),BC=0;function zC(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++BC,this.fa=this.ia=!1}function ic(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function qp(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function HC(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Z_(e){const t={};for(const n in e)t[n]=e[n];return t}const Fy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eE(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let o=0;o<Fy.length;o++)n=Fy[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function oc(e){this.src=e,this.g={},this.h=0}oc.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=of(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):(t=new zC(t,this.src,o,!!r,i),t.ia=n,e.push(t)),t};function rf(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Q_(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(ic(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function of(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}var Wp="closure_lm_"+(1e6*Math.random()|0),Nd={};function tE(e,t,n,r,i){if(r&&r.once)return rE(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)tE(e,t[o],n,r,i);return null}return n=Qp(n),e&&e[Pa]?e.O(t,n,Ra(r)?!!r.capture:!!r,i):nE(e,t,n,!1,r,i)}function nE(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Ra(i)?!!i.capture:!!i,a=Gp(e);if(a||(e[Wp]=a=new oc(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=qC(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)LC||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(oE(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function qC(){function e(n){return t.call(e.src,e.listener,n)}const t=WC;return e}function rE(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)rE(e,t[o],n,r,i);return null}return n=Qp(n),e&&e[Pa]?e.P(t,n,Ra(r)?!!r.capture:!!r,i):nE(e,t,n,!0,r,i)}function iE(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)iE(e,t[o],n,r,i);else r=Ra(r)?!!r.capture:!!r,n=Qp(n),e&&e[Pa]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=of(o,n,r,i),-1<n&&(ic(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Gp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=of(t,n,r,i)),(n=-1<e?t[e]:null)&&Kp(n))}function Kp(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Pa])rf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(oE(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Gp(t))?(rf(n,e),n.h==0&&(n.src=null,t[Wp]=null)):ic(e)}}}function oE(e){return e in Nd?Nd[e]:Nd[e]="on"+e}function WC(e,t){if(e.fa)e=!0;else{t=new ia(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Kp(e),e=n.call(r,t)}return e}function Gp(e){return e=e[Wp],e instanceof oc?e:null}var Od="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qp(e){return typeof e=="function"?e:(e[Od]||(e[Od]=function(t){return e.handleEvent(t)}),e[Od])}function rt(){$r.call(this),this.i=new oc(this),this.S=this,this.J=null}it(rt,$r);rt.prototype[Pa]=!0;rt.prototype.removeEventListener=function(e,t,n,r){iE(this,e,t,n,r)};function ut(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Et(t,e);else if(t instanceof Et)t.target=t.target||e;else{var i=t;t=new Et(r,e),eE(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=hl(s,r,!0,t)&&i}if(s=t.g=e,i=hl(s,r,!0,t)&&i,i=hl(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=hl(s,r,!1,t)&&i}rt.prototype.N=function(){if(rt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ic(n[r]);delete e.g[t],e.h--}}this.J=null};rt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};rt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function hl(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&rf(e.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Yp=X.JSON.stringify;class KC{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function GC(){var e=Xp;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class QC{constructor(){this.h=this.g=null}add(t,n){const r=sE.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var sE=new KC(()=>new YC,e=>e.reset());class YC{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function XC(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function JC(e){X.setTimeout(()=>{throw e},0)}let oa,sa=!1,Xp=new QC,aE=()=>{const e=X.Promise.resolve(void 0);oa=()=>{e.then(ZC)}};var ZC=()=>{for(var e;e=GC();){try{e.h.call(e.g)}catch(n){JC(n)}var t=sE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}sa=!1};function sc(e,t){rt.call(this),this.h=e||1,this.g=t||X,this.j=_t(this.qb,this),this.l=Date.now()}it(sc,rt);V=sc.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(Jp(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Jp(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}V.N=function(){sc.$.N.call(this),Jp(this),delete this.g};function Zp(e,t,n){if(typeof e=="function")n&&(e=_t(e,n));else if(e&&typeof e.handleEvent=="function")e=_t(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:X.setTimeout(e,t||0)}function lE(e){e.g=Zp(()=>{e.g=null,e.i&&(e.i=!1,lE(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class eR extends $r{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:lE(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(e){$r.call(this),this.h=e,this.g={}}it(aa,$r);var $y=[];function uE(e,t,n,r){Array.isArray(n)||(n&&($y[0]=n.toString()),n=$y);for(var i=0;i<n.length;i++){var o=tE(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function cE(e){qp(e.g,function(t,n){this.g.hasOwnProperty(n)&&Kp(t)},e),e.g={}}aa.prototype.N=function(){aa.$.N.call(this),cE(this)};aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ac(){this.g=!0}ac.prototype.Ea=function(){this.g=!1};function tR(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function nR(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function Yi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+iR(e,n)+(r?" "+r:"")})}function rR(e,t){e.info(function(){return"TIMEOUT: "+t})}ac.prototype.info=function(){};function iR(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Yp(n)}catch{return t}}var Ai={},jy=null;function lc(){return jy=jy||new rt}Ai.Ta="serverreachability";function dE(e){Et.call(this,Ai.Ta,e)}it(dE,Et);function la(e){const t=lc();ut(t,new dE(t))}Ai.STAT_EVENT="statevent";function hE(e,t){Et.call(this,Ai.STAT_EVENT,e),this.stat=t}it(hE,Et);function St(e){const t=lc();ut(t,new hE(t,e))}Ai.Ua="timingevent";function fE(e,t){Et.call(this,Ai.Ua,e),this.size=t}it(fE,Et);function xa(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){e()},t)}var uc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function em(){}em.prototype.h=null;function Uy(e){return e.h||(e.h=e.i())}function mE(){}var ka={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tm(){Et.call(this,"d")}it(tm,Et);function nm(){Et.call(this,"c")}it(nm,Et);var sf;function cc(){}it(cc,em);cc.prototype.g=function(){return new XMLHttpRequest};cc.prototype.i=function(){return{}};sf=new cc;function Da(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new aa(this),this.P=oR,e=ef?125:void 0,this.V=new sc(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gE}function gE(){this.i=null,this.g="",this.h=!1}var oR=45e3,af={},vu={};V=Da.prototype;V.setTimeout=function(e){this.P=e};function lf(e,t,n){e.L=1,e.v=hc(Qn(t)),e.s=n,e.S=!0,yE(e,null)}function yE(e,t){e.G=Date.now(),Na(e),e.A=Qn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),SE(n.i,"t",r),e.C=0,n=e.l.J,e.h=new gE,e.g=WE(e.l,n?t:null,!e.s),0<e.O&&(e.M=new eR(_t(e.Pa,e,e.g),e.O)),uE(e.U,e.g,"readystatechange",e.nb),t=e.I?Z_(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),la(),tR(e.j,e.u,e.A,e.m,e.W,e.s)}V.nb=function(e){e=e.target;const t=this.M;t&&An(e)==3?t.l():this.Pa(e)};V.Pa=function(e){try{if(e==this.g)e:{const c=An(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||ef||this.g&&(this.h.h||this.g.ja()||qy(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?la(3):la(2)),dc(this);var n=this.g.da();this.ca=n;t:if(vE(this)){var r=qy(this.g);e="";var i=r.length,o=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),Ds(this);var s="";break t}this.h.i=new X.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,nR(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ra(a)){var u=a;break t}}u=null}if(n=u)Yi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uf(this,n);else{this.i=!1,this.o=3,St(12),ei(this),Ds(this);break e}}this.S?(_E(this,c,s),ef&&this.i&&c==3&&(uE(this.U,this.V,"tick",this.mb),this.V.start())):(Yi(this.j,this.m,s,null),uf(this,s)),c==4&&ei(this),this.i&&!this.J&&(c==4?BE(this.l,this):(this.i=!1,Na(this)))}else CR(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,St(12)):(this.o=0,St(13)),ei(this),Ds(this)}}}catch{}finally{}};function vE(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function _E(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=sR(e,n),i==vu){t==4&&(e.o=4,St(14),r=!1),Yi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==af){e.o=4,St(15),Yi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Yi(e.j,e.m,i,null),uf(e,i);vE(e)&&i!=vu&&i!=af&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,St(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),lm(t),t.M=!0,St(11))):(Yi(e.j,e.m,n,"[Invalid Chunked Response]"),ei(e),Ds(e))}V.mb=function(){if(this.g){var e=An(this.g),t=this.g.ja();this.C<t.length&&(dc(this),_E(this,e,t),this.i&&e!=4&&Na(this))}};function sR(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?vu:(n=Number(t.substring(n,r)),isNaN(n)?af:(r+=1,r+n>t.length?vu:(t=t.slice(r,r+n),e.C=r+n,t)))}V.cancel=function(){this.J=!0,ei(this)};function Na(e){e.Y=Date.now()+e.P,EE(e,e.P)}function EE(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=xa(_t(e.lb,e),t)}function dc(e){e.B&&(X.clearTimeout(e.B),e.B=null)}V.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(rR(this.j,this.A),this.L!=2&&(la(),St(17)),ei(this),this.o=2,Ds(this)):EE(this,this.Y-e)};function Ds(e){e.l.H==0||e.J||BE(e.l,e)}function ei(e){dc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Jp(e.V),cE(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function uf(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||cf(n.i,e))){if(!e.K&&cf(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)wu(n),mc(n);else break e;am(n),St(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=xa(_t(n.ib,n),6e3));if(1>=PE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ti(n,11)}else if((e.K||n.g==e)&&wu(n),!ra(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=e.g;if(f){const y=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.i;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(rm(o,o.h),o.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Ie(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=e;if(r.wa=qE(r,r.J?r.pa:null,r.Y),s.K){xE(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(dc(a),Na(a)),r.g=s}else jE(r);0<n.j.length&&gc(n)}else u[0]!="stop"&&u[0]!="close"||ti(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ti(n,7):sm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}la(4)}catch{}}function aR(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(nc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function lR(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(nc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function wE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(nc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=lR(e),r=aR(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}var TE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uR(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ai(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ai){this.h=e.h,_u(this,e.j),this.s=e.s,this.g=e.g,Eu(this,e.m),this.l=e.l;var t=e.i,n=new ua;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),By(this,n),this.o=e.o}else e&&(t=String(e).match(TE))?(this.h=!1,_u(this,t[1]||"",!0),this.s=ps(t[2]||""),this.g=ps(t[3]||"",!0),Eu(this,t[4]),this.l=ps(t[5]||"",!0),By(this,t[6]||"",!0),this.o=ps(t[7]||"")):(this.h=!1,this.i=new ua(null,this.h))}ai.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ms(t,zy,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ms(t,zy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(ms(n,n.charAt(0)=="/"?hR:dR,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ms(n,pR)),e.join("")};function Qn(e){return new ai(e)}function _u(e,t,n){e.j=n?ps(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Eu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function By(e,t,n){t instanceof ua?(e.i=t,mR(e.i,e.h)):(n||(t=ms(t,fR)),e.i=new ua(t,e.h))}function Ie(e,t,n){e.i.set(t,n)}function hc(e){return Ie(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ps(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ms(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,cR),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cR(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var zy=/[#\/\?@]/g,dR=/[#\?:]/g,hR=/[#\?]/g,fR=/[#\?@]/g,pR=/#/g;function ua(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jr(e){e.g||(e.g=new Map,e.h=0,e.i&&uR(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}V=ua.prototype;V.add=function(e,t){jr(this),this.i=null,e=Vo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function IE(e,t){jr(e),t=Vo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function AE(e,t){return jr(e),t=Vo(e,t),e.g.has(t)}V.forEach=function(e,t){jr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};V.ta=function(){jr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let o=0;o<i.length;o++)n.push(t[r])}return n};V.Z=function(e){jr(this);let t=[];if(typeof e=="string")AE(this,e)&&(t=t.concat(this.g.get(Vo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};V.set=function(e,t){return jr(this),this.i=null,e=Vo(this,e),AE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};V.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function SE(e,t,n){IE(e,t),0<n.length&&(e.i=null,e.g.set(Vo(e,t),zp(n)),e.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function Vo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function mR(e,t){t&&!e.j&&(jr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(IE(this,r),SE(this,i,n))},e)),e.j=t}var gR=class{constructor(e,t){this.g=e,this.map=t}};function CE(e){this.l=e||yR,X.PerformanceNavigationTiming?(e=X.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yR=10;function RE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function PE(e){return e.h?1:e.g?e.g.size:0}function cf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function rm(e,t){e.g?e.g.add(t):e.h=t}function xE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}CE.prototype.cancel=function(){if(this.i=kE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function kE(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return zp(e.i)}var vR=class{stringify(e){return X.JSON.stringify(e,void 0)}parse(e){return X.JSON.parse(e,void 0)}};function _R(){this.g=new vR}function ER(e,t,n){const r=n||"";try{wE(e,function(i,o){let s=i;Ra(i)&&(s=Yp(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function wR(e,t){const n=new ac;if(X.Image){const r=new Image;r.onload=dl(fl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=dl(fl,n,r,"TestLoadImage: error",!1,t),r.onabort=dl(fl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=dl(fl,n,r,"TestLoadImage: timeout",!1,t),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function fl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Oa(e){this.l=e.fc||null,this.j=e.ob||!1}it(Oa,em);Oa.prototype.g=function(){return new fc(this.l,this.j)};Oa.prototype.i=function(e){return function(){return e}}({});function fc(e,t){rt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=im,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}it(fc,rt);var im=0;V=fc.prototype;V.open=function(e,t){if(this.readyState!=im)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ca(this)};V.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||X).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ma(this)),this.readyState=im};V.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DE(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function DE(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}V.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ma(this):ca(this),this.readyState==3&&DE(this)}};V.Za=function(e){this.g&&(this.response=this.responseText=e,Ma(this))};V.Ya=function(e){this.g&&(this.response=e,Ma(this))};V.ka=function(){this.g&&Ma(this)};function Ma(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ca(e)}V.setRequestHeader=function(e,t){this.v.append(e,t)};V.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ca(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var TR=X.JSON.parse;function Le(e){rt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=NE,this.L=this.M=!1}it(Le,rt);var NE="",IR=/^https?$/i,AR=["POST","PUT"];V=Le.prototype;V.Oa=function(e){this.M=e};V.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sf.g(),this.C=this.u?Uy(this.u):Uy(sf),this.g.onreadystatechange=_t(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){Hy(this,o);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=X.FormData&&e instanceof X.FormData,!(0<=Q_(AR,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{VE(this),0<this.B&&((this.L=SR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.ua,this)):this.A=Zp(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Hy(this,o)}};function SR(e){return To&&typeof e.timeout=="number"&&e.ontimeout!==void 0}V.ua=function(){typeof Bp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function Hy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,OE(e),pc(e)}function OE(e){e.F||(e.F=!0,ut(e,"complete"),ut(e,"error"))}V.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ut(this,"complete"),ut(this,"abort"),pc(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pc(this,!0)),Le.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?ME(this):this.kb())};V.kb=function(){ME(this)};function ME(e){if(e.h&&typeof Bp<"u"&&(!e.C[1]||An(e)!=4||e.da()!=2)){if(e.v&&An(e)==4)Zp(e.La,0,e);else if(ut(e,"readystatechange"),An(e)==4){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=s===0){var i=String(e.I).match(TE)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!IR.test(i?i.toLowerCase():"")}n=r}if(n)ut(e,"complete"),ut(e,"success");else{e.m=6;try{var o=2<An(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",OE(e)}}finally{pc(e)}}}}function pc(e,t){if(e.g){VE(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ut(e,"ready");try{n.onreadystatechange=r}catch{}}}function VE(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(X.clearTimeout(e.A),e.A=null)}V.isActive=function(){return!!this.g};function An(e){return e.g?e.g.readyState:0}V.da=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),TR(t)}};function qy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case NE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function CR(e){const t={};e=(e.g&&2<=An(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(ra(e[r]))continue;var n=XC(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}HC(t,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function LE(e){let t="";return qp(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function om(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=LE(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ie(e,t,n))}function es(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bE(e){this.Ga=0,this.j=[],this.l=new ac,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=es("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=es("baseRetryDelayMs",5e3,e),this.hb=es("retryDelaySeedMs",1e4,e),this.eb=es("forwardChannelMaxRetries",2,e),this.xa=es("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new CE(e&&e.concurrentRequestLimit),this.Ja=new _R,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=bE.prototype;V.ra=8;V.H=1;function sm(e){if(FE(e),e.H==3){var t=e.W++,n=Qn(e.I);if(Ie(n,"SID",e.K),Ie(n,"RID",t),Ie(n,"TYPE","terminate"),Va(e,n),t=new Da(e,e.l,t),t.L=2,t.v=hc(Qn(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&X.Image&&(new Image().src=t.v,n=!0),n||(t.g=WE(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Na(t)}HE(e)}function mc(e){e.g&&(lm(e),e.g.cancel(),e.g=null)}function FE(e){mc(e),e.u&&(X.clearTimeout(e.u),e.u=null),wu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&X.clearTimeout(e.m),e.m=null)}function gc(e){if(!RE(e.i)&&!e.m){e.m=!0;var t=e.Na;oa||aE(),sa||(oa(),sa=!0),Xp.add(t,e),e.C=0}}function RR(e,t){return PE(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=xa(_t(e.Na,e,t),zE(e,e.C)),e.C++,!0)}V.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Da(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Z_(o),eE(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=$E(this,i,t),n=Qn(this.I),Ie(n,"RID",e),Ie(n,"CVER",22),this.F&&Ie(n,"X-HTTP-Session-Id",this.F),Va(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(LE(o)))+"&"+t:this.o&&om(n,this.o,o)),rm(this.i,i),this.bb&&Ie(n,"TYPE","init"),this.P?(Ie(n,"$req",t),Ie(n,"SID","null"),i.aa=!0,lf(i,n,null)):lf(i,n,t),this.H=2}}else this.H==3&&(e?Wy(this,e):this.j.length==0||RE(this.i)||Wy(this))};function Wy(e,t){var n;t?n=t.m:n=e.W++;const r=Qn(e.I);Ie(r,"SID",e.K),Ie(r,"RID",n),Ie(r,"AID",e.V),Va(e,r),e.o&&e.s&&om(r,e.o,e.s),n=new Da(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=$E(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),rm(e.i,n),lf(n,r,t)}function Va(e,t){e.na&&qp(e.na,function(n,r){Ie(t,r,n)}),e.h&&wE({},function(n,r){Ie(t,r,n)})}function $E(e,t,n){n=Math.min(e.j.length,n);var r=e.h?_t(e.h.Va,e.h,e):null;e:{var i=e.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{ER(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function jE(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;oa||aE(),sa||(oa(),sa=!0),Xp.add(t,e),e.A=0}}function am(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=xa(_t(e.Ma,e),zE(e,e.A)),e.A++,!0)}V.Ma=function(){if(this.u=null,UE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=xa(_t(this.jb,this),e)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,St(10),mc(this),UE(this))};function lm(e){e.B!=null&&(X.clearTimeout(e.B),e.B=null)}function UE(e){e.g=new Da(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Qn(e.wa);Ie(t,"RID","rpc"),Ie(t,"SID",e.K),Ie(t,"AID",e.V),Ie(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ie(t,"TO",e.qa),Ie(t,"TYPE","xmlhttp"),Va(e,t),e.o&&e.s&&om(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=hc(Qn(t)),n.s=null,n.S=!0,yE(n,e)}V.ib=function(){this.v!=null&&(this.v=null,mc(this),am(this),St(19))};function wu(e){e.v!=null&&(X.clearTimeout(e.v),e.v=null)}function BE(e,t){var n=null;if(e.g==t){wu(e),lm(e),e.g=null;var r=2}else if(cf(e.i,t))n=t.F,xE(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=lc(),ut(r,new fE(r,n)),gc(e)}else jE(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&RR(e,t)||r==2&&am(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ti(e,5);break;case 4:ti(e,10);break;case 3:ti(e,6);break;default:ti(e,2)}}}function zE(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ti(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=_t(e.pb,e);n||(n=new ai("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||_u(n,"https"),hc(n)),wR(n.toString(),r)}else St(2);e.H=0,e.h&&e.h.za(t),HE(e),FE(e)}V.pb=function(e){e?(this.l.info("Successfully pinged google.com"),St(2)):(this.l.info("Failed to ping google.com"),St(1))};function HE(e){if(e.H=0,e.ma=[],e.h){const t=kE(e.i);(t.length!=0||e.j.length!=0)&&(Ly(e.ma,t),Ly(e.ma,e.j),e.i.i.length=0,zp(e.j),e.j.length=0),e.h.ya()}}function qE(e,t,n){var r=n instanceof ai?Qn(n):new ai(n);if(r.g!="")t&&(r.g=t+"."+r.g),Eu(r,r.m);else{var i=X.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ai(null);r&&_u(o,r),t&&(o.g=t),i&&Eu(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Ie(r,n,t),Ie(r,"VER",e.ra),Va(e,r),r}function WE(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Le(new Oa({ob:!0})):new Le(e.va),t.Oa(e.J),t}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function KE(){}V=KE.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Tu(){if(To&&!(10<=Number(jC)))throw Error("Environmental error: no available transport.")}Tu.prototype.g=function(e,t){return new qt(e,t)};function qt(e,t){rt.call(this),this.g=new bE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ra(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ra(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Lo(this)}it(qt,rt);qt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;St(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=qE(e,null,e.Y),gc(e)};qt.prototype.close=function(){sm(this.g)};qt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Yp(e),e=n);t.j.push(new gR(t.fb++,e)),t.H==3&&gc(t)};qt.prototype.N=function(){this.g.h=null,delete this.j,sm(this.g),delete this.g,qt.$.N.call(this)};function GE(e){tm.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}it(GE,tm);function QE(){nm.call(this),this.status=1}it(QE,nm);function Lo(e){this.g=e}it(Lo,KE);Lo.prototype.Ba=function(){ut(this.g,"a")};Lo.prototype.Aa=function(e){ut(this.g,new GE(e))};Lo.prototype.za=function(e){ut(this.g,new QE)};Lo.prototype.ya=function(){ut(this.g,"b")};function PR(){this.blockSize=-1}function yn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}it(yn,PR);yn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Md(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[4]+4118548399&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[8]+1770035416&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[12]+1804603682&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(i^o&(n^i))+r[1]+4129170786&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[5]+3593408605&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[9]+568446438&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[13]+2850285829&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(n^i^o)+r[5]+4294588738&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[1]+2763975236&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[13]+681279174&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[9]+3654602809&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(i^(n|~o))+r[0]+4096336452&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[12]+1700485571&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[8]+1873313359&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[4]+4149444226&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}yn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(i==0)for(;o<=n;)Md(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Md(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Md(this,r),i=0;break}}this.h=i,this.i+=t};yn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function me(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=e[i]|0;r&&o==t||(n[i]=o,r=!1)}this.g=n}var xR={};function um(e){return-128<=e&&128>e?bC(e,function(t){return new me([t|0],0>t?-1:0)}):new me([e|0],0>e?-1:0)}function Sn(e){if(isNaN(e)||!isFinite(e))return oo;if(0>e)return at(Sn(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=df;return new me(t,0)}function YE(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return at(YE(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sn(Math.pow(t,8)),r=oo,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+o),t);8>o?(o=Sn(Math.pow(t,o)),r=r.R(o).add(Sn(s))):(r=r.R(n),r=r.add(Sn(s)))}return r}var df=4294967296,oo=um(0),hf=um(1),Ky=um(16777216);V=me.prototype;V.ea=function(){if(Zt(this))return-at(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:df+r)*t,t*=df}return e};V.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Un(this))return"0";if(Zt(this))return"-"+at(this).toString(e);for(var t=Sn(Math.pow(e,6)),n=this,r="";;){var i=Au(n,t).g;n=Iu(n,i.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Un(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};V.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Un(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Zt(e){return e.h==-1}V.X=function(e){return e=Iu(this,e),Zt(e)?-1:Un(e)?0:1};function at(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new me(n,~e.h).add(hf)}V.abs=function(){return Zt(this)?at(this):this};V.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(this.D(i)&65535)+(e.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new me(n,n[n.length-1]&-2147483648?-1:0)};function Iu(e,t){return e.add(at(t))}V.R=function(e){if(Un(this)||Un(e))return oo;if(Zt(this))return Zt(e)?at(this).R(at(e)):at(at(this).R(e));if(Zt(e))return at(this.R(at(e)));if(0>this.X(Ky)&&0>e.X(Ky))return Sn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=s*l,pl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,pl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,pl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,pl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new me(n,0)};function pl(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ts(e,t){this.g=e,this.h=t}function Au(e,t){if(Un(t))throw Error("division by zero");if(Un(e))return new ts(oo,oo);if(Zt(e))return t=Au(at(e),t),new ts(at(t.g),at(t.h));if(Zt(t))return t=Au(e,at(t)),new ts(at(t.g),t.h);if(30<e.g.length){if(Zt(e)||Zt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=hf,r=t;0>=r.X(e);)n=Gy(n),r=Gy(r);var i=Oi(n,1),o=Oi(r,1);for(r=Oi(r,2),n=Oi(n,2);!Un(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Oi(r,1),n=Oi(n,1)}return t=Iu(e,i.R(t)),new ts(i,t)}for(i=oo;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Sn(n),s=o.R(t);Zt(s)||0<s.X(e);)n-=r,o=Sn(n),s=o.R(t);Un(o)&&(o=hf),i=i.add(o),e=Iu(e,s)}return new ts(i,e)}V.gb=function(e){return Au(this,e).h};V.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new me(n,this.h&e.h)};V.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new me(n,this.h|e.h)};V.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new me(n,this.h^e.h)};function Gy(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new me(n,e.h)}function Oi(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new me(i,e.h)}Tu.prototype.createWebChannel=Tu.prototype.g;qt.prototype.send=qt.prototype.u;qt.prototype.open=qt.prototype.m;qt.prototype.close=qt.prototype.close;uc.NO_ERROR=0;uc.TIMEOUT=8;uc.HTTP_ERROR=6;pE.COMPLETE="complete";mE.EventType=ka;ka.OPEN="a";ka.CLOSE="b";ka.ERROR="c";ka.MESSAGE="d";rt.prototype.listen=rt.prototype.O;Le.prototype.listenOnce=Le.prototype.P;Le.prototype.getLastError=Le.prototype.Sa;Le.prototype.getLastErrorCode=Le.prototype.Ia;Le.prototype.getStatus=Le.prototype.da;Le.prototype.getResponseJson=Le.prototype.Wa;Le.prototype.getResponseText=Le.prototype.ja;Le.prototype.send=Le.prototype.ha;Le.prototype.setWithCredentials=Le.prototype.Oa;yn.prototype.digest=yn.prototype.l;yn.prototype.reset=yn.prototype.reset;yn.prototype.update=yn.prototype.j;me.prototype.add=me.prototype.add;me.prototype.multiply=me.prototype.R;me.prototype.modulo=me.prototype.gb;me.prototype.compare=me.prototype.X;me.prototype.toNumber=me.prototype.ea;me.prototype.toString=me.prototype.toString;me.prototype.getBits=me.prototype.D;me.fromNumber=Sn;me.fromString=YE;var kR=function(){return new Tu},DR=function(){return lc()},Vd=uc,NR=pE,OR=Ai,Qy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},MR=Oa,ml=mE,VR=Le,LR=yn,so=me;const Yy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new jp("@firebase/firestore");function Xy(){return pi.logLevel}function U(e,...t){if(pi.logLevel<=fe.DEBUG){const n=t.map(cm);pi.debug(`Firestore (${bo}): ${e}`,...n)}}function Yn(e,...t){if(pi.logLevel<=fe.ERROR){const n=t.map(cm);pi.error(`Firestore (${bo}): ${e}`,...n)}}function Io(e,...t){if(pi.logLevel<=fe.WARN){const n=t.map(cm);pi.warn(`Firestore (${bo}): ${e}`,...n)}}function cm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e="Unexpected state"){const t=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+e;throw Yn(t),new Error(t)}function Ce(e,t){e||Q()}function ne(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends Fr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class FR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $R{constructor(t){this.t=t,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sr,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sr)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new XE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ce(t===null||typeof t=="string"),new mt(t)}}class jR{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class UR{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new jR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zR{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new BR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=HR(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function he(e,t){return e<t?-1:e>t?1:0}function Ao(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new L(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new L(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ke.fromMillis(Date.now())}static fromDate(t){return Ke.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?he(this.nanoseconds,t.nanoseconds):he(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Z(t)}static min(){return new Z(new Ke(0,0))}static max(){return new Z(new Ke(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t,n,r){n===void 0?n=0:n>t.length&&Q(),r===void 0?r=t.length-n:r>t.length-n&&Q(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return da.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof da?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ae extends da{construct(t,n,r){return new Ae(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new L(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const qR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends da{construct(t,n,r){return new vt(t,n,r)}static isValidIdentifier(t){return qR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new L(R.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new L(R.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(R.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(t){this.path=t}static fromPath(t){return new H(Ae.fromString(t))}static fromName(t){return new H(Ae.fromString(t).popFirst(5))}static empty(){return new H(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new H(new Ae(t.slice()))}}function WR(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Nr(i,H.empty(),t)}function KR(e){return new Nr(e.readTime,e.key,-1)}class Nr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Nr(Z.min(),H.empty(),-1)}static max(){return new Nr(Z.max(),H.empty(),-1)}}function GR(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=H.comparator(e.documentKey,t.documentKey),n!==0?n:he(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(e){if(e.code!==R.FAILED_PRECONDITION||e.message!==QR)throw e;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new N((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):N.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):N.reject(n)}static resolve(t){return new N((n,r)=>{n(t)})}static reject(t){return new N((n,r)=>{r(t)})}static waitFor(t){return new N((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=N.resolve(!1);for(const r of t)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new N((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new N((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function ba(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}dm.ae=-1;function yc(e){return e==null}function Su(e){return e===0&&1/e==-1/0}function XR(e){return typeof e=="number"&&Number.isInteger(e)&&!Su(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Si(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ZE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t,n){this.comparator=t,this.root=n||st.EMPTY}insert(t,n){return new Me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(t){return new Me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,st.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gl(this.root,t,this.comparator,!1)}getReverseIterator(){return new gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gl(this.root,t,this.comparator,!0)}}class gl{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class st{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??st.RED,this.left=i??st.EMPTY,this.right=o??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new st(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return st.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,n,r,i,o){return this}insert(t,n,r){return new st(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.comparator=t,this.data=new Me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zy(this.data.getIterator())}getIteratorFrom(t){return new Zy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof wt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new wt(this.comparator);return n.data=t,n}}class Zy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.fields=t,t.sort(vt.comparator)}static empty(){return new Ut([])}unionWith(t){let n=new wt(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ut(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ao(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ew("Invalid base64 string: "+o):o}}(t);return new It(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new It(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return he(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}It.EMPTY_BYTE_STRING=new It("");const JR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(e){if(Ce(!!e),typeof e=="string"){let t=0;const n=JR.exec(e);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:He(e.seconds),nanos:He(e.nanos)}}function He(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function mi(e){return typeof e=="string"?It.fromBase64String(e):It.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fm(e){const t=e.mapValue.fields.__previous_value__;return hm(t)?fm(t):t}function ha(e){const t=Or(e.mapValue.fields.__local_write_time__.timestampValue);return new Ke(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class fa{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new fa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof fa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?hm(e)?4:eP(e)?9007199254740991:10:Q()}function Dn(e,t){if(e===t)return!0;const n=gi(e);if(n!==gi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ha(e).isEqual(ha(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Or(i.timestampValue),a=Or(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return mi(i.bytesValue).isEqual(mi(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return He(i.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return He(i.integerValue)===He(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=He(i.doubleValue),a=He(o.doubleValue);return s===a?Su(s)===Su(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Ao(e.arrayValue.values||[],t.arrayValue.values||[],Dn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Jy(s)!==Jy(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Dn(s[l],a[l])))return!1;return!0}(e,t);default:return Q()}}function pa(e,t){return(e.values||[]).find(n=>Dn(n,t))!==void 0}function So(e,t){if(e===t)return 0;const n=gi(e),r=gi(t);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=He(o.integerValue||o.doubleValue),l=He(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return ev(e.timestampValue,t.timestampValue);case 4:return ev(ha(e),ha(t));case 5:return he(e.stringValue,t.stringValue);case 6:return function(o,s){const a=mi(o),l=mi(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=he(a[u],l[u]);if(c!==0)return c}return he(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=he(He(o.latitude),He(s.latitude));return a!==0?a:he(He(o.longitude),He(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=So(a[u],l[u]);if(c)return c}return he(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===yl.mapValue&&s===yl.mapValue)return 0;if(o===yl.mapValue)return 1;if(s===yl.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=he(l[d],c[d]);if(h!==0)return h;const f=So(a[l[d]],u[c[d]]);if(f!==0)return f}return he(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Q()}}function ev(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return he(e,t);const n=Or(e),r=Or(t),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function Co(e){return ff(e)}function ff(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Or(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return mi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return H.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ff(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${ff(n.fields[s])}`;return i+"}"}(e.mapValue):Q()}function tv(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function pf(e){return!!e&&"integerValue"in e}function pm(e){return!!e&&"arrayValue"in e}function nv(e){return!!e&&"nullValue"in e}function rv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fl(e){return!!e&&"mapValue"in e}function Ns(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Si(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ns(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ns(e.arrayValue.values[n]);return t}return Object.assign({},e)}function eP(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t){this.value=t}static empty(){return new Nt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Fl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ns(n)}setAll(t){let n=vt.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ns(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());Fl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Dn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Fl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Si(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Nt(Ns(this.value))}}function tw(e){const t=[];return Si(e.fields,(n,r)=>{const i=new vt([n]);if(Fl(r)){const o=tw(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new Ut(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new yt(t,0,Z.min(),Z.min(),Z.min(),Nt.empty(),0)}static newFoundDocument(t,n,r,i){return new yt(t,1,n,Z.min(),r,i,0)}static newNoDocument(t,n){return new yt(t,2,n,Z.min(),Z.min(),Nt.empty(),0)}static newUnknownDocument(t,n){return new yt(t,3,n,Z.min(),Z.min(),Nt.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n){this.position=t,this.inclusive=n}}function iv(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=So(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ov(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Dn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t,n="asc"){this.field=t,this.dir=n}}function tP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{}class We extends nw{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new rP(t,n,r):n==="array-contains"?new sP(t,r):n==="in"?new aP(t,r):n==="not-in"?new lP(t,r):n==="array-contains-any"?new uP(t,r):new We(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new iP(t,r):new oP(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(So(n,this.value)):n!==null&&gi(this.value)===gi(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vn extends nw{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new vn(t,n)}matches(t){return rw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function rw(e){return e.op==="and"}function iw(e){return nP(e)&&rw(e)}function nP(e){for(const t of e.filters)if(t instanceof vn)return!1;return!0}function mf(e){if(e instanceof We)return e.field.canonicalString()+e.op.toString()+Co(e.value);if(iw(e))return e.filters.map(t=>mf(t)).join(",");{const t=e.filters.map(n=>mf(n)).join(",");return`${e.op}(${t})`}}function ow(e,t){return e instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Dn(r.value,i.value)}(e,t):e instanceof vn?function(r,i){return i instanceof vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ow(s,i.filters[a]),!0):!1}(e,t):void Q()}function sw(e){return e instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(e):e instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(sw).join(" ,")+"}"}(e):"Filter"}class rP extends We{constructor(t,n,r){super(t,n,r),this.key=H.fromName(r.referenceValue)}matches(t){const n=H.comparator(t.key,this.key);return this.matchesComparison(n)}}class iP extends We{constructor(t,n){super(t,"in",n),this.keys=aw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class oP extends We{constructor(t,n){super(t,"not-in",n),this.keys=aw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function aw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class sP extends We{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return pm(n)&&pa(n.arrayValue,this.value)}}class aP extends We{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&pa(this.value.arrayValue,n)}}class lP extends We{constructor(t,n){super(t,"not-in",n)}matches(t){if(pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!pa(this.value.arrayValue,n)}}class uP extends We{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!pm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.he=null}}function sv(e,t=null,n=[],r=[],i=null,o=null,s=null){return new cP(e,t,n,r,i,o,s)}function mm(e){const t=ne(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>mf(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),yc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Co(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Co(r)).join(",")),t.he=n}return t.he}function gm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!tP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ow(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ov(e.startAt,t.startAt)&&ov(e.endAt,t.endAt)}function gf(e){return H.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function dP(e,t,n,r,i,o,s,a){return new Fo(e,t,n,r,i,o,s,a)}function vc(e){return new Fo(e)}function av(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function ym(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _c(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function lw(e){return e.collectionGroup!==null}function lo(e){const t=ne(e);if(t.Pe===null){t.Pe=[];const n=_c(t),r=ym(t);if(n!==null&&r===null)n.isKeyField()||t.Pe.push(new ao(n)),t.Pe.push(new ao(vt.keyField(),"asc"));else{let i=!1;for(const o of t.explicitOrderBy)t.Pe.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new ao(vt.keyField(),o))}}}return t.Pe}function Xn(e){const t=ne(e);if(!t.Ie)if(t.limitType==="F")t.Ie=sv(t.path,t.collectionGroup,lo(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const o of lo(t)){const s=o.dir==="desc"?"asc":"desc";n.push(new ao(o.field,s))}const r=t.endAt?new Cu(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Cu(t.startAt.position,t.startAt.inclusive):null;t.Ie=sv(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t.Ie}function yf(e,t){t.getFirstInequalityField(),_c(e);const n=e.filters.concat([t]);return new Fo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function vf(e,t,n){return new Fo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ec(e,t){return gm(Xn(e),Xn(t))&&e.limitType===t.limitType}function uw(e){return`${mm(Xn(e))}|lt:${e.limitType}`}function _f(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sw(i)).join(", ")}]`),yc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Co(i)).join(",")),`Target(${r})`}(Xn(e))}; limitType=${e.limitType})`}function wc(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of lo(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=iv(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,lo(r),i)||r.endAt&&!function(s,a,l){const u=iv(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,lo(r),i))}(e,t)}function hP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function cw(e){return(t,n)=>{let r=!1;for(const i of lo(e)){const o=fP(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function fP(e,t,n){const r=e.field.isKeyField()?H.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?So(l,u):Q()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Si(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Me(H.comparator);function Jn(){return pP}const dw=new Me(H.comparator);function gs(...e){let t=dw;for(const n of e)t=t.insert(n.key,n);return t}function hw(e){let t=dw;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ni(){return Os()}function fw(){return Os()}function Os(){return new $o(e=>e.toString(),(e,t)=>e.isEqual(t))}const mP=new Me(H.comparator),gP=new wt(H.comparator);function oe(...e){let t=gP;for(const n of e)t=t.add(n);return t}const yP=new wt(he);function vP(){return yP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Su(t)?"-0":t}}function mw(e){return{integerValue:""+e}}function _P(e,t){return XR(t)?mw(t):pw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function EP(e,t,n){return e instanceof Ru?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hm(o)&&(o=fm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof ma?yw(e,t):e instanceof ga?vw(e,t):function(i,o){const s=gw(i,o),a=lv(s)+lv(i.Te);return pf(s)&&pf(i.Te)?mw(a):pw(i.serializer,a)}(e,t)}function wP(e,t,n){return e instanceof ma?yw(e,t):e instanceof ga?vw(e,t):n}function gw(e,t){return e instanceof Pu?function(r){return pf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class Ru extends Tc{}class ma extends Tc{constructor(t){super(),this.elements=t}}function yw(e,t){const n=_w(t);for(const r of e.elements)n.some(i=>Dn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ga extends Tc{constructor(t){super(),this.elements=t}}function vw(e,t){let n=_w(t);for(const r of e.elements)n=n.filter(i=>!Dn(i,r));return{arrayValue:{values:n}}}class Pu extends Tc{constructor(t,n){super(),this.serializer=t,this.Te=n}}function lv(e){return He(e.integerValue||e.doubleValue)}function _w(e){return pm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function TP(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof ma&&i instanceof ma||r instanceof ga&&i instanceof ga?Ao(r.elements,i.elements,Dn):r instanceof Pu&&i instanceof Pu?Dn(r.Te,i.Te):r instanceof Ru&&i instanceof Ru}(e.transform,t.transform)}class IP{constructor(t,n){this.version=t,this.transformResults=n}}class mn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new mn}static exists(t){return new mn(void 0,t)}static updateTime(t){return new mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $l(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ic{}function Ew(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new vm(e.key,mn.none()):new Fa(e.key,e.data,mn.none());{const n=e.data,r=Nt.empty();let i=new wt(vt.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ur(e.key,r,new Ut(i.toArray()),mn.none())}}function AP(e,t,n){e instanceof Fa?function(i,o,s){const a=i.value.clone(),l=cv(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ur?function(i,o,s){if(!$l(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=cv(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(ww(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ms(e,t,n,r){return e instanceof Fa?function(o,s,a,l){if(!$l(o.precondition,s))return a;const u=o.value.clone(),c=dv(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ur?function(o,s,a,l){if(!$l(o.precondition,s))return a;const u=dv(o.fieldTransforms,l,s),c=s.data;return c.setAll(ww(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,s,a){return $l(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function SP(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=gw(r.transform,i||null);o!=null&&(n===null&&(n=Nt.empty()),n.set(r.field,o))}return n||null}function uv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ao(r,i,(o,s)=>TP(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Fa extends Ic{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ur extends Ic{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ww(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function cv(e,t,n){const r=new Map;Ce(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,wP(s,a,n[i]))}return r}function dv(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,EP(o,s,t))}return r}class vm extends Ic{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CP extends Ic{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&AP(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ms(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ms(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=fw();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Ew(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),oe())}isEqual(t){return this.batchId===t.batchId&&Ao(this.mutations,t.mutations,(n,r)=>uv(n,r))&&Ao(this.baseMutations,t.baseMutations,(n,r)=>uv(n,r))}}class _m{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Ce(t.mutations.length===r.length);let i=function(){return mP}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new _m(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,le;function kP(e){switch(e){default:return Q();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function Tw(e){if(e===void 0)return Yn("GRPC error has no .code"),R.UNKNOWN;switch(e){case Be.OK:return R.OK;case Be.CANCELLED:return R.CANCELLED;case Be.UNKNOWN:return R.UNKNOWN;case Be.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Be.INTERNAL:return R.INTERNAL;case Be.UNAVAILABLE:return R.UNAVAILABLE;case Be.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Be.NOT_FOUND:return R.NOT_FOUND;case Be.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Be.ABORTED:return R.ABORTED;case Be.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Be.DATA_LOSS:return R.DATA_LOSS;default:return Q()}}(le=Be||(Be={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return vl}static getOrCreateInstance(){return vl===null&&(vl=new Em),vl}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let vl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=new so([4294967295,4294967295],0);function hv(e){const t=DP().encode(e),n=new LR;return n.update(t),new Uint8Array(n.digest())}function fv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new so([n,r],0),new so([i,o],0)]}class wm{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ys(`Invalid padding: ${n}`);if(r<0)throw new ys(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ys(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new ys(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*t.length-n,this.Ae=so.fromNumber(this.de)}Re(t,n,r){let i=t.add(n.multiply(so.fromNumber(r)));return i.compare(NP)===1&&(i=new so([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.de===0)return!1;const n=hv(t),[r,i]=fv(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(r,i,o);if(!this.Ve(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new wm(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.de===0)return;const n=hv(t),[r,i]=fv(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(r,i,o);this.me(s)}}me(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class ys extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,$a.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ac(Z.min(),i,new Me(he),Jn(),oe())}}class $a{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new $a(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n,r,i){this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=i}}class Iw{constructor(t,n){this.targetId=t,this.pe=n}}class Aw{constructor(t,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pv{constructor(){this.ye=0,this.we=gv(),this.Se=It.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(t){t.approximateByteSize()>0&&(this.De=!0,this.Se=t)}Me(){let t=oe(),n=oe(),r=oe();return this.we.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new $a(this.Se,this.be,t,n,r)}xe(){this.De=!1,this.we=gv()}Oe(t,n){this.De=!0,this.we=this.we.insert(t,n)}Ne(t){this.De=!0,this.we=this.we.remove(t)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class OP{constructor(t){this.qe=t,this.Qe=new Map,this.Ke=Jn(),this.$e=mv(),this.Ue=new Me(he)}We(t){for(const n of t.fe)t.ge&&t.ge.isFoundDocument()?this.Ge(n,t.ge):this.ze(n,t.key,t.ge);for(const n of t.removedTargetIds)this.ze(n,t.key,t.ge)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Fe(t.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(t.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(t.resumeToken));break;default:Q()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(t){var n,r;const i=t.targetId,o=t.pe.count,s=this.Xe(i);if(s){const a=s.target;if(gf(a))if(o===0){const l=new H(a.path);this.ze(i,l,yt.newNoDocument(l,Z.min()))}else Ce(o===1);else{const l=this.et(i);if(l!==o){const u=this.tt(t,l);if(u.status!==0){this.Ye(i);const c=u.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,c)}(n=Em.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,h,f,y){var v,w,m,g,E,p;const T={localCacheCount:f,existenceFilterCount:y.count},C=y.unchangedNames;return C&&(T.bloomFilter={applied:d===0,hashCount:(v=C==null?void 0:C.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(g=(m=(w=C==null?void 0:C.bits)===null||w===void 0?void 0:w.bitmap)===null||m===void 0?void 0:m.length)!==null&&g!==void 0?g:0,padding:(p=(E=C==null?void 0:C.bits)===null||E===void 0?void 0:E.padding)!==null&&p!==void 0?p:0},h&&(T.bloomFilter.mightContain=h)),T}(u.status,(r=u.nt)!==null&&r!==void 0?r:null,l,t.pe))}}}}tt(t,n){const{unchangedNames:r,count:i}=t.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=mi(o).toUint8Array()}catch(d){if(d instanceof ew)return Io("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw d}try{u=new wm(l,s,a)}catch(d){return Io(d instanceof ys?"BloomFilter error: ":"Applying bloom filter failed: ",d),{status:1}}const c=d=>{const h=this.qe.rt();return u.mightContain(`projects/${h.projectId}/databases/${h.database}/documents/${d}`)};return u.de===0?{status:1}:{status:i===n-this.it(t.targetId,c)?0:2,nt:c}}it(t,n){const r=this.qe.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{n(o.path.canonicalString())||(this.ze(t,o,null),i++)}),i}st(t){const n=new Map;this.Qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&gf(a.target)){const l=new H(a.target.path);this.Ke.get(l)!==null||this.ot(s,l)||this.ze(s,l,yt.newNoDocument(l,t))}o.Ce&&(n.set(s,o.Me()),o.xe())}});let r=oe();this.$e.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Ke.forEach((o,s)=>s.setReadTime(t));const i=new Ac(t,n,this.Ue,this.Ke,r);return this.Ke=Jn(),this.$e=mv(),this.Ue=new Me(he),i}Ge(t,n){if(!this.Je(t))return;const r=this.ot(t,n.key)?2:0;this.He(t).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const i=this.He(t);this.ot(t,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(t)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(t){this.Qe.delete(t)}et(t){const n=this.He(t).Me();return this.qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Be(t){this.He(t).Be()}He(t){let n=this.Qe.get(t);return n||(n=new pv,this.Qe.set(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new wt(he),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||U("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.Qe.get(t);return n&&n.ve?null:this.qe.ut(t)}Ye(t){this.Qe.set(t,new pv),this.qe.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ot(t,n){return this.qe.getRemoteKeysForTarget(t).has(n)}}function mv(){return new Me(H.comparator)}function gv(){return new Me(H.comparator)}const MP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),VP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),LP=(()=>({and:"AND",or:"OR"}))();class bP{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ef(e,t){return e.useProto3Json||yc(t)?t:{value:t}}function xu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function FP(e,t){return xu(e,t.toTimestamp())}function xn(e){return Ce(!!e),Z.fromTimestamp(function(n){const r=Or(n);return new Ke(r.seconds,r.nanos)}(e))}function Tm(e,t){return function(r){return new Ae(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function Cw(e){const t=Ae.fromString(e);return Ce(kw(t)),t}function wf(e,t){return Tm(e.databaseId,t.path)}function Ld(e,t){const n=Cw(t);if(n.get(1)!==e.databaseId.projectId)throw new L(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new H(Rw(n))}function Tf(e,t){return Tm(e.databaseId,t)}function $P(e){const t=Cw(e);return t.length===4?Ae.emptyPath():Rw(t)}function If(e){return new Ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rw(e){return Ce(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function yv(e,t,n){return{name:wf(e,t),fields:n.value.mapValue.fields}}function jP(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Q()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ce(c===void 0||typeof c=="string"),It.fromBase64String(c||"")):(Ce(c===void 0||c instanceof Uint8Array),It.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const c=u.code===void 0?R.UNKNOWN:Tw(u.code);return new L(c,u.message||"")}(s);n=new Aw(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ld(e,r.document.name),o=xn(r.document.updateTime),s=r.document.createTime?xn(r.document.createTime):Z.min(),a=new Nt({mapValue:{fields:r.document.fields}}),l=yt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new jl(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ld(e,r.document),o=r.readTime?xn(r.readTime):Z.min(),s=yt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new jl([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ld(e,r.document),o=r.removedTargetIds||[];n=new jl([],o,i,null)}else{if(!("filter"in t))return Q();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new xP(i,o),a=r.targetId;n=new Iw(a,s)}}return n}function UP(e,t){let n;if(t instanceof Fa)n={update:yv(e,t.key,t.value)};else if(t instanceof vm)n={delete:wf(e,t.key)};else if(t instanceof Ur)n={update:yv(e,t.key,t.data),updateMask:YP(t.fieldMask)};else{if(!(t instanceof CP))return Q();n={verify:wf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ru)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ma)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ga)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pu)return{fieldPath:s.field.canonicalString(),increment:a.Te};throw Q()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:FP(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(e,t.precondition)),n}function BP(e,t){return e&&e.length>0?(Ce(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?xn(i.updateTime):xn(o);return s.isEqual(Z.min())&&(s=xn(o)),new IP(s,i.transformResults||[])}(n,t))):[]}function zP(e,t){return{documents:[Tf(e,t.path)]}}function HP(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Tf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Tf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return xw(vn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Vi(d.field),direction:KP(d.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Ef(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function qP(e){let t=$P(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=Pw(d);return h instanceof vn&&iw(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(y){return new ao(Li(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,yc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Cu(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Cu(f,h)}(n.endAt)),dP(t,i,s,o,a,"F",l,u)}function WP(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Pw(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Li(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Li(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Li(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Li(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(e):e.fieldFilter!==void 0?function(n){return We.create(Li(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(r=>Pw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(e):Q()}function KP(e){return MP[e]}function GP(e){return VP[e]}function QP(e){return LP[e]}function Vi(e){return{fieldPath:e.canonicalString()}}function Li(e){return vt.fromServerFormat(e.fieldPath)}function xw(e){return e instanceof We?function(n){if(n.op==="=="){if(rv(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NAN"}};if(nv(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rv(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NAN"}};if(nv(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vi(n.field),op:GP(n.op),value:n.value}}}(e):e instanceof vn?function(n){const r=n.getFilters().map(i=>xw(i));return r.length===1?r[0]:{compositeFilter:{op:QP(n.op),filters:r}}}(e):Q()}function YP(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function kw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t,n,r,i,o=Z.min(),s=Z.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(t){this.ct=t}}function JP(e){const t=qP({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?vf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.sn=new ex}addToCollectionParentIndex(t,n){return this.sn.add(n),N.resolve()}getCollectionParents(t,n){return N.resolve(this.sn.getEntries(n))}addFieldIndex(t,n){return N.resolve()}deleteFieldIndex(t,n){return N.resolve()}getDocumentsMatchingTarget(t,n){return N.resolve(null)}getIndexType(t,n){return N.resolve(0)}getFieldIndexes(t,n){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,n){return N.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,n){return N.resolve(Nr.min())}updateCollectionGroup(t,n,r){return N.resolve()}updateIndexEntries(t,n){return N.resolve()}}class ex{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new wt(Ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new wt(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t){this.Mn=t}next(){return this.Mn+=2,this.Mn}static xn(){return new Ro(0)}static On(){return new Ro(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.changes=new $o(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,yt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ms(r.mutation,i,Ut.empty(),Ke.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,oe()).next(()=>r))}getLocalViewOfDocuments(t,n,r=oe()){const i=ni();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=gs();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=ni();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,oe()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=Jn();const s=Os(),a=function(){return Os()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ur)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Ms(c.mutation,u,c.mutation.getFieldMask(),Ke.now())):s.set(u.key,Ut.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new nx(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Os();let i=new Me((s,a)=>s-a),o=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ut.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||oe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=fw();c.forEach(h=>{if(!o.has(h)){const f=Ew(n.get(h),r.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):lw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):N.resolve(ni());let a=-1,l=o;return s.next(u=>N.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?N.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,oe())).next(c=>({batchId:a,changes:hw(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new H(n)).next(r=>{let i=gs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let o=gs();return this.indexManager.getCollectionParents(t,i).next(s=>N.forEach(s,a=>{const l=function(c,d){return new Fo(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,d)=>{o=o.insert(c,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,yt.newInvalidDocument(u)))});let s=gs();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Ms(u.mutation,l,Ut.empty(),Ke.now()),wc(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t){this.serializer=t,this.ar=new Map,this.ur=new Map}getBundleMetadata(t,n){return N.resolve(this.ar.get(n))}saveBundleMetadata(t,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}}(n)),N.resolve()}getNamedQuery(t,n){return N.resolve(this.ur.get(n))}saveNamedQuery(t,n){return this.ur.set(n.name,function(i){return{name:i.name,query:JP(i.bundledQuery),readTime:xn(i.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.overlays=new Me(H.comparator),this.cr=new Map}getOverlay(t,n){return N.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ni();return N.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.ht(t,n,o)}),N.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.cr.delete(r)),N.resolve()}getOverlaysForCollection(t,n,r){const i=ni(),o=n.length+1,s=new H(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new Me((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ni(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ni(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return N.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new PP(n,r));let o=this.cr.get(n);o===void 0&&(o=oe(),this.cr.set(n,o)),this.cr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.lr=new wt(et.hr),this.Pr=new wt(et.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(t,n){const r=new et(t,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Er(new et(t,n))}dr(t,n){t.forEach(r=>this.removeReference(r,n))}Ar(t){const n=new H(new Ae([])),r=new et(n,t),i=new et(n,t+1),o=[];return this.Pr.forEachInRange([r,i],s=>{this.Er(s),o.push(s.key)}),o}Rr(){this.lr.forEach(t=>this.Er(t))}Er(t){this.lr=this.lr.delete(t),this.Pr=this.Pr.delete(t)}Vr(t){const n=new H(new Ae([])),r=new et(n,t),i=new et(n,t+1);let o=oe();return this.Pr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new et(t,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class et{constructor(t,n){this.key=t,this.mr=n}static hr(t,n){return H.comparator(t.key,n.key)||he(t.mr,n.mr)}static Ir(t,n){return he(t.mr,n.mr)||H.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new wt(et.hr)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new RP(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.pr=this.pr.add(new et(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(t,n){return N.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.wr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),o=[];return this.pr.forEachInRange([r,i],s=>{const a=this.yr(s.mr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new wt(he);return n.forEach(i=>{const o=new et(i,0),s=new et(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([o,s],a=>{r=r.add(a.mr)})}),N.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;H.isDocumentKey(o)||(o=o.child(""));const s=new et(new H(o),0);let a=new wt(he);return this.pr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.mr)),!0)},s),N.resolve(this.Sr(a))}Sr(t){const n=[];return t.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Ce(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return N.forEach(n.mutations,i=>{const o=new et(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.pr=r})}Cn(t){}containsKey(t,n){const r=new et(n,0),i=this.pr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}br(t,n){return this.wr(t)}wr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}yr(t){const n=this.wr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(t){this.Dr=t,this.docs=function(){return new Me(H.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(t,n){let r=Jn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():yt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Jn();const s=n.path,a=new H(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||GR(KR(c),r)<=0||(i.has(c.key)||wc(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(t,n,r,i){Q()}vr(t,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new lx(this)}getSize(t){return N.resolve(this.size)}}class lx extends tx{constructor(t){super(),this.sr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(t,i)):this.sr.removeEntry(r)}),N.waitFor(n)}getFromCache(t,n){return this.sr.getEntry(t,n)}getAllFromCache(t,n){return this.sr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t){this.persistence=t,this.Cr=new $o(n=>mm(n),gm),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Im,this.targetCount=0,this.Or=Ro.xn()}forEachTarget(t,n){return this.Cr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Fr)}allocateTargetId(t){return this.highestTargetId=this.Or.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),N.resolve()}Ln(t){this.Cr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Or=new Ro(n),this.highestTargetId=n),t.sequenceNumber>this.Fr&&(this.Fr=t.sequenceNumber)}addTargetData(t,n){return this.Ln(n),this.targetCount+=1,N.resolve()}updateTargetData(t,n){return this.Ln(n),N.resolve()}removeTargetData(t,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Cr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,n){const r=this.Cr.get(n)||null;return N.resolve(r)}addMatchingKeys(t,n,r){return this.Mr.Tr(n,r),N.resolve()}removeMatchingKeys(t,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Mr.Ar(n),N.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Mr.Vr(n);return N.resolve(r)}containsKey(t,n){return N.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t,n){this.Nr={},this.overlays={},this.Br=new dm(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new ux(this),this.indexManager=new ZP,this.remoteDocumentCache=function(i){return new ax(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new XP(n),this.Qr=new ix(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new ox,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Nr[t.toKey()];return r||(r=new sx(n,this.referenceDelegate),this.Nr[t.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(t,n,r){U("MemoryPersistence","Starting transaction:",t);const i=new dx(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(o=>this.referenceDelegate.$r(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ur(t,n){return N.or(Object.values(this.Nr).map(r=>()=>r.containsKey(t,n)))}}class dx extends YR{constructor(t){super(),this.currentSequenceNumber=t}}class Am{constructor(t){this.persistence=t,this.Wr=new Im,this.Gr=null}static zr(t){return new Am(t)}get jr(){if(this.Gr)return this.Gr;throw Q()}addReference(t,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),N.resolve()}removeReference(t,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(t,n){return this.jr.add(n.toString()),N.resolve()}removeTarget(t,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.jr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Kr(){this.Gr=new Set}$r(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.jr,r=>{const i=H.fromPath(r);return this.Hr(t,i).next(o=>{o||n.removeEntry(i,Z.min())})}).next(()=>(this.Gr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hr(t,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(t){return 0}Hr(t,n){return N.or([()=>N.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ur(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Li=r,this.ki=i}static qi(t,n){let r=oe(),i=oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Sm(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.Qi=!1}initialize(t,n){this.Ki=t,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(t,n,r,i){return this.$i(t,n).next(o=>o||this.Ui(t,n,i,r)).next(o=>o||this.Wi(t,n))}$i(t,n){if(av(n))return N.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vf(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=oe(...o);return this.Ki.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Gi(n,a);return this.zi(n,u,s,l.readTime)?this.$i(t,vf(n,null,"F")):this.ji(t,u,n,l)}))})))}Ui(t,n,r,i){return av(n)||i.isEqual(Z.min())?this.Wi(t,n):this.Ki.getDocuments(t,r).next(o=>{const s=this.Gi(n,o);return this.zi(n,s,r,i)?this.Wi(t,n):(Xy()<=fe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_f(n)),this.ji(t,s,n,WR(i,-1)))})}Gi(t,n){let r=new wt(cw(t));return n.forEach((i,o)=>{wc(t,o)&&(r=r.add(o))}),r}zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Wi(t,n){return Xy()<=fe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",_f(n)),this.Ki.getDocumentsMatchingQuery(t,n,Nr.min())}ji(t,n,r,i){return this.Ki.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,n,r,i){this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Me(he),this.Yi=new $o(o=>mm(o),gm),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}es(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rx(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function px(e,t,n,r){return new fx(e,t,n,r)}async function Dw(e,t){const n=ne(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.es(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=oe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ts:u,removedBatchIds:s,addedBatchIds:a}))})})}function mx(e,t){const n=ne(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=N.resolve();return h.forEach(y=>{f=f.next(()=>c.getEntry(l,y)).next(v=>{const w=u.docVersions.get(y);Ce(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Nw(e){const t=ne(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.kr.getLastRemoteSnapshotVersion(n))}function gx(e,t){const n=ne(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.kr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.kr.addMatchingKeys(o,c.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?f=f.withResumeToken(It.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(v,w,m){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.kr.updateTargetData(o,f))});let l=Jn(),u=oe();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(yx(o,s,t.documentUpdates).next(c=>{l=c.ns,u=c.rs})),!r.isEqual(Z.min())){const c=n.kr.getLastRemoteSnapshotVersion(o).next(d=>n.kr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=i,o))}function yx(e,t,n){let r=oe(),i=oe();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=Jn();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ns:s,rs:i}})}function vx(e,t){const n=ne(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function _x(e,t){const n=ne(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,t).next(o=>o?(i=o,N.resolve(i)):n.kr.allocateTargetId(r).next(s=>(i=new hr(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(t,r.targetId)),r})}async function Af(e,t,n){const r=ne(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ba(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function vv(e,t,n){const r=ne(e);let i=Z.min(),o=oe();return r.persistence.runTransaction("Execute query","readonly",s=>function(l,u,c){const d=ne(l),h=d.Yi.get(c);return h!==void 0?N.resolve(d.Ji.get(h)):d.kr.getTargetData(u,c)}(r,s,Xn(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,t,n?i:Z.min(),n?o:oe())).next(a=>(Ex(r,hP(t),a),{documents:a,ss:o})))}function Ex(e,t,n){let r=e.Zi.get(t)||Z.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.Zi.set(t,r)}class _v{constructor(){this.activeTargetIds=vP()}hs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ps(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ls(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wx{constructor(){this.Hs=new _v,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Hs.hs(t),this.Js[t]||"not-current"}updateQueryState(t,n,r){this.Js[t]=n}removeLocalQueryTarget(t){this.Hs.Ps(t)}isLocalQueryTarget(t){return this.Hs.activeTargetIds.has(t)}clearQueryState(t){delete this.Js[t]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(t){return this.Hs.activeTargetIds.has(t)}start(){return this.Hs=new _v,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{Ys(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(t){this.ro.push(t)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ro)t(0)}no(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ro)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l=null;function bd(){return _l===null?_l=function(){return 268435456+Math.round(2147483648*Math.random())}():_l++,"0x"+_l.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t){this.so=t.so,this.oo=t.oo}_o(t){this.ao=t}uo(t){this.co=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.so(t)}ho(){this.ao()}Po(t){this.co(t)}Io(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class Sx extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${i}/databases/${o}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Ro(){return!1}Vo(n,r,i,o,s){const a=bd(),l=this.mo(n,r);U("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(u,o,s),this.po(n,l,u,i).then(c=>(U("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Io("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}yo(n,r,i,o,s,a){return this.Vo(n,r,i,o,s)}fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}mo(n,r){const i=Ix[n];return`${this.To}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}po(t,n,r,i){const o=bd();return new Promise((s,a)=>{const l=new VR;l.setWithCredentials(!0),l.listenOnce(NR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vd.NO_ERROR:const c=l.getResponseJson();U(pt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),s(c);break;case Vd.TIMEOUT:U(pt,`RPC '${t}' ${o} timed out`),a(new L(R.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const d=l.getStatus();if(U(pt,`RPC '${t}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const y=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(m)>=0?m:R.UNKNOWN}(f.status);a(new L(y,f.message))}else a(new L(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(R.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{U(pt,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);U(pt,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(t,n,r){const i=bd(),o=[this.To,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=kR(),a=DR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new MR({})),this.fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");U(pt,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,f=!1;const y=new Ax({so:w=>{f?U(pt,`Not sending because RPC '${t}' stream ${i} is closed:`,w):(h||(U(pt,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),U(pt,`RPC '${t}' stream ${i} sending:`,w),d.send(w))},oo:()=>d.close()}),v=(w,m,g)=>{w.listen(m,E=>{try{g(E)}catch(p){setTimeout(()=>{throw p},0)}})};return v(d,ml.EventType.OPEN,()=>{f||U(pt,`RPC '${t}' stream ${i} transport opened.`)}),v(d,ml.EventType.CLOSE,()=>{f||(f=!0,U(pt,`RPC '${t}' stream ${i} transport closed`),y.Po())}),v(d,ml.EventType.ERROR,w=>{f||(f=!0,Io(pt,`RPC '${t}' stream ${i} transport errored:`,w),y.Po(new L(R.UNAVAILABLE,"The operation could not be completed")))}),v(d,ml.EventType.MESSAGE,w=>{var m;if(!f){const g=w.data[0];Ce(!!g);const E=g,p=E.error||((m=E[0])===null||m===void 0?void 0:m.error);if(p){U(pt,`RPC '${t}' stream ${i} received error:`,p);const T=p.status;let C=function(j){const F=Be[j];if(F!==void 0)return Tw(F)}(T),P=p.message;C===void 0&&(C=R.INTERNAL,P="Unknown error status: "+T+" with message "+p.message),f=!0,y.Po(new L(C,P)),d.close()}else U(pt,`RPC '${t}' stream ${i} received:`,g),y.Io(g)}}),v(a,OR.STAT_EVENT,w=>{w.stat===Qy.PROXY?U(pt,`RPC '${t}' stream ${i} detected buffering proxy`):w.stat===Qy.NOPROXY&&U(pt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.ho()},0),y}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(e){return new bP(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,n,r=1e3,i=1.5,o=6e4){this.ii=t,this.timerId=n,this.So=r,this.bo=i,this.Do=o,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(t){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),t())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,n,r,i,o,s,a,l){this.ii=t,this.Bo=r,this.Lo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new Ow(t,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(t){this.Jo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(t,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,t!==4?this.Ko.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Yn(n.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.ko===n&&this.e_(r,i)},r=>{t(()=>{const i=new L(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(i)})})}e_(t,n){const r=this.Xo(this.ko);this.stream=this.n_(t,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.t_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(t){return U("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.ko===t?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cx extends Mw{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}n_(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Ko.reset();const n=jP(this.serializer,t),r=function(o){if(!("targetChange"in o))return Z.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?xn(s.readTime):Z.min()}(t);return this.listener.r_(n,r)}i_(t){const n={};n.database=If(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=gf(l)?{documents:zP(o,l)}:{query:HP(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Sw(o,s.resumeToken);const u=Ef(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Z.min())>0){a.readTime=xu(o,s.snapshotVersion.toTimestamp());const u=Ef(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=WP(this.serializer,t);r&&(n.labels=r),this.Ho(n)}s_(t){const n={};n.database=If(this.serializer),n.removeTarget=t,this.Ho(n)}}class Rx extends Mw{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(Ce(!!t.streamToken),this.lastStreamToken=t.streamToken,this.o_){this.Ko.reset();const n=BP(t.writeResults,t.commitTime),r=xn(t.commitTime);return this.listener.u_(r,n)}return Ce(!t.writeResults||t.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const t={};t.database=If(this.serializer),this.Ho(t)}a_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>UP(this.serializer,r))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.h_=!1}P_(){if(this.h_)throw new L(R.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(t,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Vo(t,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(R.UNKNOWN,i.toString())})}yo(t,n,r,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.yo(t,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(R.UNKNOWN,o.toString())})}terminate(){this.h_=!0}}class xx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(t){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.R_("Offline")))}set(t){this.f_(),this.T_=0,t==="Online"&&(this.d_=!1),this.R_(t)}R_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}V_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(Yn(n),this.d_=!1):U("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=o,this.S_.Ys(s=>{r.enqueueAndForget(async()=>{Ci(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ne(l);u.y_.add(4),await ja(u),u.b_.set("Unknown"),u.y_.delete(4),await Cc(u)}(this))})}),this.b_=new xx(r,i)}}async function Cc(e){if(Ci(e))for(const t of e.w_)await t(!0)}async function ja(e){for(const t of e.w_)await t(!1)}function Vw(e,t){const n=ne(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),Pm(n)?Rm(n):jo(n).Uo()&&Cm(n,t))}function Lw(e,t){const n=ne(e),r=jo(n);n.p_.delete(t),r.Uo()&&bw(n,t),n.p_.size===0&&(r.Uo()?r.zo():Ci(n)&&n.b_.set("Unknown"))}function Cm(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}jo(e).i_(t)}function bw(e,t){e.D_.Be(t),jo(e).s_(t)}function Rm(e){e.D_=new OP({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.p_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),jo(e).start(),e.b_.A_()}function Pm(e){return Ci(e)&&!jo(e).$o()&&e.p_.size>0}function Ci(e){return ne(e).y_.size===0}function Fw(e){e.D_=void 0}async function Dx(e){e.p_.forEach((t,n)=>{Cm(e,t)})}async function Nx(e,t){Fw(e),Pm(e)?(e.b_.m_(t),Rm(e)):e.b_.set("Unknown")}async function Ox(e,t,n){if(e.b_.set("Online"),t instanceof Aw&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.p_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.p_.delete(a),i.D_.removeTarget(a))}(e,t)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ku(e,r)}else if(t instanceof jl?e.D_.We(t):t instanceof Iw?e.D_.Ze(t):e.D_.je(t),!n.isEqual(Z.min()))try{const r=await Nw(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.D_.st(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.p_.get(u);c&&o.p_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.p_.get(l);if(!c)return;o.p_.set(l,c.withResumeToken(It.EMPTY_BYTE_STRING,c.snapshotVersion)),bw(o,l);const d=new hr(c.target,l,u,c.sequenceNumber);Cm(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await ku(e,r)}}async function ku(e,t,n){if(!ba(t))throw t;e.y_.add(1),await ja(e),e.b_.set("Offline"),n||(n=()=>Nw(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),e.y_.delete(1),await Cc(e)})}function $w(e,t){return t().catch(n=>ku(e,n,t))}async function Rc(e){const t=ne(e),n=Mr(t);let r=t.g_.length>0?t.g_[t.g_.length-1].batchId:-1;for(;Mx(t);)try{const i=await vx(t.localStore,r);if(i===null){t.g_.length===0&&n.zo();break}r=i.batchId,Vx(t,i)}catch(i){await ku(t,i)}jw(t)&&Uw(t)}function Mx(e){return Ci(e)&&e.g_.length<10}function Vx(e,t){e.g_.push(t);const n=Mr(e);n.Uo()&&n.__&&n.a_(t.mutations)}function jw(e){return Ci(e)&&!Mr(e).$o()&&e.g_.length>0}function Uw(e){Mr(e).start()}async function Lx(e){Mr(e).l_()}async function bx(e){const t=Mr(e);for(const n of e.g_)t.a_(n.mutations)}async function Fx(e,t,n){const r=e.g_.shift(),i=_m.from(r,t,n);await $w(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Rc(e)}async function $x(e,t){t&&Mr(e).__&&await async function(r,i){if(function(s){return kP(s)&&s!==R.ABORTED}(i.code)){const o=r.g_.shift();Mr(r).Go(),await $w(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Rc(r)}}(e,t),jw(e)&&Uw(e)}async function wv(e,t){const n=ne(e);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=Ci(n);n.y_.add(3),await ja(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.y_.delete(3),await Cc(n)}async function jx(e,t){const n=ne(e);t?(n.y_.delete(2),await Cc(n)):t||(n.y_.add(2),await ja(n),n.b_.set("Unknown"))}function jo(e){return e.v_||(e.v_=function(n,r,i){const o=ne(n);return o.P_(),new Cx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{_o:Dx.bind(null,e),uo:Nx.bind(null,e),r_:Ox.bind(null,e)}),e.w_.push(async t=>{t?(e.v_.Go(),Pm(e)?Rm(e):e.b_.set("Unknown")):(await e.v_.stop(),Fw(e))})),e.v_}function Mr(e){return e.C_||(e.C_=function(n,r,i){const o=ne(n);return o.P_(),new Rx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{_o:Lx.bind(null,e),uo:$x.bind(null,e),c_:bx.bind(null,e),u_:Fx.bind(null,e)}),e.w_.push(async t=>{t?(e.C_.Go(),await Rc(e)):(await e.C_.stop(),e.g_.length>0&&(U("RemoteStore",`Stopping write stream with ${e.g_.length} pending writes`),e.g_=[]))})),e.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new xm(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(R.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(e,t){if(Yn("AsyncQueue",`${t}: ${e}`),ba(e))return new L(R.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.comparator=t?(n,r)=>t(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=gs(),this.sortedSet=new Me(this.comparator)}static emptySet(t){return new uo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof uo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new uo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.F_=new Me(H.comparator)}track(t){const n=t.doc.key,r=this.F_.get(n);r?t.type!==0&&r.type===3?this.F_=this.F_.insert(n,t):t.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.F_=this.F_.remove(n):t.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):Q():this.F_=this.F_.insert(n,t)}M_(){const t=[];return this.F_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Po{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Po(t,n,uo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ec(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.x_=void 0,this.listeners=[]}}class Bx{constructor(){this.queries=new $o(t=>uw(t),Ec),this.onlineState="Unknown",this.O_=new Set}}async function Bw(e,t){const n=ne(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Ux),i)try{o.x_=await n.onListen(r)}catch(s){const a=km(s,`Initialization of query '${_f(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,o),o.listeners.push(t),t.N_(n.onlineState),o.x_&&t.B_(o.x_)&&Dm(n)}async function zw(e,t){const n=ne(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function zx(e,t){const n=ne(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.B_(i)&&(r=!0);s.x_=i}}r&&Dm(n)}function Hx(e,t,n){const r=ne(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function Dm(e){e.O_.forEach(t=>{t.next()})}class Hw{constructor(t,n,r){this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Po(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.k_?this.Q_(t)&&(this.L_.next(t),n=!0):this.K_(t,this.onlineState)&&(this.U_(t),n=!0),this.q_=t,n}onError(t){this.L_.error(t)}N_(t){this.onlineState=t;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,t)&&(this.U_(this.q_),n=!0),n}K_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Q_(t){if(t.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(t){t=Po.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.k_=!0,this.L_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.key=t}}class Ww{constructor(t){this.key=t}}class qx{constructor(t,n){this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=oe(),this.mutatedKeys=oe(),this.na=cw(t),this.ra=new uo(this.na)}get ia(){return this.X_}sa(t,n){const r=n?n.oa:new Tv,i=n?n.ra:this.ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),f=wc(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;h&&f?h.data.isEqual(f.data)?y!==v&&(r.track({type:3,doc:f}),w=!0):this._a(h,f)||(r.track({type:2,doc:f}),w=!0,(l&&this.na(f,l)>0||u&&this.na(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),w=!0):h&&!f&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(f?(s=s.add(f),o=v?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ra:s,oa:r,zi:a,mutatedKeys:o}}_a(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ra;this.ra=t.ra,this.mutatedKeys=t.mutatedKeys;const o=t.oa.M_();o.sort((u,c)=>function(h,f){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return y(h)-y(f)}(u.type,c.type)||this.na(u.doc,c.doc)),this.aa(r);const s=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,o.length!==0||l?{snapshot:new Po(this.query,t.ra,i,o,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:s}:{ca:s}}N_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new Tv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(t){return!this.X_.has(t)&&!!this.ra.has(t)&&!this.ra.get(t).hasLocalMutations}aa(t){t&&(t.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=t.current)}ua(){if(!this.current)return[];const t=this.ta;this.ta=oe(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return t.forEach(r=>{this.ta.has(r)||n.push(new Ww(r))}),this.ta.forEach(r=>{t.has(r)||n.push(new qw(r))}),n}ha(t){this.X_=t.ss,this.ta=oe();const n=this.sa(t.documents);return this.applyChanges(n,!0)}Pa(){return Po.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class Wx{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Kx{constructor(t){this.key=t,this.Ia=!1}}class Gx{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ta={},this.Ea=new $o(a=>uw(a),Ec),this.da=new Map,this.Aa=new Set,this.Ra=new Me(H.comparator),this.Va=new Map,this.ma=new Im,this.fa={},this.ga=new Map,this.pa=Ro.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function Qx(e,t){const n=ok(e);let r,i;const o=n.Ea.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Pa();else{const s=await _x(n.localStore,Xn(t)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await Yx(n,t,r,a==="current",s.resumeToken),n.isPrimaryClient&&Vw(n.remoteStore,s)}return i}async function Yx(e,t,n,r,i){e.wa=(d,h,f)=>async function(v,w,m,g){let E=w.view.sa(m);E.zi&&(E=await vv(v.localStore,w.query,!1).then(({documents:C})=>w.view.sa(C,E)));const p=g&&g.targetChanges.get(w.targetId),T=w.view.applyChanges(E,v.isPrimaryClient,p);return Av(v,w.targetId,T.ca),T.snapshot}(e,d,h,f);const o=await vv(e.localStore,t,!0),s=new qx(t,o.ss),a=s.sa(o.documents),l=$a.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);Av(e,n,u.ca);const c=new Wx(t,n,s);return e.Ea.set(t,c),e.da.has(n)?e.da.get(n).push(t):e.da.set(n,[t]),u.snapshot}async function Xx(e,t){const n=ne(e),r=n.Ea.get(t),i=n.da.get(r.targetId);if(i.length>1)return n.da.set(r.targetId,i.filter(o=>!Ec(o,t))),void n.Ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Af(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Lw(n.remoteStore,r.targetId),Sf(n,r.targetId)}).catch(La)):(Sf(n,r.targetId),await Af(n.localStore,r.targetId,!0))}async function Jx(e,t,n){const r=sk(e);try{const i=await function(s,a){const l=ne(s),u=Ke.now(),c=a.reduce((f,y)=>f.add(y.key),oe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let y=Jn(),v=oe();return l.Xi.getEntries(f,c).next(w=>{y=w,y.forEach((m,g)=>{g.isValidDocument()||(v=v.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,y)).next(w=>{d=w;const m=[];for(const g of a){const E=SP(g,d.get(g.key).overlayedDocument);E!=null&&m.push(new Ur(g.key,E,tw(E.value.mapValue),mn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(w=>{h=w;const m=w.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(f,w.batchId,m)})}).then(()=>({batchId:h.batchId,changes:hw(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.fa[s.currentUser.toKey()];u||(u=new Me(he)),u=u.insert(a,l),s.fa[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ua(r,i.changes),await Rc(r.remoteStore)}catch(i){const o=km(i,"Failed to persist write");n.reject(o)}}async function Kw(e,t){const n=ne(e);try{const r=await gx(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Va.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ia=!0:i.modifiedDocuments.size>0?Ce(s.Ia):i.removedDocuments.size>0&&(Ce(s.Ia),s.Ia=!1))}),await Ua(n,r,t)}catch(r){await La(r)}}function Iv(e,t,n){const r=ne(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ea.forEach((o,s)=>{const a=s.view.N_(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ne(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.N_(a)&&(u=!0)}),u&&Dm(l)}(r.eventManager,t),i.length&&r.Ta.r_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zx(e,t,n){const r=ne(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Va.get(t),o=i&&i.key;if(o){let s=new Me(H.comparator);s=s.insert(o,yt.newNoDocument(o,Z.min()));const a=oe().add(o),l=new Ac(Z.min(),new Map,new Me(he),s,a);await Kw(r,l),r.Ra=r.Ra.remove(o),r.Va.delete(t),Nm(r)}else await Af(r.localStore,t,!1).then(()=>Sf(r,t,n)).catch(La)}async function ek(e,t){const n=ne(e),r=t.batch.batchId;try{const i=await mx(n.localStore,t);Qw(n,r,null),Gw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ua(n,i)}catch(i){await La(i)}}async function tk(e,t,n){const r=ne(e);try{const i=await function(s,a){const l=ne(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ce(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);Qw(r,t,n),Gw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ua(r,i)}catch(i){await La(i)}}function Gw(e,t){(e.ga.get(t)||[]).forEach(n=>{n.resolve()}),e.ga.delete(t)}function Qw(e,t,n){const r=ne(e);let i=r.fa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.fa[r.currentUser.toKey()]=i}}function Sf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.da.get(t))e.Ea.delete(r),n&&e.Ta.Sa(r,n);e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach(r=>{e.ma.containsKey(r)||Yw(e,r)})}function Yw(e,t){e.Aa.delete(t.path.canonicalString());const n=e.Ra.get(t);n!==null&&(Lw(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),Nm(e))}function Av(e,t,n){for(const r of n)r instanceof qw?(e.ma.addReference(r.key,t),nk(e,r)):r instanceof Ww?(U("SyncEngine","Document no longer in limbo: "+r.key),e.ma.removeReference(r.key,t),e.ma.containsKey(r.key)||Yw(e,r.key)):Q()}function nk(e,t){const n=t.key,r=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(r)||(U("SyncEngine","New document in limbo: "+n),e.Aa.add(r),Nm(e))}function Nm(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){const t=e.Aa.values().next().value;e.Aa.delete(t);const n=new H(Ae.fromString(t)),r=e.pa.next();e.Va.set(r,new Kx(n)),e.Ra=e.Ra.insert(n,r),Vw(e.remoteStore,new hr(Xn(vc(n.path)),r,"TargetPurposeLimboResolution",dm.ae))}}async function Ua(e,t,n){const r=ne(e),i=[],o=[],s=[];r.Ea.isEmpty()||(r.Ea.forEach((a,l)=>{s.push(r.wa(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Sm.qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Ta.r_(i),await async function(l,u){const c=ne(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>N.forEach(u,h=>N.forEach(h.Li,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>N.forEach(h.ki,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ba(d))throw d;U("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.Ji.get(h),y=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(y);c.Ji=c.Ji.insert(h,v)}}}(r.localStore,o))}async function rk(e,t){const n=ne(e);if(!n.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());const r=await Dw(n.localStore,t);n.currentUser=t,function(o,s){o.ga.forEach(a=>{a.forEach(l=>{l.reject(new L(R.CANCELLED,s))})}),o.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ua(n,r.ts)}}function ik(e,t){const n=ne(e),r=n.Va.get(t);if(r&&r.Ia)return oe().add(r.key);{let i=oe();const o=n.da.get(t);if(!o)return i;for(const s of o){const a=n.Ea.get(s);i=i.unionWith(a.view.ia)}return i}}function ok(e){const t=ne(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ik.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zx.bind(null,t),t.Ta.r_=zx.bind(null,t.eventManager),t.Ta.Sa=Hx.bind(null,t.eventManager),t}function sk(e){const t=ne(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ek.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tk.bind(null,t),t}class Sv{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Sc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return px(this.persistence,new hx,t.initialUser,this.serializer)}createPersistence(t){return new cx(Am.zr,this.serializer)}createSharedClientState(t){return new wx}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ak{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Iv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rk.bind(null,this.syncEngine),await jx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Bx}()}createDatastore(t){const n=Sc(t.databaseInfo.databaseId),r=function(o){return new Sx(o)}(t.databaseInfo);return function(o,s,a,l){return new Px(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new kx(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Iv(this.syncEngine,n,0),function(){return Ev.v()?new Ev:new Tx}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,c){const d=new Gx(i,o,s,a,l,u);return c&&(d.ya=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ne(n);U("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await ja(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.va(this.observer.next,t)}error(t){this.observer.error?this.va(this.observer.error,t):Yn("Uncaught Error in snapshot listener:",t.toString())}Ca(){this.muted=!0}va(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=JE.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{U("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=km(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function $d(e,t){e.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Dw(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Cv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ck(e);U("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>wv(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>wv(t.remoteStore,o)),e._onlineComponents=t}function uk(e){return e.name==="FirebaseError"?e.code===R.FAILED_PRECONDITION||e.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function ck(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await $d(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!uk(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await $d(e,new Sv)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await $d(e,new Sv);return e._offlineComponents}async function Jw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await Cv(e,e._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await Cv(e,new ak))),e._onlineComponents}function dk(e){return Jw(e).then(t=>t.syncEngine)}async function Cf(e){const t=await Jw(e),n=t.eventManager;return n.onListen=Qx.bind(null,t.syncEngine),n.onUnlisten=Xx.bind(null,t.syncEngine),n}function hk(e,t,n={}){const r=new Sr;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Xw({next:h=>{s.enqueueAndForget(()=>zw(o,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new L(R.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new L(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Hw(vc(a.path),c,{includeMetadataChanges:!0,W_:!0});return Bw(o,d)}(await Cf(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e,t,n){if(!n)throw new L(R.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function fk(e,t,n,r){if(t===!0&&r===!0)throw new L(R.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Pv(e){if(!H.isDocumentKey(e))throw new L(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function xv(e){if(H.isDocumentKey(e))throw new L(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Pc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q()}function kn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pc(e);throw new L(R.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new L(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new L(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zw((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xc{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new L(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bR;switch(r.type){case"firstParty":return new UR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Rv.get(n);r&&(U("ComponentProvider","Removing Datastore"),Rv.delete(n),r.terminate())}(this),Promise.resolve()}}function pk(e,t,n,r={}){var i;const o=(e=kn(e,xc))._getSettings(),s=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mt.MOCK_USER;else{a=p2(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new L(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(u)}e._authCredentials=new FR(new XE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ri(this.firestore,t,this._query)}}class Rt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Rt(this.firestore,t,this._key)}}class Cr extends Ri{constructor(t,n,r){super(t,n,vc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Rt(this.firestore,null,new H(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function Dv(e,t,...n){if(e=on(e),eT("collection","path",t),e instanceof xc){const r=Ae.fromString(t,...n);return xv(r),new Cr(e,null,r)}{if(!(e instanceof Rt||e instanceof Cr))throw new L(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ae.fromString(t,...n));return xv(r),new Cr(e.firestore,null,r)}}function Qr(e,t,...n){if(e=on(e),arguments.length===1&&(t=JE.V()),eT("doc","path",t),e instanceof xc){const r=Ae.fromString(t,...n);return Pv(r),new Rt(e,null,new H(r))}{if(!(e instanceof Rt||e instanceof Cr))throw new L(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ae.fromString(t,...n));return Pv(r),new Rt(e.firestore,e instanceof Cr?e.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new Ow(this,"async_queue_retry"),this.Xa=()=>{const n=Fd();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const t=Fd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.eu(),this.tu(t)}enterRestrictedMode(t){if(!this.za){this.za=!0,this.Ya=t||!1;const n=Fd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(t){if(this.eu(),this.za)return new Promise(()=>{});const n=new Sr;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ga.push(t),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(t){if(!ba(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(t){const n=this.Wa.then(()=>(this.Ja=!0,t().catch(r=>{this.Ha=r,this.Ja=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Yn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(t,n,r){this.eu(),this.Za.indexOf(t)>-1&&(n=0);const i=xm.createAndSchedule(this,t,n,r,o=>this.ru(o));return this.ja.push(i),i}eu(){this.Ha&&Q()}verifyOperationInProgress(){}async iu(){let t;do t=this.Wa,await t;while(t!==this.Wa)}su(t){for(const n of this.ja)if(n.timerId===t)return!0;return!1}ou(t){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.iu()})}_u(t){this.Za.push(t)}ru(t){const n=this.ja.indexOf(t);this.ja.splice(n,1)}}function Nv(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(e,["next","error","complete"])}class yi extends xc{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new mk}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||tT(this),this._firestoreClient.terminate()}}function gk(e,t){const n=typeof e=="object"?e:W_(),r=typeof e=="string"?e:t||"(default)",i=Ca(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=h2("firestore");o&&pk(i,...o)}return i}function Om(e){return e._firestoreClient||tT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tT(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,c){return new ZR(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Zw(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new lk(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xo(It.fromBase64String(t))}catch(n){throw new L(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xo(It.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new L(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new L(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new L(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return he(this._lat,t._lat)||he(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=/^__.*__$/;class vk{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ur(t,this.data,this.fieldMask,n,this.fieldTransforms):new Fa(t,this.data,n,this.fieldTransforms)}}class nT{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ur(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function rT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Lm{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.au(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(t){return new Lm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.cu({path:r,hu:!1});return i.Pu(t),i}Iu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.cu({path:r,hu:!1});return i.au(),i}Tu(t){return this.cu({path:void 0,hu:!0})}Eu(t){return Du(t,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let t=0;t<this.path.length;t++)this.Pu(this.path.get(t))}Pu(t){if(t.length===0)throw this.Eu("Document fields must not be empty");if(rT(this.uu)&&yk.test(t))throw this.Eu('Document fields cannot begin and end with "__"')}}class _k{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Sc(t)}Ru(t,n,r,i=!1){return new Lm({uu:t,methodName:n,Au:r,path:vt.emptyPath(),hu:!1,du:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bm(e){const t=e._freezeSettings(),n=Sc(e._databaseId);return new _k(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ek(e,t,n,r,i,o={}){const s=e.Ru(o.merge||o.mergeFields?2:0,t,n,i);Fm("Data must be an object, but it was:",s,r);const a=iT(r,s);let l,u;if(o.merge)l=new Ut(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=Rf(t,d,n);if(!s.contains(h))throw new L(R.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);sT(c,h)||c.push(h)}l=new Ut(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new vk(new Nt(a),l,u)}class Dc extends Mm{_toFieldTransform(t){if(t.uu!==2)throw t.uu===1?t.Eu(`${this._methodName}() can only appear at the top level of your update data`):t.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dc}}function wk(e,t,n,r){const i=e.Ru(1,t,n);Fm("Data must be an object, but it was:",i,r);const o=[],s=Nt.empty();Si(r,(l,u)=>{const c=$m(t,l,n);u=on(u);const d=i.Iu(c);if(u instanceof Dc)o.push(c);else{const h=Ba(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new Ut(o);return new nT(s,a,i.fieldTransforms)}function Tk(e,t,n,r,i,o){const s=e.Ru(1,t,n),a=[Rf(t,r,n)],l=[i];if(o.length%2!=0)throw new L(R.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Rf(t,o[h])),l.push(o[h+1]);const u=[],c=Nt.empty();for(let h=a.length-1;h>=0;--h)if(!sT(u,a[h])){const f=a[h];let y=l[h];y=on(y);const v=s.Iu(f);if(y instanceof Dc)u.push(f);else{const w=Ba(y,v);w!=null&&(u.push(f),c.set(f,w))}}const d=new Ut(u);return new nT(c,d,s.fieldTransforms)}function Ik(e,t,n,r=!1){return Ba(n,e.Ru(r?4:3,t))}function Ba(e,t){if(oT(e=on(e)))return Fm("Unsupported field value:",t,e),iT(e,t);if(e instanceof Mm)return function(r,i){if(!rT(i.uu))throw i.Eu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Eu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&t.uu!==4)throw t.Eu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Ba(a,i.Tu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _P(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ke.fromDate(r);return{timestampValue:xu(i.serializer,o)}}if(r instanceof Ke){const o=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xu(i.serializer,o)}}if(r instanceof Vm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xo)return{bytesValue:Sw(i.serializer,r._byteString)};if(r instanceof Rt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Eu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Tm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Eu(`Unsupported field value: ${Pc(r)}`)}(e,t)}function iT(e,t){const n={};return ZE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Si(e,(r,i)=>{const o=Ba(i,t.lu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function oT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ke||e instanceof Vm||e instanceof xo||e instanceof Rt||e instanceof Mm)}function Fm(e,t,n){if(!oT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Pc(n);throw r==="an object"?t.Eu(e+" a custom object"):t.Eu(e+" "+r)}}function Rf(e,t,n){if((t=on(t))instanceof kc)return t._internalPath;if(typeof t=="string")return $m(e,t);throw Du("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ak=new RegExp("[~\\*/\\[\\]]");function $m(e,t,n){if(t.search(Ak)>=0)throw Du(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new kc(...t.split("."))._internalPath}catch{throw Du(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Du(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new L(R.INVALID_ARGUMENT,a+e+l)}function sT(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Sk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(jm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Sk extends aT{data(){return super.data()}}function jm(e,t){return typeof t=="string"?$m(e,t):t instanceof kc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new L(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class lT extends Um{}function Rk(e,t,...n){let r=[];t instanceof Um&&r.push(t),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof zm).length,a=o.filter(l=>l instanceof Bm).length;if(s>1||s>0&&a>0)throw new L(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Bm extends lT{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Bm(t,n,r)}_apply(t){const n=this._parse(t);return uT(t._query,n),new Ri(t.firestore,t.converter,yf(t._query,n))}_parse(t){const n=bm(t.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new L(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Mv(d,c);const f=[];for(const y of d)f.push(Ov(l,o,y));h={arrayValue:{values:f}}}else h=Ov(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Mv(d,c),h=Ik(a,s,d,c==="in"||c==="not-in");return We.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class zm extends Um{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new zm(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)uT(s,l),s=yf(s,l)}(t._query,n),new Ri(t.firestore,t.converter,yf(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hm extends lT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Hm(t,n)}_apply(t){const n=function(i,o,s){if(i.startAt!==null)throw new L(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new ao(o,s);return function(u,c){if(ym(u)===null){const d=_c(u);d!==null&&cT(u,d,c.field)}}(i,a),a}(t._query,this._field,this._direction);return new Ri(t.firestore,t.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Fo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Pk(e,t="asc"){const n=t,r=jm("orderBy",e);return Hm._create(r,n)}function Ov(e,t,n){if(typeof(n=on(n))=="string"){if(n==="")throw new L(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lw(t)&&n.indexOf("/")!==-1)throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ae.fromString(n));if(!H.isDocumentKey(r))throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tv(e,new H(r))}if(n instanceof Rt)return tv(e,n._key);throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pc(n)}.`)}function Mv(e,t){if(!Array.isArray(e)||e.length===0)throw new L(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function uT(e,t){if(t.isInequality()){const r=_c(e),i=t.field;if(r!==null&&!r.isEqual(i))throw new L(R.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=ym(e);o!==null&&cT(e,i,o)}const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new L(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new L(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function cT(e,t,n){if(!n.isEqual(t))throw new L(R.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class xk{convertValue(t,n="none"){switch(gi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return He(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(mi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Q()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Si(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new Vm(He(t.latitude),He(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=fm(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ha(t));default:return null}}convertTimestamp(t){const n=Or(t);return new Ke(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ae.fromString(t);Ce(kw(r));const i=new fa(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||Yn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class dT extends aT{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(jm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ul extends dT{data(t={}){return super.data(t)}}class Dk{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new vs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Ul(this._firestore,this._userDataWriter,r.key,r,new vs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Ul(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Ul(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Nk(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Nk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(e){e=kn(e,Rt);const t=kn(e.firestore,yi);return hk(Om(t),e._key).then(n=>fT(t,e,n))}class hT extends xk{constructor(t){super(),this.firestore=t}convertBytes(t){return new xo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function ns(e,t,n,...r){e=kn(e,Rt);const i=kn(e.firestore,yi),o=bm(i);let s;return s=typeof(t=on(t))=="string"||t instanceof kc?Tk(o,"updateDoc",e._key,t,n,r):wk(o,"updateDoc",e._key,t),qm(i,[s.toMutation(e._key,mn.exists(!0))])}function Mk(e){return qm(kn(e.firestore,yi),[new vm(e._key,mn.none())])}function Vk(e,t){const n=kn(e.firestore,yi),r=Qr(e),i=kk(e.converter,t);return qm(n,[Ek(bm(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,mn.exists(!1))]).then(()=>r)}function Lk(e,...t){var n,r,i;e=on(e);let o={includeMetadataChanges:!1},s=0;typeof t[s]!="object"||Nv(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Nv(t[s])){const d=t[s];t[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof Rt)u=kn(e.firestore,yi),c=vc(e._key.path),l={next:d=>{t[s]&&t[s](fT(u,e,d))},error:t[s+1],complete:t[s+2]};else{const d=kn(e,Ri);u=kn(d.firestore,yi),c=d._query;const h=new hT(u);l={next:f=>{t[s]&&t[s](new Dk(u,h,d,f))},error:t[s+1],complete:t[s+2]},Ck(e._query)}return function(h,f,y,v){const w=new Xw(v),m=new Hw(f,w,y);return h.asyncQueue.enqueueAndForget(async()=>Bw(await Cf(h),m)),()=>{w.Ca(),h.asyncQueue.enqueueAndForget(async()=>zw(await Cf(h),m))}}(Om(u),c,a,l)}function qm(e,t){return function(r,i){const o=new Sr;return r.asyncQueue.enqueueAndForget(async()=>Jx(await dk(r),i,o)),o.promise}(Om(e),t)}function fT(e,t,n){const r=n.docs.get(t._key),i=new hT(e);return new dT(e,i,t._key,r,new vs(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){bo=i})(EC),Dr(new Gn("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new yi(new $R(r.getProvider("auth-internal")),new zR(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new L(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pn(Yy,"4.1.0",t),Pn(Yy,"4.1.0","esm2017")})();var bk="firebase",Fk="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(bk,Fk,"app");const $k=(e,t)=>t.some(n=>e instanceof n);let Vv,Lv;function jk(){return Vv||(Vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uk(){return Lv||(Lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,Pf=new WeakMap,mT=new WeakMap,jd=new WeakMap,Wm=new WeakMap;function Bk(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Rr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&pT.set(n,e)}).catch(()=>{}),Wm.set(t,e),t}function zk(e){if(Pf.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Pf.set(e,t)}let xf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Pf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||mT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Hk(e){xf=e(xf)}function qk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Ud(this),t,...n);return mT.set(r,t.sort?t.sort():[t]),Rr(r)}:Uk().includes(e)?function(...t){return e.apply(Ud(this),t),Rr(pT.get(this))}:function(...t){return Rr(e.apply(Ud(this),t))}}function Wk(e){return typeof e=="function"?qk(e):(e instanceof IDBTransaction&&zk(e),$k(e,jk())?new Proxy(e,xf):e)}function Rr(e){if(e instanceof IDBRequest)return Bk(e);if(jd.has(e))return jd.get(e);const t=Wk(e);return t!==e&&(jd.set(e,t),Wm.set(t,e)),t}const Ud=e=>Wm.get(e);function Kk(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Rr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Rr(s.result),l.oldVersion,l.newVersion,Rr(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const Gk=["get","getKey","getAll","getAllKeys","count"],Qk=["put","add","delete","clear"],Bd=new Map;function bv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Qk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Gk.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Bd.set(t,o),o}Hk(e=>({...e,get:(t,n,r)=>bv(t,n)||e.get(t,n,r),has:(t,n)=>!!bv(t,n)||e.has(t,n)}));const gT="@firebase/installations",Km="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=1e4,vT=`w:${Km}`,_T="FIS_v2",Yk="https://firebaseinstallations.googleapis.com/v1",Xk=60*60*1e3,Jk="installations",Zk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vi=new tc(Jk,Zk,e4);function ET(e){return e instanceof Fr&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT({projectId:e}){return`${Yk}/projects/${e}/installations`}function TT(e){return{token:e.token,requestStatus:2,expiresIn:n4(e.expiresIn),creationTime:Date.now()}}async function IT(e,t){const r=(await t.json()).error;return vi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function AT({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function t4(e,{refreshToken:t}){const n=AT(e);return n.append("Authorization",r4(t)),n}async function ST(e){const t=await e();return t.status>=500&&t.status<600?e():t}function n4(e){return Number(e.replace("s","000"))}function r4(e){return`${_T} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=wT(e),i=AT(e),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:_T,appId:e.appId,sdkVersion:vT},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await ST(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:TT(u.authToken)}}else throw await IT("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=/^[cdef][\w-]{21}$/,kf="";function a4(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=l4(e);return s4.test(n)?n:kf}catch{return kf}}function l4(e){return o4(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;function PT(e,t){const n=Nc(e);xT(n,t),u4(n,t)}function xT(e,t){const n=RT.get(e);if(n)for(const r of n)r(t)}function u4(e,t){const n=c4();n&&n.postMessage({key:e,fid:t}),d4()}let ri=null;function c4(){return!ri&&"BroadcastChannel"in self&&(ri=new BroadcastChannel("[Firebase] FID Change"),ri.onmessage=e=>{xT(e.data.key,e.data.fid)}),ri}function d4(){RT.size===0&&ri&&(ri.close(),ri=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="firebase-installations-database",f4=1,_i="firebase-installations-store";let zd=null;function Gm(){return zd||(zd=Kk(h4,f4,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(_i)}}})),zd}async function Nu(e,t){const n=Nc(e),i=(await Gm()).transaction(_i,"readwrite"),o=i.objectStore(_i),s=await o.get(n);return await o.put(t,n),await i.done,(!s||s.fid!==t.fid)&&PT(e,t.fid),t}async function kT(e){const t=Nc(e),r=(await Gm()).transaction(_i,"readwrite");await r.objectStore(_i).delete(t),await r.done}async function Oc(e,t){const n=Nc(e),i=(await Gm()).transaction(_i,"readwrite"),o=i.objectStore(_i),s=await o.get(n),a=t(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&PT(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qm(e){let t;const n=await Oc(e.appConfig,r=>{const i=p4(r),o=m4(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===kf?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function p4(e){const t=e||{fid:a4(),registrationStatus:0};return DT(t)}function m4(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(vi.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=g4(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:y4(e)}:{installationEntry:t}}async function g4(e,t){try{const n=await i4(e,t);return Nu(e.appConfig,n)}catch(n){throw ET(n)&&n.customData.serverCode===409?await kT(e.appConfig):await Nu(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function y4(e){let t=await Fv(e.appConfig);for(;t.registrationStatus===1;)await CT(100),t=await Fv(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Qm(e);return r||n}return t}function Fv(e){return Oc(e,t=>{if(!t)throw vi.create("installation-not-found");return DT(t)})}function DT(e){return v4(e)?{fid:e.fid,registrationStatus:0}:e}function v4(e){return e.registrationStatus===1&&e.registrationTime+yT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4({appConfig:e,heartbeatServiceProvider:t},n){const r=E4(e,n),i=t4(e,n),o=t.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:vT,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await ST(()=>fetch(r,a));if(l.ok){const u=await l.json();return TT(u)}else throw await IT("Generate Auth Token",l)}function E4(e,{fid:t}){return`${wT(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(e,t=!1){let n;const r=await Oc(e.appConfig,o=>{if(!NT(o))throw vi.create("not-registered");const s=o.authToken;if(!t&&I4(s))return o;if(s.requestStatus===1)return n=w4(e,t),o;{if(!navigator.onLine)throw vi.create("app-offline");const a=S4(o);return n=T4(e,a),a}});return n?await n:r.authToken}async function w4(e,t){let n=await $v(e.appConfig);for(;n.authToken.requestStatus===1;)await CT(100),n=await $v(e.appConfig);const r=n.authToken;return r.requestStatus===0?Ym(e,t):r}function $v(e){return Oc(e,t=>{if(!NT(t))throw vi.create("not-registered");const n=t.authToken;return C4(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function T4(e,t){try{const n=await _4(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Nu(e.appConfig,r),n}catch(n){if(ET(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await kT(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Nu(e.appConfig,r)}throw n}}function NT(e){return e!==void 0&&e.registrationStatus===2}function I4(e){return e.requestStatus===2&&!A4(e)}function A4(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Xk}function S4(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function C4(e){return e.requestStatus===1&&e.requestTime+yT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(e){const t=e,{installationEntry:n,registrationPromise:r}=await Qm(t);return r?r.catch(console.error):Ym(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(e,t=!1){const n=e;return await x4(n),(await Ym(n,t)).token}async function x4(e){const{registrationPromise:t}=await Qm(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(e){if(!e||!e.options)throw Hd("App Configuration");if(!e.name)throw Hd("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Hd(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Hd(e){return vi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="installations",D4="installations-internal",N4=e=>{const t=e.getProvider("app").getImmediate(),n=k4(t),r=Ca(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},O4=e=>{const t=e.getProvider("app").getImmediate(),n=Ca(t,OT).getImmediate();return{getId:()=>R4(n),getToken:i=>P4(n,i)}};function M4(){Dr(new Gn(OT,N4,"PUBLIC")),Dr(new Gn(D4,O4,"PRIVATE"))}M4();Pn(gT,Km);Pn(gT,Km,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="analytics",V4="firebase_id",L4="origin",b4=60*1e3,F4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft=new jp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zt=new tc("analytics","Analytics",$4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(e){if(!e.startsWith(Xm)){const t=zt.create("invalid-gtag-resource",{gtagURL:e});return Ft.warn(t.message),""}return e}function MT(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function U4(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function B4(e,t){const n=U4("firebase-js-sdk-policy",{createScriptURL:j4}),r=document.createElement("script"),i=`${Xm}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function z4(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function H4(e,t,n,r,i,o){const s=r[i];try{if(s)await t[s];else{const l=(await MT(n)).find(u=>u.measurementId===i);l&&await t[l.appId]}}catch(a){Ft.error(a)}e("config",i,o)}async function q4(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await MT(n);for(const l of s){const u=a.find(d=>d.measurementId===l),c=u&&t[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){Ft.error(o)}}function W4(e,t,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await q4(e,t,n,a,l)}else if(o==="config"){const[a,l]=s;await H4(e,t,n,r,a,l)}else if(o==="consent"){const[a]=s;e("consent","update",a)}else if(o==="get"){const[a,l,u]=s;e("get",a,l,u)}else if(o==="set"){const[a]=s;e("set",a)}else e(o,...s)}catch(a){Ft.error(a)}}return i}function K4(e,t,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=W4(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function G4(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Xm)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=30,Y4=1e3;class X4{constructor(t={},n=Y4){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const VT=new X4;function J4(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Z4(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:J4(r)},o=F4.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw zt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function eD(e,t=VT,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw zt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw zt.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new rD;return setTimeout(async()=>{a.abort()},n!==void 0?n:b4),LT({appId:r,apiKey:i,measurementId:o},s,a,t)}async function LT(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=VT){var o;const{appId:s,measurementId:a}=e;try{await tD(r,t)}catch(l){if(a)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await Z4(e);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!nD(u)){if(i.deleteThrottleMetadata(s),a)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?Py(n,i.intervalMillis,Q4):Py(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),Ft.debug(`Calling attemptFetch again in ${c} millis`),LT(e,d,r,i)}}function tD(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(zt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function nD(e){if(!(e instanceof Fr)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class rD{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function iD(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const o=await t,s=Object.assign(Object.assign({},r),{send_to:o});e("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(){if(U_())try{await B_()}catch(e){return Ft.warn(zt.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ft.warn(zt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function sD(e,t,n,r,i,o,s){var a;const l=eD(e);l.then(f=>{n[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ft.error(f)),t.push(l);const u=oD().then(f=>{if(f)return r.getId()}),[c,d]=await Promise.all([l,u]);G4(o)||B4(o,c.measurementId),i("js",new Date);const h=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return h[L4]="firebase",h.update=!0,d!=null&&(h[V4]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t){this.app=t}_delete(){return delete Vs[this.app.options.appId],Promise.resolve()}}let Vs={},jv=[];const Uv={};let qd="dataLayer",lD="gtag",Bv,bT,zv=!1;function uD(){const e=[];if(m2()&&e.push("This is a browser extension environment."),g2()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=zt.create("invalid-analytics-context",{errorInfo:t});Ft.warn(n.message)}}function cD(e,t,n){uD();const r=e.options.appId;if(!r)throw zt.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zt.create("no-api-key");if(Vs[r]!=null)throw zt.create("already-exists",{id:r});if(!zv){z4(qd);const{wrappedGtag:o,gtagCore:s}=K4(Vs,jv,Uv,qd,lD);bT=o,Bv=s,zv=!0}return Vs[r]=sD(e,jv,Uv,t,Bv,qd,n),new aD(e)}function dD(e=W_()){e=on(e);const t=Ca(e,Ou);return t.isInitialized()?t.getImmediate():hD(e)}function hD(e,t={}){const n=Ca(e,Ou);if(n.isInitialized()){const i=n.getImmediate();if(gu(t,n.getOptions()))return i;throw zt.create("already-initialized")}return n.initialize({options:t})}function fD(e,t,n,r){e=on(e),iD(bT,Vs[e.app.options.appId],t,n,r).catch(i=>Ft.error(i))}const Hv="@firebase/analytics",qv="0.10.0";function pD(){Dr(new Gn(Ou,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return cD(r,i,n)},"PUBLIC")),Dr(new Gn("analytics-internal",e,"PRIVATE")),Pn(Hv,qv),Pn(Hv,qv,"esm2017");function e(t){try{const n=t.getProvider(Ou).getImmediate();return{logEvent:(r,i,o)=>fD(n,r,i,o)}}catch(n){throw zt.create("interop-component-reg-failed",{reason:n})}}}pD();const mD={apiKey:"AIzaSyAsZYG3m1z4W_PBm8fpyFeWV8W08Preo64",authDomain:"db-firebase-3a72a.firebaseapp.com",projectId:"db-firebase-3a72a",storageBucket:"db-firebase-3a72a.appspot.com",messagingSenderId:"351907880508",appId:"1:351907880508:web:b781914dc49dfd7937ad39",measurementId:"G-CXS05HX2T1"},FT=q_(mD);dD(FT);const or=gk(FT);function $T(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=$T(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function fr(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=$T(e))&&(r&&(r+=" "),r+=t);return r}const Ls=e=>typeof e=="number"&&!isNaN(e),Ei=e=>typeof e=="string",Mt=e=>typeof e=="function",Bl=e=>Ei(e)||Mt(e)?e:null,Wd=e=>I.isValidElement(e)||Ei(e)||Mt(e)||Ls(e);function gD(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Mc(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(s){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:h}=s;const f=r?`${t}--${l}`:t,y=r?`${n}--${l}`:n,v=I.useRef(0);return I.useLayoutEffect(()=>{const w=d.current,m=f.split(" "),g=E=>{E.target===d.current&&(w.dispatchEvent(new Event("d")),w.removeEventListener("animationend",g),w.removeEventListener("animationcancel",g),v.current===0&&E.type!=="animationcancel"&&w.classList.remove(...m))};w.classList.add(...m),w.addEventListener("animationend",g),w.addEventListener("animationcancel",g)},[]),I.useEffect(()=>{const w=d.current,m=()=>{w.removeEventListener("animationend",m),i?gD(w,c,o):c()};h||(u?m():(v.current=1,w.className+=` ${y}`,w.addEventListener("animationend",m)))},[h]),re.createElement(re.Fragment,null,a)}}function Wv(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Yt={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},El=e=>{let{theme:t,type:n,...r}=e;return re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Kd={info:function(e){return re.createElement(El,{...e},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return re.createElement(El,{...e},re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return re.createElement(El,{...e},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return re.createElement(El,{...e},re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return re.createElement("div",{className:"Toastify__spinner"})}};function yD(e){const[,t]=I.useReducer(f=>f+1,0),[n,r]=I.useState([]),i=I.useRef(null),o=I.useRef(new Map).current,s=f=>n.indexOf(f)!==-1,a=I.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:s,getToast:f=>o.get(f)}).current;function l(f){let{containerId:y}=f;const{limit:v}=a.props;!v||y&&a.containerId!==y||(a.count-=a.queue.length,a.queue=[])}function u(f){r(y=>f==null?[]:y.filter(v=>v!==f))}function c(){const{toastContent:f,toastProps:y,staleId:v}=a.queue.shift();h(f,y,v)}function d(f,y){let{delay:v,staleId:w,...m}=y;if(!Wd(f)||function(q){return!i.current||a.props.enableMultiContainer&&q.containerId!==a.props.containerId||o.has(q.toastId)&&q.updateId==null}(m))return;const{toastId:g,updateId:E,data:p}=m,{props:T}=a,C=()=>u(g),P=E==null;P&&a.count++;const x={...T,style:T.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(m).filter(q=>{let[M,G]=q;return G!=null})),toastId:g,updateId:E,data:p,closeToast:C,isIn:!1,className:Bl(m.className||T.toastClassName),bodyClassName:Bl(m.bodyClassName||T.bodyClassName),progressClassName:Bl(m.progressClassName||T.progressClassName),autoClose:!m.isLoading&&(j=m.autoClose,F=T.autoClose,j===!1||Ls(j)&&j>0?j:F),deleteToast(){const q=Wv(o.get(g),"removed");o.delete(g),Yt.emit(4,q);const M=a.queue.length;if(a.count=g==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),M>0){const G=g==null?a.props.limit:1;if(M===1||G===1)a.displayedToast++,c();else{const Je=G>M?M:G;a.displayedToast=Je;for(let de=0;de<Je;de++)c()}}else t()}};var j,F;x.iconOut=function(q){let{theme:M,type:G,isLoading:Je,icon:de}=q,je=null;const O={theme:M,type:G};return de===!1||(Mt(de)?je=de(O):I.isValidElement(de)?je=I.cloneElement(de,O):Ei(de)||Ls(de)?je=de:Je?je=Kd.spinner():(z=>z in Kd)(G)&&(je=Kd[G](O))),je}(x),Mt(m.onOpen)&&(x.onOpen=m.onOpen),Mt(m.onClose)&&(x.onClose=m.onClose),x.closeButton=T.closeButton,m.closeButton===!1||Wd(m.closeButton)?x.closeButton=m.closeButton:m.closeButton===!0&&(x.closeButton=!Wd(T.closeButton)||T.closeButton);let ue=f;I.isValidElement(f)&&!Ei(f.type)?ue=I.cloneElement(f,{closeToast:C,toastProps:x,data:p}):Mt(f)&&(ue=f({closeToast:C,toastProps:x,data:p})),T.limit&&T.limit>0&&a.count>T.limit&&P?a.queue.push({toastContent:ue,toastProps:x,staleId:w}):Ls(v)?setTimeout(()=>{h(ue,x,w)},v):h(ue,x,w)}function h(f,y,v){const{toastId:w}=y;v&&o.delete(v);const m={content:f,props:y};o.set(w,m),r(g=>[...g,w].filter(E=>E!==v)),Yt.emit(4,Wv(m,m.props.updateId==null?"added":"updated"))}return I.useEffect(()=>(a.containerId=e.containerId,Yt.cancelEmit(3).on(0,d).on(1,f=>i.current&&u(f)).on(5,l).emit(2,a),()=>{o.clear(),Yt.emit(3,a)}),[]),I.useEffect(()=>{a.props=e,a.isToastActive=s,a.displayedToast=n.length}),{getToastToRender:function(f){const y=new Map,v=Array.from(o.values());return e.newestOnTop&&v.reverse(),v.forEach(w=>{const{position:m}=w.props;y.has(m)||y.set(m,[]),y.get(m).push(w)}),Array.from(y,w=>f(w[0],w[1]))},containerRef:i,isToastActive:s}}function Kv(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Gv(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function vD(e){const[t,n]=I.useState(!1),[r,i]=I.useState(!1),o=I.useRef(null),s=I.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=I.useRef(e),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:h}=e;function f(p){if(e.draggable){p.nativeEvent.type==="touchstart"&&p.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",m),document.addEventListener("mouseup",g),document.addEventListener("touchmove",m),document.addEventListener("touchend",g);const T=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=T.getBoundingClientRect(),T.style.transition="",s.x=Kv(p.nativeEvent),s.y=Gv(p.nativeEvent),e.draggableDirection==="x"?(s.start=s.x,s.removalDistance=T.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=T.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(p){if(s.boundingRect){const{top:T,bottom:C,left:P,right:x}=s.boundingRect;p.nativeEvent.type!=="touchend"&&e.pauseOnHover&&s.x>=P&&s.x<=x&&s.y>=T&&s.y<=C?w():v()}}function v(){n(!0)}function w(){n(!1)}function m(p){const T=o.current;s.canDrag&&T&&(s.didMove=!0,t&&w(),s.x=Kv(p),s.y=Gv(p),s.delta=e.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),T.style.transform=`translate${e.draggableDirection}(${s.delta}px)`,T.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function g(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",g);const p=o.current;if(s.canDrag&&s.didMove&&p){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),void e.closeToast();p.style.transition="transform 0.2s, opacity 0.2s",p.style.transform=`translate${e.draggableDirection}(0)`,p.style.opacity="1"}}I.useEffect(()=>{a.current=e}),I.useEffect(()=>(o.current&&o.current.addEventListener("d",v,{once:!0}),Mt(e.onOpen)&&e.onOpen(I.isValidElement(e.children)&&e.children.props),()=>{const p=a.current;Mt(p.onClose)&&p.onClose(I.isValidElement(p.children)&&p.children.props)}),[]),I.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||w(),window.addEventListener("focus",v),window.addEventListener("blur",w)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",v),window.removeEventListener("blur",w))}),[e.pauseOnFocusLoss]);const E={onMouseDown:f,onTouchStart:f,onMouseUp:y,onTouchEnd:y};return l&&u&&(E.onMouseEnter=w,E.onMouseLeave=v),h&&(E.onClick=p=>{d&&d(p),s.canCloseOnClick&&c()}),{playToast:v,pauseToast:w,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:E}}function jT(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function _D(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:h}=e;const f=o||l&&u===0,y={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:f?0:1};l&&(y.transform=`scaleX(${u})`);const v=fr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),w=Mt(s)?s({rtl:c,type:i,defaultClassName:v}):fr(v,s);return re.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:w,style:y,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&r()}})}const ED=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=vD(e),{closeButton:o,children:s,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:d,transition:h,position:f,className:y,style:v,bodyClassName:w,bodyStyle:m,progressClassName:g,progressStyle:E,updateId:p,role:T,progress:C,rtl:P,toastId:x,deleteToast:j,isIn:F,isLoading:ue,iconOut:q,closeOnClick:M,theme:G}=e,Je=fr("Toastify__toast",`Toastify__toast-theme--${G}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":M}),de=Mt(y)?y({rtl:P,position:f,type:u,defaultClassName:Je}):fr(Je,y),je=!!C||!a,O={closeToast:d,type:u,theme:G};let z=null;return o===!1||(z=Mt(o)?o(O):I.isValidElement(o)?I.cloneElement(o,O):jT(O)),re.createElement(h,{isIn:F,done:j,position:f,preventExitTransition:n,nodeRef:r},re.createElement("div",{id:x,onClick:l,className:de,...i,style:v,ref:r},re.createElement("div",{...F&&{role:T},className:Mt(w)?w({type:u}):fr("Toastify__toast-body",w),style:m},q!=null&&re.createElement("div",{className:fr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ue})},q),re.createElement("div",null,s)),z,re.createElement(_D,{...p&&!je?{key:`pb-${p}`}:{},rtl:P,theme:G,delay:a,isRunning:t,isIn:F,closeToast:d,hide:c,type:u,style:E,className:g,controlledProgress:je,progress:C||0})))},Vc=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},wD=Mc(Vc("bounce",!0));Mc(Vc("slide",!0));Mc(Vc("zoom"));Mc(Vc("flip"));const Df=I.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=yD(e),{className:o,style:s,rtl:a,containerId:l}=e;function u(c){const d=fr("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return Mt(o)?o({position:c,rtl:a,defaultClassName:d}):fr(d,Bl(o))}return I.useEffect(()=>{t&&(t.current=r.current)},[]),re.createElement("div",{ref:r,className:"Toastify",id:l},n((c,d)=>{const h=d.length?{...s}:{...s,pointerEvents:"none"};return re.createElement("div",{className:u(c),style:h,key:`container-${c}`},d.map((f,y)=>{let{content:v,props:w}=f;return re.createElement(ED,{...w,isIn:i(w.toastId),style:{...w.style,"--nth":y+1,"--len":d.length},key:`toast-${w.key}`},v)}))}))});Df.displayName="ToastContainer",Df.defaultProps={position:"top-right",transition:wD,autoClose:5e3,closeButton:jT,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Gd,Gr=new Map,_s=[],TD=1;function UT(){return""+TD++}function ID(e){return e&&(Ei(e.toastId)||Ls(e.toastId))?e.toastId:UT()}function bs(e,t){return Gr.size>0?Yt.emit(0,e,t):_s.push({content:e,options:t}),t.toastId}function Mu(e,t){return{...t,type:t&&t.type||e,toastId:ID(t)}}function wl(e){return(t,n)=>bs(t,Mu(e,n))}function Re(e,t){return bs(e,Mu("default",t))}Re.loading=(e,t)=>bs(e,Mu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Re.promise=function(e,t,n){let r,{pending:i,error:o,success:s}=t;i&&(r=Ei(i)?Re.loading(i,n):Re.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,d,h)=>{if(d==null)return void Re.dismiss(r);const f={type:c,...a,...n,data:h},y=Ei(d)?{render:d}:d;return r?Re.update(r,{...f,...y}):Re(y.render,{...f,...y}),h},u=Mt(e)?e():e;return u.then(c=>l("success",s,c)).catch(c=>l("error",o,c)),u},Re.success=wl("success"),Re.info=wl("info"),Re.error=wl("error"),Re.warning=wl("warning"),Re.warn=Re.warning,Re.dark=(e,t)=>bs(e,Mu("default",{theme:"dark",...t})),Re.dismiss=e=>{Gr.size>0?Yt.emit(1,e):_s=_s.filter(t=>e!=null&&t.options.toastId!==e)},Re.clearWaitingQueue=function(e){return e===void 0&&(e={}),Yt.emit(5,e)},Re.isActive=e=>{let t=!1;return Gr.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Re.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:o}=i;const s=Gr.get(o||Gd);return s&&s.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:UT()};o.toastId!==e&&(o.staleId=e);const s=o.render||i;delete o.render,bs(s,o)}},0)},Re.done=e=>{Re.update(e,{progress:1})},Re.onChange=e=>(Yt.on(4,e),()=>{Yt.off(4,e)}),Re.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Re.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Yt.on(2,e=>{Gd=e.containerId||e,Gr.set(Gd,e),_s.forEach(t=>{Yt.emit(0,t.content,t.options)}),_s=[]}).on(3,e=>{Gr.delete(e.containerId||e),Gr.size===0&&Yt.off(0).off(1).off(5)});const Hr="products",Yr=(e,t)=>{Re(e,{type:t,position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})};function BT(){window.scrollTo({top:0})}const zT=(e,t)=>e.name.toLowerCase().includes(t)||e.name.includes(t)||e.name.toLocaleUpperCase().includes(t)||e.category.toLowerCase().includes(t)||e.category.includes(t)||e.category.toLocaleUpperCase().includes(t)||e.date.toLowerCase().includes(t)||e.date.includes(t)||e.date.toLocaleUpperCase().includes(t),HT=I.createContext(),Pi=()=>{const e=I.useContext(HT);if(!e)throw new Error("useProducts must be used within a ProductProvider");return e};function AD({children:e}){const[t,n]=I.useState([]),[r,i]=I.useState(""),[o,s]=I.useState([]),[a,l]=I.useState([]),[u,c]=I.useState([]),[d,h]=I.useState(!0),f=async p=>{try{if(r==="")await Vk(Dv(or,Hr),p),Yr("Producto guardado correctamente!!","success");else{const T=Qr(or,Hr,r);await ns(T,p),Yr("Producto actualizado correctamente!!","success"),i("")}}catch(T){console.log(T)}},y=async p=>{try{await Mk(Qr(or,Hr,p)),Yr("Producto borrado correctamente!!","success")}catch(T){console.log(T)}},v=async(p,T)=>{try{const C=Qr(or,Hr,p);T?await ns(C,{favorite:!1}):await ns(C,{favorite:!0})}catch(C){console.log(C)}},w=()=>{const p=Rk(Dv(or,Hr),Pk("created","desc"));Lk(p,T=>{h(!1);const C=[];T.forEach(P=>{C.push({...P.data(),id:P.id})}),n(C)})},m=async(p,T)=>{const C=Qr(or,Hr,p);await ns(C,{amount:T-1})},g=async(p,T)=>{T--;const C=Qr(or,Hr,p);await ns(C,{amount:T+2})},E=()=>{let p=new Date,T=p.getDate(),C=p.getMonth()+1,P=p.getFullYear(),x="";C<10?x=`${P}-0${C}-${T}`:x=`${P}-${C}-${T}`;const j=[],F=[],ue=[];t.forEach(q=>{if(q.date){var M=new Date(x),G=new Date(q.date),Je=Math.abs(G-M),de=Je/(1e3*3600*24);de<10&&G>M?j.push({...q,days:Math.round(de)}):G<=M&&F.push({...q,days:Math.round(de),text:"Vencido hace "})}q.favorite&&ue.push({...q})}),s([...j]),l([...F]),c([...ue])};return I.useEffect(()=>{o.length>0&&Yr(`${o.length} por vencer`,"warning")},[o]),I.useEffect(()=>{a.length>0&&Yr(`${a.length} ${a.length===1?"ya se vencio":"ya estan vencidos"}`,"error")},[a]),I.useEffect(()=>{E()},[t,d]),I.useEffect(()=>{w()},[]),_.jsx(HT.Provider,{value:{addOrEditProduct:f,onDeleteProduct:y,setCurrentId:i,handleLess:m,handlePlus:g,setLoader:h,onFavoriteProduct:v,loader:d,currentId:r,products:t,productsVence:o,expiredProducts:a,favorite:u},children:e})}var qT={exports:{}},SD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CD=SD,RD=CD;function WT(){}function KT(){}KT.resetWarningCache=WT;var PD=function(){function e(r,i,o,s,a,l){if(l!==RD){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:KT,resetWarningCache:WT};return n.PropTypes=n,n};qT.exports=PD();var xD=qT.exports;const ae=Do(xD);var kD=typeof Element<"u",DD=typeof Map=="function",ND=typeof Set=="function",OD=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function zl(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!zl(e[r],t[r]))return!1;return!0}var o;if(DD&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!zl(r.value[1],t.get(r.value[0])))return!1;return!0}if(ND&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(OD&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(kD&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!zl(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var MD=function(t,n){try{return zl(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const VD=Do(MD);var LD=function(e,t,n,r,i,o,s,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,s,a],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},bD=LD;const Qv=Do(bD);var FD=function(t,n,r,i){var o=r?r.call(i,t,n):void 0;if(o!==void 0)return!!o;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var s=Object.keys(t),a=Object.keys(n);if(s.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<s.length;u++){var c=s[u];if(!l(c))return!1;var d=t[c],h=n[c];if(o=r?r.call(i,d,h,c):void 0,o===!1||o===void 0&&d!==h)return!1}return!0};const $D=Do(FD);function Fe(){return Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}function Jm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Nf(e,t)}function Nf(e,t){return Nf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Nf(e,t)}function Yv(e,t){if(e==null)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}var K={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},jD={rel:["amphtml","canonical","alternate"]},UD={type:["application/ld+json"]},BD={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Xv=Object.keys(K).map(function(e){return K[e]}),Vu={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},zD=Object.keys(Vu).reduce(function(e,t){return e[Vu[t]]=t,e},{}),co=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},HD=function(e){var t=co(e,K.TITLE),n=co(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,function(){return t});var r=co(e,"defaultTitle");return t||r||void 0},qD=function(e){return co(e,"onChangeClientState")||function(){}},Qd=function(e,t){return t.filter(function(n){return n[e]!==void 0}).map(function(n){return n[e]}).reduce(function(n,r){return Fe({},n,r)},{})},WD=function(e,t){return t.filter(function(n){return n[K.BASE]!==void 0}).map(function(n){return n[K.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var i=Object.keys(r),o=0;o<i.length;o+=1){var s=i[o].toLowerCase();if(e.indexOf(s)!==-1&&r[s])return n.concat(r)}return n},[])},rs=function(e,t,n){var r={};return n.filter(function(i){return!!Array.isArray(i[e])||(i[e]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+e+' should be of type "Array". Instead found type "'+typeof i[e]+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var s={};o.filter(function(d){for(var h,f=Object.keys(d),y=0;y<f.length;y+=1){var v=f[y],w=v.toLowerCase();t.indexOf(w)===-1||h==="rel"&&d[h].toLowerCase()==="canonical"||w==="rel"&&d[w].toLowerCase()==="stylesheet"||(h=w),t.indexOf(v)===-1||v!=="innerHTML"&&v!=="cssText"&&v!=="itemprop"||(h=v)}if(!h||!d[h])return!1;var m=d[h].toLowerCase();return r[h]||(r[h]={}),s[h]||(s[h]={}),!r[h][m]&&(s[h][m]=!0,!0)}).reverse().forEach(function(d){return i.push(d)});for(var a=Object.keys(s),l=0;l<a.length;l+=1){var u=a[l],c=Fe({},r[u],s[u]);r[u]=c}return i},[]).reverse()},KD=function(e,t){if(Array.isArray(e)&&e.length){for(var n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},GT=function(e){return Array.isArray(e)?e.join(""):e},Yd=function(e,t){return Array.isArray(e)?e.reduce(function(n,r){return function(i,o){for(var s=Object.keys(i),a=0;a<s.length;a+=1)if(o[s[a]]&&o[s[a]].includes(i[s[a]]))return!0;return!1}(r,t)?n.priority.push(r):n.default.push(r),n},{priority:[],default:[]}):{default:e}},Jv=function(e,t){var n;return Fe({},e,((n={})[t]=void 0,n))},GD=[K.NOSCRIPT,K.SCRIPT,K.STYLE],Xd=function(e,t){return t===void 0&&(t=!0),t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Zv=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n]!==void 0?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},e0=function(e,t){return t===void 0&&(t={}),Object.keys(e).reduce(function(n,r){return n[Vu[r]||r]=e[r],n},t)},Hl=function(e,t){return t.map(function(n,r){var i,o=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach(function(s){var a=Vu[s]||s;a==="innerHTML"||a==="cssText"?o.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:o[a]=n[s]}),re.createElement(e,o)})},Gt=function(e,t,n){switch(e){case K.TITLE:return{toComponent:function(){return i=t.titleAttributes,(o={key:r=t.title})["data-rh"]=!0,s=e0(i,o),[re.createElement(K.TITLE,s,r)];var r,i,o,s},toString:function(){return function(r,i,o,s){var a=Zv(o),l=GT(i);return a?"<"+r+' data-rh="true" '+a+">"+Xd(l,s)+"</"+r+">":"<"+r+' data-rh="true">'+Xd(l,s)+"</"+r+">"}(e,t.title,t.titleAttributes,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return e0(t)},toString:function(){return Zv(t)}};default:return{toComponent:function(){return Hl(e,t)},toString:function(){return function(r,i,o){return i.reduce(function(s,a){var l=Object.keys(a).filter(function(d){return!(d==="innerHTML"||d==="cssText")}).reduce(function(d,h){var f=a[h]===void 0?h:h+'="'+Xd(a[h],o)+'"';return d?d+" "+f:f},""),u=a.innerHTML||a.cssText||"",c=GD.indexOf(r)===-1;return s+"<"+r+' data-rh="true" '+l+(c?"/>":">"+u+"</"+r+">")},"")}(e,t,n)}}}},Of=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.noscriptTags,s=e.styleTags,a=e.title,l=a===void 0?"":a,u=e.titleAttributes,c=e.linkTags,d=e.metaTags,h=e.scriptTags,f={toComponent:function(){},toString:function(){return""}};if(e.prioritizeSeoTags){var y=function(v){var w=v.linkTags,m=v.scriptTags,g=v.encode,E=Yd(v.metaTags,BD),p=Yd(w,jD),T=Yd(m,UD);return{priorityMethods:{toComponent:function(){return[].concat(Hl(K.META,E.priority),Hl(K.LINK,p.priority),Hl(K.SCRIPT,T.priority))},toString:function(){return Gt(K.META,E.priority,g)+" "+Gt(K.LINK,p.priority,g)+" "+Gt(K.SCRIPT,T.priority,g)}},metaTags:E.default,linkTags:p.default,scriptTags:T.default}}(e);f=y.priorityMethods,c=y.linkTags,d=y.metaTags,h=y.scriptTags}return{priority:f,base:Gt(K.BASE,t,r),bodyAttributes:Gt("bodyAttributes",n,r),htmlAttributes:Gt("htmlAttributes",i,r),link:Gt(K.LINK,c,r),meta:Gt(K.META,d,r),noscript:Gt(K.NOSCRIPT,o,r),script:Gt(K.SCRIPT,h,r),style:Gt(K.STYLE,s,r),title:Gt(K.TITLE,{title:l,titleAttributes:u},r)}},Tl=[],Mf=function(e,t){var n=this;t===void 0&&(t=typeof document<"u"),this.instances=[],this.value={setHelmet:function(r){n.context.helmet=r},helmetInstances:{get:function(){return n.canUseDOM?Tl:n.instances},add:function(r){(n.canUseDOM?Tl:n.instances).push(r)},remove:function(r){var i=(n.canUseDOM?Tl:n.instances).indexOf(r);(n.canUseDOM?Tl:n.instances).splice(i,1)}}},this.context=e,this.canUseDOM=t,t||(e.helmet=Of({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},QT=re.createContext({}),QD=ae.shape({setHelmet:ae.func,helmetInstances:ae.shape({get:ae.func,add:ae.func,remove:ae.func})}),YD=typeof document<"u",pr=function(e){function t(n){var r;return(r=e.call(this,n)||this).helmetData=new Mf(r.props.context,t.canUseDOM),r}return Jm(t,e),t.prototype.render=function(){return re.createElement(QT.Provider,{value:this.helmetData.value},this.props.children)},t}(I.Component);pr.canUseDOM=YD,pr.propTypes={context:ae.shape({helmet:ae.shape()}),children:ae.node.isRequired},pr.defaultProps={context:{}},pr.displayName="HelmetProvider";var Mi=function(e,t){var n,r=document.head||document.querySelector(K.HEAD),i=r.querySelectorAll(e+"[data-rh]"),o=[].slice.call(i),s=[];return t&&t.length&&t.forEach(function(a){var l=document.createElement(e);for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(u==="innerHTML"?l.innerHTML=a.innerHTML:u==="cssText"?l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText)):l.setAttribute(u,a[u]===void 0?"":a[u]));l.setAttribute("data-rh","true"),o.some(function(c,d){return n=d,l.isEqualNode(c)})?o.splice(n,1):s.push(l)}),o.forEach(function(a){return a.parentNode.removeChild(a)}),s.forEach(function(a){return r.appendChild(a)}),{oldTags:o,newTags:s}},Jd=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute("data-rh"),i=r?r.split(","):[],o=[].concat(i),s=Object.keys(t),a=0;a<s.length;a+=1){var l=s[a],u=t[l]||"";n.getAttribute(l)!==u&&n.setAttribute(l,u),i.indexOf(l)===-1&&i.push(l);var c=o.indexOf(l);c!==-1&&o.splice(c,1)}for(var d=o.length-1;d>=0;d-=1)n.removeAttribute(o[d]);i.length===o.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==s.join(",")&&n.setAttribute("data-rh",s.join(","))}},t0=function(e,t){var n=e.baseTag,r=e.htmlAttributes,i=e.linkTags,o=e.metaTags,s=e.noscriptTags,a=e.onChangeClientState,l=e.scriptTags,u=e.styleTags,c=e.title,d=e.titleAttributes;Jd(K.BODY,e.bodyAttributes),Jd(K.HTML,r),function(v,w){v!==void 0&&document.title!==v&&(document.title=GT(v)),Jd(K.TITLE,w)}(c,d);var h={baseTag:Mi(K.BASE,n),linkTags:Mi(K.LINK,i),metaTags:Mi(K.META,o),noscriptTags:Mi(K.NOSCRIPT,s),scriptTags:Mi(K.SCRIPT,l),styleTags:Mi(K.STYLE,u)},f={},y={};Object.keys(h).forEach(function(v){var w=h[v],m=w.newTags,g=w.oldTags;m.length&&(f[v]=m),g.length&&(y[v]=h[v].oldTags)}),t&&t(),a(e,f,y)},is=null,Lu=function(e){function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.call.apply(e,[this].concat(o))||this).rendered=!1,r}Jm(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(r){return!$D(r,this.props)},n.componentDidUpdate=function(){this.emitChange()},n.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},n.emitChange=function(){var r,i,o=this.props.context,s=o.setHelmet,a=null,l=(r=o.helmetInstances.get().map(function(u){var c=Fe({},u.props);return delete c.context,c}),{baseTag:WD(["href"],r),bodyAttributes:Qd("bodyAttributes",r),defer:co(r,"defer"),encode:co(r,"encodeSpecialCharacters"),htmlAttributes:Qd("htmlAttributes",r),linkTags:rs(K.LINK,["rel","href"],r),metaTags:rs(K.META,["name","charset","http-equiv","property","itemprop"],r),noscriptTags:rs(K.NOSCRIPT,["innerHTML"],r),onChangeClientState:qD(r),scriptTags:rs(K.SCRIPT,["src","innerHTML"],r),styleTags:rs(K.STYLE,["cssText"],r),title:HD(r),titleAttributes:Qd("titleAttributes",r),prioritizeSeoTags:KD(r,"prioritizeSeoTags")});pr.canUseDOM?(i=l,is&&cancelAnimationFrame(is),i.defer?is=requestAnimationFrame(function(){t0(i,function(){is=null})}):(t0(i),is=null)):Of&&(a=Of(l)),s(a)},n.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},n.render=function(){return this.init(),null},t}(I.Component);Lu.propTypes={context:QD.isRequired},Lu.displayName="HelmetDispatcher";var XD=["children"],JD=["children"],ho=function(e){function t(){return e.apply(this,arguments)||this}Jm(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(r){return!VD(Jv(this.props,"helmetData"),Jv(r,"helmetData"))},n.mapNestedChildrenToProps=function(r,i){if(!i)return null;switch(r.type){case K.SCRIPT:case K.NOSCRIPT:return{innerHTML:i};case K.STYLE:return{cssText:i};default:throw new Error("<"+r.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},n.flattenArrayTypeChildren=function(r){var i,o=r.child,s=r.arrayTypeChildren;return Fe({},s,((i={})[o.type]=[].concat(s[o.type]||[],[Fe({},r.newChildProps,this.mapNestedChildrenToProps(o,r.nestedChildren))]),i))},n.mapObjectTypeChildren=function(r){var i,o,s=r.child,a=r.newProps,l=r.newChildProps,u=r.nestedChildren;switch(s.type){case K.TITLE:return Fe({},a,((i={})[s.type]=u,i.titleAttributes=Fe({},l),i));case K.BODY:return Fe({},a,{bodyAttributes:Fe({},l)});case K.HTML:return Fe({},a,{htmlAttributes:Fe({},l)});default:return Fe({},a,((o={})[s.type]=Fe({},l),o))}},n.mapArrayTypeChildrenToProps=function(r,i){var o=Fe({},i);return Object.keys(r).forEach(function(s){var a;o=Fe({},o,((a={})[s]=r[s],a))}),o},n.warnOnInvalidChildren=function(r,i){return Qv(Xv.some(function(o){return r.type===o}),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+Xv.join(", ")+" are allowed. Helmet does not support rendering <"+r.type+"> elements. Refer to our API for more information."),Qv(!i||typeof i=="string"||Array.isArray(i)&&!i.some(function(o){return typeof o!="string"}),"Helmet expects a string as a child of <"+r.type+">. Did you forget to wrap your children in braces? ( <"+r.type+">{``}</"+r.type+"> ) Refer to our API for more information."),!0},n.mapChildrenToProps=function(r,i){var o=this,s={};return re.Children.forEach(r,function(a){if(a&&a.props){var l=a.props,u=l.children,c=Yv(l,XD),d=Object.keys(c).reduce(function(f,y){return f[zD[y]||y]=c[y],f},{}),h=a.type;switch(typeof h=="symbol"?h=h.toString():o.warnOnInvalidChildren(a,u),h){case K.FRAGMENT:i=o.mapChildrenToProps(u,i);break;case K.LINK:case K.META:case K.NOSCRIPT:case K.SCRIPT:case K.STYLE:s=o.flattenArrayTypeChildren({child:a,arrayTypeChildren:s,newChildProps:d,nestedChildren:u});break;default:i=o.mapObjectTypeChildren({child:a,newProps:i,newChildProps:d,nestedChildren:u})}}}),this.mapArrayTypeChildrenToProps(s,i)},n.render=function(){var r=this.props,i=r.children,o=Yv(r,JD),s=Fe({},o),a=o.helmetData;return i&&(s=this.mapChildrenToProps(i,s)),!a||a instanceof Mf||(a=new Mf(a.context,a.instances)),a?re.createElement(Lu,Fe({},s,{context:a.value,helmetData:void 0})):re.createElement(QT.Consumer,null,function(l){return re.createElement(Lu,Fe({},s,{context:l}))})},t}(I.Component);ho.propTypes={base:ae.object,bodyAttributes:ae.object,children:ae.oneOfType([ae.arrayOf(ae.node),ae.node]),defaultTitle:ae.string,defer:ae.bool,encodeSpecialCharacters:ae.bool,htmlAttributes:ae.object,link:ae.arrayOf(ae.object),meta:ae.arrayOf(ae.object),noscript:ae.arrayOf(ae.object),onChangeClientState:ae.func,script:ae.arrayOf(ae.object),style:ae.arrayOf(ae.object),title:ae.string,titleAttributes:ae.object,titleTemplate:ae.string,prioritizeSeoTags:ae.bool,helmetData:ae.object},ho.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},ho.displayName="Helmet";/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}var ze;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ze||(ze={}));const n0="popstate";function ZD(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return ya("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:wi(i)}return tN(t,n,null,e)}function ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ko(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eN(){return Math.random().toString(36).substr(2,8)}function r0(e,t){return{usr:e.state,key:e.key,idx:t}}function ya(e,t,n,r){return n===void 0&&(n=null),Pe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?er(t):t,{state:n,key:t&&t.key||r||eN()})}function wi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tN(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ze.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Pe({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=ze.Pop;let w=c(),m=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:m})}function h(w,m){a=ze.Push;let g=ya(v.location,w,m);n&&n(g,w),u=c()+1;let E=r0(g,u),p=v.createHref(g);try{s.pushState(E,"",p)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(p)}o&&l&&l({action:a,location:v.location,delta:1})}function f(w,m){a=ze.Replace;let g=ya(v.location,w,m);n&&n(g,w),u=c();let E=r0(g,u),p=v.createHref(g);s.replaceState(E,"",p),o&&l&&l({action:a,location:v.location,delta:0})}function y(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof w=="string"?w:wi(w);return ie(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let v={get action(){return a},get location(){return e(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(n0,d),l=w,()=>{i.removeEventListener(n0,d),l=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let m=y(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(w){return s.go(w)}};return v}var Qe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qe||(Qe={}));const nN=new Set(["lazy","caseSensitive","path","id","index","children"]);function rN(e){return e.index===!0}function Vf(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(ie(i.index!==!0||!i.children,"Cannot specify children on an index route"),ie(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),rN(i)){let l=Pe({},i,t(i),{id:a});return r[a]=l,l}else{let l=Pe({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Vf(i.children,t,s,r)),l}})}function Xi(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?er(t):t,i=Uo(r.pathname||"/",n);if(i==null)return null;let o=YT(e);iN(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=fN(o[a],gN(i));return s}function YT(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ie(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=zn([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ie(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),YT(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:dN(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of XT(o.path))i(o,s,l)}),t}function XT(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=XT(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function iN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oN=/^:\w+$/,sN=3,aN=2,lN=1,uN=10,cN=-2,i0=e=>e==="*";function dN(e,t){let n=e.split("/"),r=n.length;return n.some(i0)&&(r+=cN),t&&(r+=aN),n.filter(i=>!i0(i)).reduce((i,o)=>i+(oN.test(o)?sN:o===""?lN:uN),r)}function hN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function fN(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=pN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:zn([i,c.pathname]),pathnameBase:EN(zn([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=zn([i,c.pathnameBase]))}return o}function pN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=mN(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";s=o.slice(0,o.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=yN(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:e}}function mN(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ko(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function gN(e){try{return decodeURI(e)}catch(t){return ko(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yN(e,t){try{return decodeURIComponent(e)}catch(n){return ko(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Uo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function vN(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?er(e):e;return{pathname:n?n.startsWith("/")?n:_N(n,t):t,search:wN(r),hash:TN(i)}}function _N(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lc(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Zm(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=er(e):(i=Pe({},e),ie(!i.pathname||!i.pathname.includes("?"),Zd("?","pathname","search",i)),ie(!i.pathname||!i.pathname.includes("#"),Zd("#","pathname","hash",i)),ie(!i.search||!i.search.includes("#"),Zd("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=t.length-1;if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=vN(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const zn=e=>e.join("/").replace(/\/\/+/g,"/"),EN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class eg{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function JT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ZT=["post","put","patch","delete"],IN=new Set(ZT),AN=["get",...ZT],SN=new Set(AN),CN=new Set([301,302,303,307,308]),RN=new Set([307,308]),eh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},os={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xN=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function kN(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ie(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let A=e.detectErrorBoundary;i=S=>({hasErrorBoundary:A(S)})}else i=xN;let o={},s=Vf(e.routes,i,void 0,o),a,l=e.basename||"/",u=Pe({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,d=new Set,h=null,f=null,y=null,v=e.hydrationData!=null,w=Xi(s,e.history.location,l),m=null;if(w==null){let A=Qt(404,{pathname:e.history.location.pathname}),{matches:S,route:k}=h0(s);w=S,m={[k.id]:A}}let g=!w.some(A=>A.route.lazy)&&(!w.some(A=>A.route.loader)||e.hydrationData!=null),E,p={historyAction:e.history.action,location:e.history.location,matches:w,initialized:g,navigation:eh,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||m,fetchers:new Map,blockers:new Map},T=ze.Pop,C=!1,P,x=!1,j=!1,F=[],ue=[],q=new Map,M=0,G=-1,Je=new Map,de=new Set,je=new Map,O=new Map,z=new Map,te=!1;function ke(){return c=e.history.listen(A=>{let{action:S,location:k,delta:$}=A;if(te){te=!1;return}ko(z.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=pg({currentLocation:p.location,nextLocation:k,historyAction:S});if(ee&&$!=null){te=!0,e.history.go($*-1),Wa(ee,{state:"blocked",location:k,proceed(){Wa(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:k}),e.history.go($)},reset(){let Y=new Map(p.blockers);Y.set(ee,os),ve({blockers:Y})}});return}return tr(S,k)}),p.initialized||tr(ze.Pop,p.location),E}function Ue(){c&&c(),d.clear(),P&&P.abort(),p.fetchers.forEach((A,S)=>qc(S)),p.blockers.forEach((A,S)=>fg(S))}function ki(A){return d.add(A),()=>d.delete(A)}function ve(A){p=Pe({},p,A),d.forEach(S=>S(p))}function On(A,S){var k,$;let ee=p.actionData!=null&&p.navigation.formMethod!=null&&cn(p.navigation.formMethod)&&p.navigation.state==="loading"&&((k=A.state)==null?void 0:k._isRedirect)!==!0,Y;S.actionData?Object.keys(S.actionData).length>0?Y=S.actionData:Y=null:ee?Y=p.actionData:Y=null;let J=S.loaderData?d0(p.loaderData,S.loaderData,S.matches||[],S.errors):p.loaderData,W=p.blockers;W.size>0&&(W=new Map(W),W.forEach((_e,dt)=>W.set(dt,os)));let B=C===!0||p.navigation.formMethod!=null&&cn(p.navigation.formMethod)&&(($=A.state)==null?void 0:$._isRedirect)!==!0;a&&(s=a,a=void 0),x||T===ze.Pop||(T===ze.Push?e.history.push(A,A.state):T===ze.Replace&&e.history.replace(A,A.state)),ve(Pe({},S,{actionData:Y,loaderData:J,historyAction:T,location:A,initialized:!0,navigation:eh,revalidation:"idle",restoreScrollPosition:gg(A,S.matches||p.matches),preventScrollReset:B,blockers:W})),T=ze.Pop,C=!1,x=!1,j=!1,F=[],ue=[]}async function _n(A,S){if(typeof A=="number"){e.history.go(A);return}let k=Lf(p.location,p.matches,l,u.v7_prependBasename,A,S==null?void 0:S.fromRouteId,S==null?void 0:S.relative),{path:$,submission:ee,error:Y}=o0(u.v7_normalizeFormMethod,!1,k,S),J=p.location,W=ya(p.location,$,S&&S.state);W=Pe({},W,e.history.encodeLocation(W));let B=S&&S.replace!=null?S.replace:void 0,_e=ze.Push;B===!0?_e=ze.Replace:B===!1||ee!=null&&cn(ee.formMethod)&&ee.formAction===p.location.pathname+p.location.search&&(_e=ze.Replace);let dt=S&&"preventScrollReset"in S?S.preventScrollReset===!0:void 0,ge=pg({currentLocation:J,nextLocation:W,historyAction:_e});if(ge){Wa(ge,{state:"blocked",location:W,proceed(){Wa(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),_n(A,S)},reset(){let be=new Map(p.blockers);be.set(ge,os),ve({blockers:be})}});return}return await tr(_e,W,{submission:ee,pendingError:Y,preventScrollReset:dt,replace:S&&S.replace})}function Di(){if(Hc(),ve({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){tr(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}tr(T||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function tr(A,S,k){P&&P.abort(),P=null,T=A,x=(k&&k.startUninterruptedRevalidation)===!0,RI(p.location,p.matches),C=(k&&k.preventScrollReset)===!0;let $=a||s,ee=k&&k.overrideNavigation,Y=Xi($,S,l);if(!Y){let be=Qt(404,{pathname:S.pathname}),{matches:Ze,route:Br}=h0($);Wc(),On(S,{matches:Ze,loaderData:{},errors:{[Br.id]:be}});return}if(p.initialized&&!j&&VN(p.location,S)&&!(k&&k.submission&&cn(k.submission.formMethod))){On(S,{matches:Y});return}P=new AbortController;let J=as(e.history,S,P.signal,k&&k.submission),W,B;if(k&&k.pendingError)B={[Ji(Y).route.id]:k.pendingError};else if(k&&k.submission&&cn(k.submission.formMethod)){let be=await EI(J,S,k.submission,Y,{replace:k.replace});if(be.shortCircuited)return;W=be.pendingActionData,B=be.pendingActionError,ee=Il(S,k.submission),J=new Request(J.url,{signal:J.signal})}let{shortCircuited:_e,loaderData:dt,errors:ge}=await wI(J,S,Y,ee,k&&k.submission,k&&k.fetcherSubmission,k&&k.replace,W,B);_e||(P=null,On(S,Pe({matches:Y},W?{actionData:W}:{},{loaderData:dt,errors:ge})))}async function EI(A,S,k,$,ee){ee===void 0&&(ee={}),Hc();let Y=jN(S,k);ve({navigation:Y});let J,W=Ff($,S);if(!W.route.action&&!W.route.lazy)J={type:Qe.error,error:Qt(405,{method:A.method,pathname:S.pathname,routeId:W.route.id})};else if(J=await ss("action",A,W,$,o,i,l),A.signal.aborted)return{shortCircuited:!0};if(fo(J)){let B;return ee&&ee.replace!=null?B=ee.replace:B=J.location===p.location.pathname+p.location.search,await zo(p,J,{submission:k,replace:B}),{shortCircuited:!0}}if(Fs(J)){let B=Ji($,W.route.id);return(ee&&ee.replace)!==!0&&(T=ze.Push),{pendingActionData:{},pendingActionError:{[B.route.id]:J.error}}}if(ii(J))throw Qt(400,{type:"defer-action"});return{pendingActionData:{[W.route.id]:J.data}}}async function wI(A,S,k,$,ee,Y,J,W,B){let _e=$||Il(S,ee),dt=ee||Y||m0(_e),ge=a||s,[be,Ze]=s0(e.history,p,k,dt,S,j,F,ue,je,de,ge,l,W,B);if(Wc(ye=>!(k&&k.some(sn=>sn.route.id===ye))||be&&be.some(sn=>sn.route.id===ye)),G=++M,be.length===0&&Ze.length===0){let ye=dg();return On(S,Pe({matches:k,loaderData:{},errors:B||null},W?{actionData:W}:{},ye?{fetchers:new Map(p.fetchers)}:{})),{shortCircuited:!0}}if(!x){Ze.forEach(sn=>{let rr=p.fetchers.get(sn.key),Xc=ls(void 0,rr?rr.data:void 0);p.fetchers.set(sn.key,Xc)});let ye=W||p.actionData;ve(Pe({navigation:_e},ye?Object.keys(ye).length===0?{actionData:null}:{actionData:ye}:{},Ze.length>0?{fetchers:new Map(p.fetchers)}:{}))}Ze.forEach(ye=>{q.has(ye.key)&&nr(ye.key),ye.controller&&q.set(ye.key,ye.controller)});let Br=()=>Ze.forEach(ye=>nr(ye.key));P&&P.signal.addEventListener("abort",Br);let{results:zr,loaderResults:Ho,fetcherResults:Kc}=await ug(p.matches,k,be,Ze,A);if(A.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Br),Ze.forEach(ye=>q.delete(ye.key));let Mn=f0(zr);if(Mn){if(Mn.idx>=be.length){let ye=Ze[Mn.idx-be.length].key;de.add(ye)}return await zo(p,Mn.result,{replace:J}),{shortCircuited:!0}}let{loaderData:Vn,errors:Ka}=c0(p,k,be,Ho,B,Ze,Kc,O);O.forEach((ye,sn)=>{ye.subscribe(rr=>{(rr||ye.done)&&O.delete(sn)})});let Gc=dg(),Qc=hg(G),Yc=Gc||Qc||Ze.length>0;return Pe({loaderData:Vn,errors:Ka},Yc?{fetchers:new Map(p.fetchers)}:{})}function lg(A){return p.fetchers.get(A)||PN}function TI(A,S,k,$){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");q.has(A)&&nr(A);let ee=a||s,Y=Lf(p.location,p.matches,l,u.v7_prependBasename,k,S,$==null?void 0:$.relative),J=Xi(ee,Y,l);if(!J){qa(A,S,Qt(404,{pathname:Y}));return}let{path:W,submission:B,error:_e}=o0(u.v7_normalizeFormMethod,!0,Y,$);if(_e){qa(A,S,_e);return}let dt=Ff(J,W);if(C=($&&$.preventScrollReset)===!0,B&&cn(B.formMethod)){II(A,S,W,dt,J,B);return}je.set(A,{routeId:S,path:W}),AI(A,S,W,dt,J,B)}async function II(A,S,k,$,ee,Y){if(Hc(),je.delete(A),!$.route.action&&!$.route.lazy){let Ge=Qt(405,{method:Y.formMethod,pathname:k,routeId:S});qa(A,S,Ge);return}let J=p.fetchers.get(A),W=UN(Y,J);p.fetchers.set(A,W),ve({fetchers:new Map(p.fetchers)});let B=new AbortController,_e=as(e.history,k,B.signal,Y);q.set(A,B);let dt=M,ge=await ss("action",_e,$,ee,o,i,l);if(_e.signal.aborted){q.get(A)===B&&q.delete(A);return}if(fo(ge))if(q.delete(A),G>dt){let Ge=bi(void 0);p.fetchers.set(A,Ge),ve({fetchers:new Map(p.fetchers)});return}else{de.add(A);let Ge=ls(Y);return p.fetchers.set(A,Ge),ve({fetchers:new Map(p.fetchers)}),zo(p,ge,{submission:Y,isFetchActionRedirect:!0})}if(Fs(ge)){qa(A,S,ge.error);return}if(ii(ge))throw Qt(400,{type:"defer-action"});let be=p.navigation.location||p.location,Ze=as(e.history,be,B.signal),Br=a||s,zr=p.navigation.state!=="idle"?Xi(Br,p.navigation.location,l):p.matches;ie(zr,"Didn't find any matches after fetcher action");let Ho=++M;Je.set(A,Ho);let Kc=ls(Y,ge.data);p.fetchers.set(A,Kc);let[Mn,Vn]=s0(e.history,p,zr,Y,be,j,F,ue,je,de,Br,l,{[$.route.id]:ge.data},void 0);Vn.filter(Ge=>Ge.key!==A).forEach(Ge=>{let qo=Ge.key,yg=p.fetchers.get(qo),xI=ls(void 0,yg?yg.data:void 0);p.fetchers.set(qo,xI),q.has(qo)&&nr(qo),Ge.controller&&q.set(qo,Ge.controller)}),ve({fetchers:new Map(p.fetchers)});let Ka=()=>Vn.forEach(Ge=>nr(Ge.key));B.signal.addEventListener("abort",Ka);let{results:Gc,loaderResults:Qc,fetcherResults:Yc}=await ug(p.matches,zr,Mn,Vn,Ze);if(B.signal.aborted)return;B.signal.removeEventListener("abort",Ka),Je.delete(A),q.delete(A),Vn.forEach(Ge=>q.delete(Ge.key));let ye=f0(Gc);if(ye){if(ye.idx>=Mn.length){let Ge=Vn[ye.idx-Mn.length].key;de.add(Ge)}return zo(p,ye.result)}let{loaderData:sn,errors:rr}=c0(p,p.matches,Mn,Qc,void 0,Vn,Yc,O);if(p.fetchers.has(A)){let Ge=bi(ge.data);p.fetchers.set(A,Ge)}let Xc=hg(Ho);p.navigation.state==="loading"&&Ho>G?(ie(T,"Expected pending action"),P&&P.abort(),On(p.navigation.location,{matches:zr,loaderData:sn,errors:rr,fetchers:new Map(p.fetchers)})):(ve(Pe({errors:rr,loaderData:d0(p.loaderData,sn,zr,rr)},Xc||Vn.length>0?{fetchers:new Map(p.fetchers)}:{})),j=!1)}async function AI(A,S,k,$,ee,Y){let J=p.fetchers.get(A),W=ls(Y,J?J.data:void 0);p.fetchers.set(A,W),ve({fetchers:new Map(p.fetchers)});let B=new AbortController,_e=as(e.history,k,B.signal);q.set(A,B);let dt=M,ge=await ss("loader",_e,$,ee,o,i,l);if(ii(ge)&&(ge=await rI(ge,_e.signal,!0)||ge),q.get(A)===B&&q.delete(A),_e.signal.aborted)return;if(fo(ge))if(G>dt){let Ze=bi(void 0);p.fetchers.set(A,Ze),ve({fetchers:new Map(p.fetchers)});return}else{de.add(A),await zo(p,ge);return}if(Fs(ge)){let Ze=Ji(p.matches,S);p.fetchers.delete(A),ve({fetchers:new Map(p.fetchers),errors:{[Ze.route.id]:ge.error}});return}ie(!ii(ge),"Unhandled fetcher deferred data");let be=bi(ge.data);p.fetchers.set(A,be),ve({fetchers:new Map(p.fetchers)})}async function zo(A,S,k){let{submission:$,replace:ee,isFetchActionRedirect:Y}=k===void 0?{}:k;S.revalidate&&(j=!0);let J=ya(A.location,S.location,Pe({_isRedirect:!0},Y?{_isFetchActionRedirect:!0}:{}));if(ie(J,"Expected a location on the redirect navigation"),eI.test(S.location)&&n){let _e=e.history.createURL(S.location),dt=Uo(_e.pathname,l)==null;if(t.location.origin!==_e.origin||dt){ee?t.location.replace(S.location):t.location.assign(S.location);return}}P=null;let W=ee===!0?ze.Replace:ze.Push,B=$||m0(A.navigation);if(RN.has(S.status)&&B&&cn(B.formMethod))await tr(W,J,{submission:Pe({},B,{formAction:S.location}),preventScrollReset:C});else if(Y)await tr(W,J,{overrideNavigation:Il(J),fetcherSubmission:B,preventScrollReset:C});else{let _e=Il(J,B);await tr(W,J,{overrideNavigation:_e,preventScrollReset:C})}}async function ug(A,S,k,$,ee){let Y=await Promise.all([...k.map(B=>ss("loader",ee,B,S,o,i,l)),...$.map(B=>B.matches&&B.match&&B.controller?ss("loader",as(e.history,B.path,B.controller.signal),B.match,B.matches,o,i,l):{type:Qe.error,error:Qt(404,{pathname:B.path})})]),J=Y.slice(0,k.length),W=Y.slice(k.length);return await Promise.all([p0(A,k,J,J.map(()=>ee.signal),!1,p.loaderData),p0(A,$.map(B=>B.match),W,$.map(B=>B.controller?B.controller.signal:null),!0)]),{results:Y,loaderResults:J,fetcherResults:W}}function Hc(){j=!0,F.push(...Wc()),je.forEach((A,S)=>{q.has(S)&&(ue.push(S),nr(S))})}function qa(A,S,k){let $=Ji(p.matches,S);qc(A),ve({errors:{[$.route.id]:k},fetchers:new Map(p.fetchers)})}function qc(A){let S=p.fetchers.get(A);q.has(A)&&!(S&&S.state==="loading"&&Je.has(A))&&nr(A),je.delete(A),Je.delete(A),de.delete(A),p.fetchers.delete(A)}function nr(A){let S=q.get(A);ie(S,"Expected fetch controller: "+A),S.abort(),q.delete(A)}function cg(A){for(let S of A){let k=lg(S),$=bi(k.data);p.fetchers.set(S,$)}}function dg(){let A=[],S=!1;for(let k of de){let $=p.fetchers.get(k);ie($,"Expected fetcher: "+k),$.state==="loading"&&(de.delete(k),A.push(k),S=!0)}return cg(A),S}function hg(A){let S=[];for(let[k,$]of Je)if($<A){let ee=p.fetchers.get(k);ie(ee,"Expected fetcher: "+k),ee.state==="loading"&&(nr(k),Je.delete(k),S.push(k))}return cg(S),S.length>0}function SI(A,S){let k=p.blockers.get(A)||os;return z.get(A)!==S&&z.set(A,S),k}function fg(A){p.blockers.delete(A),z.delete(A)}function Wa(A,S){let k=p.blockers.get(A)||os;ie(k.state==="unblocked"&&S.state==="blocked"||k.state==="blocked"&&S.state==="blocked"||k.state==="blocked"&&S.state==="proceeding"||k.state==="blocked"&&S.state==="unblocked"||k.state==="proceeding"&&S.state==="unblocked","Invalid blocker state transition: "+k.state+" -> "+S.state);let $=new Map(p.blockers);$.set(A,S),ve({blockers:$})}function pg(A){let{currentLocation:S,nextLocation:k,historyAction:$}=A;if(z.size===0)return;z.size>1&&ko(!1,"A router only supports one blocker at a time");let ee=Array.from(z.entries()),[Y,J]=ee[ee.length-1],W=p.blockers.get(Y);if(!(W&&W.state==="proceeding")&&J({currentLocation:S,nextLocation:k,historyAction:$}))return Y}function Wc(A){let S=[];return O.forEach((k,$)=>{(!A||A($))&&(k.cancel(),S.push($),O.delete($))}),S}function CI(A,S,k){if(h=A,y=S,f=k||null,!v&&p.navigation===eh){v=!0;let $=gg(p.location,p.matches);$!=null&&ve({restoreScrollPosition:$})}return()=>{h=null,y=null,f=null}}function mg(A,S){return f&&f(A,S.map($=>$N($,p.loaderData)))||A.key}function RI(A,S){if(h&&y){let k=mg(A,S);h[k]=y()}}function gg(A,S){if(h){let k=mg(A,S),$=h[k];if(typeof $=="number")return $}return null}function PI(A){o={},a=Vf(A,i,void 0,o)}return E={get basename(){return l},get state(){return p},get routes(){return s},initialize:ke,subscribe:ki,enableScrollRestoration:CI,navigate:_n,fetch:TI,revalidate:Di,createHref:A=>e.history.createHref(A),encodeLocation:A=>e.history.encodeLocation(A),getFetcher:lg,deleteFetcher:qc,dispose:Ue,getBlocker:SI,deleteBlocker:fg,_internalFetchControllers:q,_internalActiveDeferreds:O,_internalSetRoutes:PI},E}function DN(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Lf(e,t,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let c of t)if(a.push(c),c.route.id===o){l=c;break}}else a=t,l=t[t.length-1];let u=Zm(i||".",Lc(a).map(c=>c.pathnameBase),Uo(e.pathname,n)||e.pathname,s==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!tg(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:zn([n,u.pathname])),wi(u)}function o0(e,t,n,r){if(!r||!DN(r))return{path:n};if(r.formMethod&&!FN(r.formMethod))return{path:n,error:Qt(405,{method:r.formMethod})};let i=()=>({path:n,error:Qt(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),a=nI(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!cn(s))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,y)=>{let[v,w]=y;return""+f+v+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!cn(s))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}ie(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=bf(r.formData),u=r.formData;else if(r.body instanceof FormData)l=bf(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=u0(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=u0(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(cn(c.formMethod))return{path:n,submission:c};let d=er(n);return t&&d.search&&tg(d.search)&&l.append("index",""),d.search="?"+l,{path:wi(d),submission:c}}function NN(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function s0(e,t,n,r,i,o,s,a,l,u,c,d,h,f){let y=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,v=e.createURL(t.location),w=e.createURL(i),m=f?Object.keys(f)[0]:void 0,E=NN(n,m).filter((T,C)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(ON(t.loaderData,t.matches[C],T)||s.some(j=>j===T.route.id))return!0;let P=t.matches[C],x=T;return a0(T,Pe({currentUrl:v,currentParams:P.params,nextUrl:w,nextParams:x.params},r,{actionResult:y,defaultShouldRevalidate:o||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||tI(P,x)}))}),p=[];return l.forEach((T,C)=>{if(!n.some(ue=>ue.route.id===T.routeId))return;let P=Xi(c,T.path,d);if(!P){p.push({key:C,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let x=t.fetchers.get(C),j=Ff(P,T.path),F=!1;u.has(C)?F=!1:a.includes(C)?F=!0:x&&x.state!=="idle"&&x.data===void 0?F=o:F=a0(j,Pe({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:y,defaultShouldRevalidate:o})),F&&p.push({key:C,routeId:T.routeId,path:T.path,matches:P,match:j,controller:new AbortController})}),[E,p]}function ON(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function tI(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function a0(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function l0(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];ie(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";ko(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!nN.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Pe({},t(i),{lazy:void 0}))}async function ss(e,t,n,r,i,o,s,a){a===void 0&&(a={});let l,u,c,d=y=>{let v,w=new Promise((m,g)=>v=g);return c=()=>v(),t.signal.addEventListener("abort",c),Promise.race([y({request:t,params:n.params,context:a.requestContext}),w])};try{let y=n.route[e];if(n.route.lazy)if(y)u=(await Promise.all([d(y),l0(n.route,o,i)]))[0];else if(await l0(n.route,o,i),y=n.route[e],y)u=await d(y);else if(e==="action"){let v=new URL(t.url),w=v.pathname+v.search;throw Qt(405,{method:t.method,pathname:w,routeId:n.route.id})}else return{type:Qe.data,data:void 0};else if(y)u=await d(y);else{let v=new URL(t.url),w=v.pathname+v.search;throw Qt(404,{pathname:w})}ie(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(y){l=Qe.error,u=y}finally{c&&t.signal.removeEventListener("abort",c)}if(bN(u)){let y=u.status;if(CN.has(y)){let m=u.headers.get("Location");if(ie(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!eI.test(m))m=Lf(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,m);else if(!a.isStaticRequest){let g=new URL(t.url),E=m.startsWith("//")?new URL(g.protocol+m):new URL(m),p=Uo(E.pathname,s)!=null;E.origin===g.origin&&p&&(m=E.pathname+E.search+E.hash)}if(a.isStaticRequest)throw u.headers.set("Location",m),u;return{type:Qe.redirect,status:y,location:m,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(a.isRouteRequest)throw{type:l||Qe.data,response:u};let v,w=u.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?v=await u.json():v=await u.text(),l===Qe.error?{type:l,error:new eg(y,u.statusText,v),headers:u.headers}:{type:Qe.data,data:v,statusCode:u.status,headers:u.headers}}if(l===Qe.error)return{type:l,error:u};if(LN(u)){var h,f;return{type:Qe.deferred,deferredData:u,statusCode:(h=u.init)==null?void 0:h.status,headers:((f=u.init)==null?void 0:f.headers)&&new Headers(u.init.headers)}}return{type:Qe.data,data:u}}function as(e,t,n,r){let i=e.createURL(nI(t)).toString(),o={signal:n};if(r&&cn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=bf(r.formData):o.body=r.formData}return new Request(i,o)}function bf(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function u0(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function MN(e,t,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=t[d].route.id;if(ie(!fo(c),"Cannot handle redirect results in processLoaderData"),Fs(c)){let f=Ji(e,h),y=c.error;r&&(y=Object.values(r)[0],r=void 0),s=s||{},s[f.route.id]==null&&(s[f.route.id]=y),o[h]=void 0,l||(l=!0,a=JT(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else ii(c)?(i.set(h,c.deferredData),o[h]=c.deferredData.data):o[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function c0(e,t,n,r,i,o,s,a){let{loaderData:l,errors:u}=MN(t,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:h,controller:f}=o[c];ie(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let y=s[c];if(!(f&&f.signal.aborted))if(Fs(y)){let v=Ji(e.matches,h==null?void 0:h.route.id);u&&u[v.route.id]||(u=Pe({},u,{[v.route.id]:y.error})),e.fetchers.delete(d)}else if(fo(y))ie(!1,"Unhandled fetcher revalidation redirect");else if(ii(y))ie(!1,"Unhandled fetcher deferred data");else{let v=bi(y.data);e.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function d0(e,t,n,r){let i=Pe({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function Ji(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function h0(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Qt(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new eg(e||500,s,new Error(a),!0)}function f0(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(fo(n))return{result:n,idx:t}}}function nI(e){let t=typeof e=="string"?er(e):e;return wi(Pe({},t,{hash:""}))}function VN(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function ii(e){return e.type===Qe.deferred}function Fs(e){return e.type===Qe.error}function fo(e){return(e&&e.type)===Qe.redirect}function LN(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function bN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function FN(e){return SN.has(e.toLowerCase())}function cn(e){return IN.has(e.toLowerCase())}async function p0(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let u=e.find(d=>d.route.id===l.route.id),c=u!=null&&!tI(u,l)&&(o&&o[l.route.id])!==void 0;if(ii(a)&&(i||c)){let d=r[s];ie(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await rI(a,d,i).then(h=>{h&&(n[s]=h||n[s])})}}}async function rI(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Qe.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Qe.error,error:i}}return{type:Qe.data,data:e.deferredData.data}}}function tg(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function $N(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Ff(e,t){let n=typeof t=="string"?er(t).search:t.search;if(e[e.length-1].route.index&&tg(n||""))return e[e.length-1];let r=Lc(e);return r[r.length-1]}function m0(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Il(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jN(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ls(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function UN(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0}}function bi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bu.apply(this,arguments)}const bc=I.createContext(null),iI=I.createContext(null),Bo=I.createContext(null),Fc=I.createContext(null),xi=I.createContext({outlet:null,matches:[],isDataRoute:!1}),oI=I.createContext(null);function BN(e,t){let{relative:n}=t===void 0?{}:t;za()||ie(!1);let{basename:r,navigator:i}=I.useContext(Bo),{hash:o,pathname:s,search:a}=aI(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:zn([r,s])),i.createHref({pathname:l,search:a,hash:o})}function za(){return I.useContext(Fc)!=null}function Ha(){return za()||ie(!1),I.useContext(Fc).location}function sI(e){I.useContext(Bo).static||I.useLayoutEffect(e)}function zN(){let{isDataRoute:e}=I.useContext(xi);return e?tO():HN()}function HN(){za()||ie(!1);let e=I.useContext(bc),{basename:t,navigator:n}=I.useContext(Bo),{matches:r}=I.useContext(xi),{pathname:i}=Ha(),o=JSON.stringify(Lc(r).map(l=>l.pathnameBase)),s=I.useRef(!1);return sI(()=>{s.current=!0}),I.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=Zm(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:zn([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}function aI(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=I.useContext(xi),{pathname:i}=Ha(),o=JSON.stringify(Lc(r).map(s=>s.pathnameBase));return I.useMemo(()=>Zm(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function qN(e,t,n){za()||ie(!1);let{navigator:r}=I.useContext(Bo),{matches:i}=I.useContext(xi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Ha(),u;if(t){var c;let v=typeof t=="string"?er(t):t;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||ie(!1),u=v}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",f=Xi(e,{pathname:h}),y=YN(f&&f.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:zn([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:zn([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return t&&y?I.createElement(Fc.Provider,{value:{location:bu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ze.Pop}},y):y}function WN(){let e=eO(),t=JT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:i},n):null,o)}const KN=I.createElement(WN,null);class GN extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?I.createElement(xi.Provider,{value:this.props.routeContext},I.createElement(oI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QN(e){let{routeContext:t,match:n,children:r}=e,i=I.useContext(bc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(xi.Provider,{value:t},r)}function YN(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||ie(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||KN);let h=t.concat(o.slice(0,u+1)),f=()=>{let y;return c?y=d:l.route.Component?y=I.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,I.createElement(QN,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?I.createElement(GN,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var $f;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})($f||($f={}));var va;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(va||(va={}));function XN(e){let t=I.useContext(bc);return t||ie(!1),t}function JN(e){let t=I.useContext(iI);return t||ie(!1),t}function ZN(e){let t=I.useContext(xi);return t||ie(!1),t}function lI(e){let t=ZN(),n=t.matches[t.matches.length-1];return n.route.id||ie(!1),n.route.id}function eO(){var e;let t=I.useContext(oI),n=JN(va.UseRouteError),r=lI(va.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function tO(){let{router:e}=XN($f.UseNavigateStable),t=lI(va.UseNavigateStable),n=I.useRef(!1);return sI(()=>{n.current=!0}),I.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,bu({fromRouteId:t},o)))},[e,t])}const nO="startTransition",g0=WI[nO];function rO(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=I.useState(n.state),{v7_startTransition:s}=r||{},a=I.useCallback(d=>{s&&g0?g0(()=>o(d)):o(d)},[o,s]);I.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=I.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:d=>n.navigate(d),push:(d,h,f)=>n.navigate(d,{state:h,preventScrollReset:f==null?void 0:f.preventScrollReset}),replace:(d,h,f)=>n.navigate(d,{replace:!0,state:h,preventScrollReset:f==null?void 0:f.preventScrollReset})}),[n]),u=n.basename||"/",c=I.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return I.createElement(I.Fragment,null,I.createElement(bc.Provider,{value:c},I.createElement(iI.Provider,{value:i},I.createElement(oO,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?I.createElement(iO,{routes:n.routes,state:i}):t))),null)}function iO(e){let{routes:t,state:n}=e;return qN(t,void 0,n)}function oO(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ze.Pop,navigator:o,static:s=!1}=e;za()&&ie(!1);let a=t.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=er(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:f="default"}=r,y=I.useMemo(()=>{let v=Uo(u,a);return v==null?null:{location:{pathname:v,search:c,hash:d,state:h,key:f},navigationType:i}},[a,u,c,d,h,f,i]);return y==null?null:I.createElement(Bo.Provider,{value:l},I.createElement(Fc.Provider,{children:n,value:y}))}var y0;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(y0||(y0={}));new Promise(()=>{});function sO(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:I.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:I.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(this,arguments)}function aO(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function lO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uO(e,t){return e.button===0&&(!t||t==="_self")&&!lO(e)}const cO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function dO(e,t){return kN({basename:t==null?void 0:t.basename,future:_a({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:ZD({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||hO(),routes:e,mapRouteProperties:sO}).initialize()}function hO(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=_a({},t,{errors:fO(t.errors)})),t}function fO(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new eg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const pO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,po=I.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=t,d=aO(t,cO),{basename:h}=I.useContext(Bo),f,y=!1;if(typeof u=="string"&&mO.test(u)&&(f=u,pO))try{let g=new URL(window.location.href),E=u.startsWith("//")?new URL(g.protocol+u):new URL(u),p=Uo(E.pathname,h);E.origin===g.origin&&p!=null?u=p+E.search+E.hash:y=!0}catch{}let v=BN(u,{relative:i}),w=gO(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function m(g){r&&r(g),g.defaultPrevented||w(g)}return I.createElement("a",_a({},d,{href:f||v,onClick:y||o?r:m,ref:n,target:l}))});var v0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(v0||(v0={}));var _0;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_0||(_0={}));function gO(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=t===void 0?{}:t,a=zN(),l=Ha(),u=aI(e,{relative:s});return I.useCallback(c=>{if(uO(c,n)){c.preventDefault();let d=r!==void 0?r:wi(l)===wi(u);a(e,{replace:d,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,e,o,s])}var uI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},E0=re.createContext&&re.createContext(uI),Pr=globalThis&&globalThis.__assign||function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Pr.apply(this,arguments)},yO=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function cI(e){return e&&e.map(function(t,n){return re.createElement(t.tag,Pr({key:n},t.attr),cI(t.child))})}function kt(e){return function(t){return re.createElement(vO,Pr({attr:Pr({},e.attr)},t),cI(e.child))}}function vO(e){var t=function(n){var r=e.attr,i=e.size,o=e.title,s=yO(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),re.createElement("svg",Pr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Pr(Pr({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&re.createElement("title",null,o),e.children)};return E0!==void 0?re.createElement(E0.Consumer,null,function(n){return t(n)}):t(uI)}function _O(e){return kt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function EO(e){return kt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}const w0=({children:e,to:t})=>{const{pathname:n}=Ha(),r=`link ${n===t?"active":""}`;return _.jsx(po,{className:r,to:t,children:e})};function ng(){const e=I.useRef(),t=()=>{e.current.classList.toggle("responsive-nav")};return _.jsxs("header",{children:[_.jsxs("div",{className:"container-nav",children:[_.jsx("div",{style:{display:"flex",alignItems:"center",gap:10},children:_.jsx(po,{to:"/",className:"link",style:{textTransform:"uppercase"},children:"Registro Productos"})}),_.jsxs("nav",{ref:e,children:[_.jsxs("div",{className:"container-links",children:[_.jsx(w0,{to:"/",children:"Inicio"}),_.jsx(w0,{to:"/products",children:"Productos"})]}),_.jsx("button",{className:"nav-btn nav-close-btn","aria-label":"Close",onClick:t,children:_.jsx(EO,{})})]})]}),_.jsx("button",{className:"nav-btn","aria-label":"Open",onClick:t,children:_.jsx(_O,{})})]})}function wO(e){return kt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]})(e)}function TO(e){return kt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attr:{d:"M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]})(e)}function IO(e){return kt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 306.9c-113.5 0-205.1 91.6-205.1 205.1S398.5 717.1 512 717.1 717.1 625.5 717.1 512 625.5 306.9 512 306.9zm0 338.4c-73.4 0-133.3-59.9-133.3-133.3S438.6 378.7 512 378.7 645.3 438.6 645.3 512 585.4 645.3 512 645.3zm213.5-394.6c-26.5 0-47.9 21.4-47.9 47.9s21.4 47.9 47.9 47.9 47.9-21.3 47.9-47.9a47.84 47.84 0 0 0-47.9-47.9zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zm-88 235.8c-7.3 18.2-16.1 31.8-30.2 45.8-14.1 14.1-27.6 22.9-45.8 30.2C695.2 844.7 570.3 840 512 840c-58.3 0-183.3 4.7-235.9-16.1-18.2-7.3-31.8-16.1-45.8-30.2-14.1-14.1-22.9-27.6-30.2-45.8C179.3 695.2 184 570.3 184 512c0-58.3-4.7-183.3 16.1-235.9 7.3-18.2 16.1-31.8 30.2-45.8s27.6-22.9 45.8-30.2C328.7 179.3 453.7 184 512 184s183.3-4.7 235.9 16.1c18.2 7.3 31.8 16.1 45.8 30.2 14.1 14.1 22.9 27.6 30.2 45.8C844.7 328.7 840 453.7 840 512c0 58.3 4.7 183.2-16.2 235.8z"}}]})(e)}function AO(e){return kt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]})(e)}function SO(e){return kt({tag:"svg",attr:{t:"1551322312294",style:"",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z"}},{tag:"path",attr:{d:"M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z"}}]})(e)}function CO(e){return kt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"}}]})(e)}function rg(){return _.jsxs("footer",{className:"footer",children:[_.jsx("div",{className:"container",children:_.jsxs("div",{className:"row",children:[_.jsxs("div",{className:"footer-col",children:[_.jsx("h4",{children:"Registro Productos"}),_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx(po,{to:"/",children:"Inicio"})}),_.jsx("li",{children:_.jsx(po,{to:"/products",children:"Productos"})})]})]}),_.jsxs("div",{className:"footer-col",children:[_.jsx("h4",{children:"Nuestras redes sociales"}),_.jsx("div",{className:"social-links",children:_.jsx(po,{"aria-label":"Instagram link",target:"blank",className:"social-icons",to:"",children:_.jsx(IO,{size:20})})})]})]})}),_.jsx("div",{className:"container-brand",children:_.jsx("p",{children:"© Registro Productos"})})]})}function RO(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var jf=I,us=RO(jf);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Uf=function(){return Uf=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Uf.apply(this,arguments)};function PO(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function xO(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var kO=`.scroll-to-top {
  background-color: white;
  right: 40px;
  bottom: 40px;
  position: fixed;
  z-index: 2;
  cursor: pointer;
  border-radius: 7px;
  width: 40px;
  height: 40px;
  box-shadow: 0 9px 25px 0 rgba(132, 128, 177, 0.28);
  border: none;
}

.scroll-to-top:active {
  transform: matrix(0.95, 0, 0, 0.95, 0, 0);
}
`;xO(kO);function DO(e){e===void 0&&(e=!1),e?window.scrollTo({top:0,behavior:"smooth"}):document.documentElement.scrollTop=0}var NO=function(e){var t=e.top,n=t===void 0?20:t,r=e.className,i=r===void 0?"":r,o=e.color,s=o===void 0?"black":o,a=e.smooth,l=a===void 0?!1:a,u=e.component,c=u===void 0?"":u,d=e.viewBox,h=d===void 0?"0 0 256 256":d,f=e.svgPath,y=f===void 0?"M222.138,91.475l-89.6-89.6c-2.5-2.5-6.551-2.5-9.051,0l-89.6,89.6c-2.5,2.5-2.5,6.551,0,9.051s6.744,2.5,9.244,0L122,21.85  V249.6c0,3.535,2.466,6.4,6,6.4s6-2.865,6-6.4V21.85l78.881,78.676c1.25,1.25,2.992,1.875,4.629,1.875s3.326-0.625,4.576-1.875  C224.586,98.025,224.638,93.975,222.138,91.475z":f,v=e.width,w=v===void 0?"28":v,m=e.height,g=m===void 0?"28":m,E=PO(e,["top","className","color","smooth","component","viewBox","svgPath","width","height"]),p=jf.useState(!1),T=p[0],C=p[1];return jf.useEffect(function(){var P=function(){C(document.documentElement.scrollTop>=n)};return P(),document.addEventListener("scroll",P),function(){return document.removeEventListener("scroll",P)}},[n]),us.createElement(us.Fragment,null,T&&us.createElement("button",Uf({className:"scroll-to-top "+i,onClick:function(){return DO(l)},"aria-label":"Scroll to top"},E),c||us.createElement("svg",{width:w,height:g,fill:s,viewBox:h},us.createElement("path",{d:y}))))},OO=NO;const MO=Do(OO);function VO(e){return kt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"}}]})(e)}function LO(e){return kt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"}},{tag:"path",attr:{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"}}]})(e)}function ig(){return _.jsx(_.Fragment,{children:_.jsx(MO,{top:250,smooth:!0,color:"#0089e4",component:_.jsx(VO,{style:{color:"#0089e4"},size:20})})})}function bO(e){return kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}}]})(e)}function FO(e){return kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}}]})(e)}function dI(e){return kt({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:"currentColor"}}]})(e)}function og({children:e,open:t,close:n,setIsOpen:r}){const{setCurrentId:i}=Pi();if(!t)return null;const o=()=>{r(n),i("")};return _.jsxs(_.Fragment,{children:[_.jsx("div",{className:"div-overlay-style"}),_.jsxs("div",{className:"div-modal-style",children:[_.jsx("div",{children:_.jsx("button",{className:"close-modal",onClick:o,children:_.jsx(dI,{size:20})})}),e]})]})}function $O({product:e,setIsOpen2:t}){const{onDeleteProduct:n}=Pi();return _.jsxs("div",{className:"container-delete-and-edit",children:[_.jsx("div",{children:_.jsxs("p",{children:['¿Estas seguro que quieres eliminar "',e.name,'"?']})}),_.jsxs("div",{className:"sub-container-delete-and-edit",children:[_.jsx("button",{"aria-label":"Cancelar borrar",onClick:()=>t(!1),children:"Cancelar"}),_.jsx("button",{"aria-label":"Aceptar borrar",onClick:()=>n(e.id),children:"Aceptar"})]})]})}function jO({product:e,setIsOpen:t,menuType:n}){const[r,i]=I.useState(!1),{setCurrentId:o,handleLess:s,handlePlus:a,onFavoriteProduct:l}=Pi(),u=`card-container ${n==="list"?"card-container-list":""}`,c=`sub-card-container ${n==="list"?"sub-card-container-list":""}`,d=`container-name ${n==="list"?"container-name-list":""}`,h=v=>{t(!0),o(v)},f=()=>{e.amount>=1&&s(e.id,e.amount)},y=(v,w)=>{l(v,w)};return _.jsx(_.Fragment,{children:_.jsxs("div",{className:u,children:[_.jsxs("div",{className:"sub-card-container",children:[_.jsx("div",{className:d,children:_.jsx("p",{children:e.name})}),_.jsxs("div",{className:c,children:[_.jsxs("div",{className:"container-amount",children:[_.jsx("button",{"aria-label":"Restar producto",onClick:()=>f(),children:_.jsx(AO,{size:20})}),_.jsx("span",{children:e.amount}),_.jsx("button",{"aria-label":"Sumar producto",onClick:()=>a(e.id,e.amount),children:_.jsx(SO,{size:20})})]}),_.jsx(og,{setIsOpen:i,open:r,close:()=>i(!1),children:_.jsx($O,{product:e,setIsOpen2:i})}),_.jsxs("div",{className:"container-edit-delete",children:[_.jsx("button",{"aria-label":e.favorite?"Eliminar de favoritos":"Agregar a favoritos",className:"setFavorite",onClick:()=>y(e.id,e.favorite),children:e.favorite?_.jsx(FO,{size:20}):_.jsx(bO,{size:20})}),_.jsx("button",{"aria-label":"Editar producto",className:"edit-btn",onClick:()=>h(e.id),children:_.jsx(wO,{size:20})}),_.jsx("button",{"aria-label":"Borrar producto",className:"delete-btn",onClick:()=>i(!0),children:_.jsx(LO,{size:18})})]}),_.jsxs("div",{children:[_.jsx("p",{children:"Expira en:"}),_.jsx("span",{children:e.date.split("-").reverse().join("/")})]}),_.jsxs("div",{children:[e.days&&!e.text&&_.jsxs("p",{children:[e.days==1?"Falta":"Faltan"," ",e.days," ",e.days==1?"dia":"dias"," para vencer"]}),e.text&&_.jsxs("p",{children:[e.text," ",e.days," ",e.days==1?"dia":"dias"]})]})]})]}),_.jsx("div",{children:e.category&&_.jsx("div",{className:"card-footer",children:_.jsx("span",{children:e.category})})})]})})}function UO(){return Pi(),BT(),_.jsxs(_.Fragment,{children:[_.jsx(pr,{children:_.jsxs(ho,{children:[_.jsx("title",{children:"Inicio | Registro Productos"}),_.jsx("meta",{name:"descripción",content:"Empieze a registrar productos!!!"})]})}),_.jsx(ng,{}),_.jsx("section",{className:"section",children:"Home"}),_.jsx(ig,{}),_.jsx(rg,{})]})}function BO(){return _.jsx(_.Fragment,{children:_.jsx(UO,{})})}function zO(){return _.jsx("div",{className:"loaderForm",children:_.jsxs("div",{className:"wrapper",children:[_.jsx("div",{className:"line-1"}),_.jsx("div",{className:"line-2"}),_.jsx("div",{className:"line-3"}),_.jsx("div",{className:"line-4"}),_.jsx("div",{className:"line-5"}),_.jsx("div",{className:"line-6"}),_.jsx("div",{className:"line-7"}),_.jsx("div",{className:"line-8"})]})})}function HO({setIsOpen:e}){const{currentId:t,addOrEditProduct:n}=Pi(),[r,i]=I.useState(!0),o={name:"",date:"",amount:1,category:"",favorite:!1},[s,a]=I.useState(o),l=d=>{const{name:h,value:f}=d.target;a({...s,[h]:f,created:Ke.now()})},u=d=>(d.preventDefault(),s.name===""?Yr("Falta ingresar nombre","error"):s.date===""?Yr("Falta ingresar fecha","error"):(n(s),a({...o}),e(!1))),c=async d=>{const h=Qr(or,"products",d),f=await Ok(h);a({...f.data()}),i(!1)};return I.useEffect(()=>{t===""?(i(!1),a({...o})):c(t)},[t]),_.jsx("form",{onSubmit:u,className:"form-container",children:r?_.jsx(zO,{}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"input-container",children:_.jsx("input",{onChange:l,type:"text",className:"form-control",placeholder:"Nombre del producto",name:"name",value:s.name})}),_.jsx("div",{className:"input-container",children:_.jsx("input",{onChange:l,type:"number",className:"input-number",placeholder:"Cantidad",name:"amount",value:s.amount,min:"1"})}),_.jsx("div",{className:"input-container",children:_.jsx("input",{onChange:l,type:"date",name:"date",className:"form-control",value:s.date})}),_.jsx("div",{className:"input-container",children:_.jsx("input",{onChange:l,type:"text",name:"category",className:"form-control",placeholder:"Categoría (opcional)",value:s.category})}),_.jsx("button",{className:"btn-save-update",children:t===""?"Guardar":"Actualizar"})]})})}function qO({setSearch:e,search:t,products:n}){const r=t!==""?n.filter(i=>zT(i,t)).length:"";return _.jsxs("div",{className:"search-container",children:[_.jsx("input",{onChange:i=>e(i.target.value),placeholder:"Buscar producto..."}),r!==0?_.jsxs("span",{children:[t!==""?"Resultados: ":"",r]}):_.jsxs("span",{children:['No se encontraron resultados con "',t,'"']})]})}function T0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T0(Object(n),!0).forEach(function(r){Te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jc(e,t,n){return t&&I0(e.prototype,t),n&&I0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(){return Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nn.apply(this,arguments)}function sg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zf(e,t)}function Fu(e){return Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Fu(e)}function zf(e,t){return zf=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},zf(e,t)}function WO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function KO(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Uc(e,t){if(e==null)return{};var n=KO(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GO(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dn(e)}function ag(e){var t=WO();return function(){var r=Fu(e),i;if(t){var o=Fu(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return GO(this,i)}}function QO(e,t){return JO(e)||eM(e,t)||hI(e,t)||nM()}function YO(e){return XO(e)||ZO(e)||hI(e)||tM()}function XO(e){if(Array.isArray(e))return Hf(e)}function JO(e){if(Array.isArray(e))return e}function ZO(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eM(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function hI(e,t){if(e){if(typeof e=="string")return Hf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hf(e,t)}}function Hf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rM=jc(function e(t){var n=this,r=t.expanded,i=r===void 0?[]:r,o=t.allowMultipleExpanded,s=o===void 0?!1:o,a=t.allowZeroExpanded,l=a===void 0?!1:a;$c(this,e),Te(this,"expanded",void 0),Te(this,"allowMultipleExpanded",void 0),Te(this,"allowZeroExpanded",void 0),Te(this,"toggleExpanded",function(u){if(n.isItemDisabled(u))return n;var c=n.isItemExpanded(u);return c?n.augment({expanded:n.expanded.filter(function(d){return d!==u})}):n.augment({expanded:n.allowMultipleExpanded?[].concat(YO(n.expanded),[u]):[u]})}),Te(this,"isItemDisabled",function(u){var c=n.isItemExpanded(u),d=n.expanded.length===1;return!!(c&&!n.allowZeroExpanded&&d)}),Te(this,"isItemExpanded",function(u){return n.expanded.indexOf(u)!==-1}),Te(this,"getPanelAttributes",function(u,c){var d=c??n.isItemExpanded(u);return{role:n.allowMultipleExpanded?void 0:"region","aria-hidden":n.allowMultipleExpanded?!d:void 0,"aria-labelledby":n.getButtonId(u),id:n.getPanelId(u),hidden:d?void 0:!0}}),Te(this,"getHeadingAttributes",function(){return{role:"heading"}}),Te(this,"getButtonAttributes",function(u,c){var d=c??n.isItemExpanded(u),h=n.isItemDisabled(u);return{id:n.getButtonId(u),"aria-disabled":h,"aria-expanded":d,"aria-controls":n.getPanelId(u),role:"button",tabIndex:0}}),Te(this,"getPanelId",function(u){return"accordion__panel-".concat(u)}),Te(this,"getButtonId",function(u){return"accordion__heading-".concat(u)}),Te(this,"augment",function(u){return new e(Bf({expanded:n.expanded,allowMultipleExpanded:n.allowMultipleExpanded,allowZeroExpanded:n.allowZeroExpanded},u))}),this.expanded=i,this.allowMultipleExpanded=s,this.allowZeroExpanded=l}),fI=I.createContext(null),pI=function(e){sg(n,e);var t=ag(n);function n(){var r;$c(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Te(dn(r),"state",new rM({expanded:r.props.preExpanded,allowMultipleExpanded:r.props.allowMultipleExpanded,allowZeroExpanded:r.props.allowZeroExpanded})),Te(dn(r),"toggleExpanded",function(a){r.setState(function(l){return l.toggleExpanded(a)},function(){r.props.onChange&&r.props.onChange(r.state.expanded)})}),Te(dn(r),"isItemDisabled",function(a){return r.state.isItemDisabled(a)}),Te(dn(r),"isItemExpanded",function(a){return r.state.isItemExpanded(a)}),Te(dn(r),"getPanelAttributes",function(a,l){return r.state.getPanelAttributes(a,l)}),Te(dn(r),"getHeadingAttributes",function(){return r.state.getHeadingAttributes()}),Te(dn(r),"getButtonAttributes",function(a,l){return r.state.getButtonAttributes(a,l)}),r}return jc(n,[{key:"render",value:function(){var i=this.state,o=i.allowZeroExpanded,s=i.allowMultipleExpanded;return I.createElement(fI.Provider,{value:{allowMultipleExpanded:s,allowZeroExpanded:o,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),n}(I.PureComponent);Te(pI,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var mI=function(e){sg(n,e);var t=ag(n);function n(){var r;$c(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Te(dn(r),"renderChildren",function(a){return a?r.props.children(a):null}),r}return jc(n,[{key:"render",value:function(){return I.createElement(fI.Consumer,null,this.renderChildren)}}]),n}(I.PureComponent),iM=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],oM=function(t){var n=t.className,r=n===void 0?"accordion":n,i=t.allowMultipleExpanded,o=t.allowZeroExpanded,s=t.onChange,a=t.preExpanded,l=Uc(t,iM);return I.createElement(pI,{preExpanded:a,allowMultipleExpanded:i,allowZeroExpanded:o,onChange:s},I.createElement("div",Nn({"data-accordion-component":"Accordion",className:r},l)))},qf;(function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"})(qf||(qf={}));var gI=qf,th=0;function sM(){var e=th;return th=th+1,"raa-".concat(e)}var aM=I.useId||sM,lM=/[\u0009\u000a\u000c\u000d\u0020]/g;function Ea(e){return e===""||lM.test(e)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(e,'", ASCII whitespaces are forbidden')),!1):!0}var yI=I.createContext(null),uM=function(t){var n=t.children,r=t.uuid,i=t.accordionContext,o=t.dangerouslySetExpanded,s=function(){i.toggleExpanded(r)},a=function(u){var c=o??u.isItemExpanded(r),d=u.isItemDisabled(r),h=u.getPanelAttributes(r,o),f=u.getHeadingAttributes(r),y=u.getButtonAttributes(r,o);return I.createElement(yI.Provider,{value:{uuid:r,expanded:c,disabled:d,toggleExpanded:s,panelAttributes:h,headingAttributes:f,buttonAttributes:y}},n)};return I.createElement(mI,null,a)},cM=function(t){return I.createElement(mI,null,function(n){return I.createElement(uM,Nn({},t,{accordionContext:n}))})},Bc=function(t){var n=t.children,r=function(o){return o?n(o):null};return I.createElement(yI.Consumer,null,r)},dM=["uuid","dangerouslySetExpanded","className","activeClassName"],Es=function(t){var n=t.uuid,r=t.dangerouslySetExpanded,i=t.className,o=i===void 0?"accordion__item":i,s=t.activeClassName,a=Uc(t,dM),l=I.useState(aM()),u=QO(l,1),c=u[0],d=n??c,h=function(y){var v=y.expanded,w=v&&s?s:o;return I.createElement("div",Nn({"data-accordion-component":"AccordionItem",className:w},a))};return Ea(d.toString()),a.id&&Ea(a.id),I.createElement(cM,{uuid:d,dangerouslySetExpanded:r},I.createElement(Bc,null,h))};Es.displayName=gI.AccordionItem;function vI(e){return e&&(e.matches('[data-accordion-component="Accordion"]')?e:vI(e.parentElement))}function zc(e){var t=vI(e);return t&&Array.from(t.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function hM(e){var t=zc(e)||[],n=t[0];n&&n.focus()}function fM(e){var t=zc(e)||[],n=t[t.length-1];n&&n.focus()}function pM(e){var t=zc(e)||[],n=t.indexOf(e);if(n!==-1){var r=t[n+1];r&&r.focus()}}function mM(e){var t=zc(e)||[],n=t.indexOf(e);if(n!==-1){var r=t[n-1];r&&r.focus()}}var Ln={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},gM=["toggleExpanded","className"],yM=function(t){var n=t.toggleExpanded,r=t.className,i=r===void 0?"accordion__button":r,o=Uc(t,gM),s=function(l){var u=l.key;if((u===Ln.ENTER||u===Ln.SPACE||u===Ln.SPACE_DEPRECATED)&&(l.preventDefault(),n()),l.target instanceof HTMLElement)switch(u){case Ln.HOME:{l.preventDefault(),hM(l.target);break}case Ln.END:{l.preventDefault(),fM(l.target);break}case Ln.LEFT:case Ln.UP:{l.preventDefault(),mM(l.target);break}case Ln.RIGHT:case Ln.DOWN:{l.preventDefault(),pM(l.target);break}}};return o.id&&Ea(o.id),I.createElement("div",Nn({className:i},o,{role:"button",tabIndex:0,onClick:n,onKeyDown:s,"data-accordion-component":"AccordionItemButton"}))},Al=function(t){return I.createElement(Bc,null,function(n){var r=n.toggleExpanded,i=n.buttonAttributes;return I.createElement(yM,Nn({toggleExpanded:r},t,i))})},vM={className:"accordion__heading","aria-level":3},_M=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

“The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.”

`,_I=function(e){sg(n,e);var t=ag(n);function n(){var r;$c(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Te(dn(r),"ref",void 0),Te(dn(r),"setRef",function(a){r.ref=a}),r}return jc(n,[{key:"componentDidUpdate",value:function(){n.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){n.VALIDATE(this.ref)}},{key:"render",value:function(){return I.createElement("div",Nn({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(i){if(i===void 0)throw new Error("ref is undefined");if(!(i.childElementCount===1&&i.firstElementChild&&i.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(_M)}}]),n}(I.PureComponent);Te(_I,"defaultProps",vM);var ws=function(t){return I.createElement(Bc,null,function(n){var r=n.headingAttributes;return t.id&&Ea(t.id),I.createElement(_I,Nn({},t,r))})};ws.displayName=gI.AccordionItemHeading;var EM=["className","region","id"],Sl=function(t){var n=t.className,r=n===void 0?"accordion__panel":n,i=t.region,o=t.id,s=Uc(t,EM),a=function(u){var c=u.panelAttributes;o&&Ea(o);var d=Bf(Bf({},c),{},{"aria-labelledby":i?c["aria-labelledby"]:void 0});return I.createElement("div",Nn({"data-accordion-component":"AccordionItemPanel",className:r},s,d,{role:i?"region":void 0}))};return I.createElement(Bc,null,a)};function wM(e){return kt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm96-64H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-96,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48Zm96-64H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,200,136Zm0,64H152V152h48v48Z"}}]})(e)}function TM({clickSquare:e,clickList:t}){return _.jsxs("div",{className:"container-menu-type",children:[_.jsx("button",{onClick:()=>e(),children:_.jsx(wM,{size:20})}),_.jsx("button",{onClick:()=>t(),children:_.jsx(CO,{size:20})})]})}function IM(){return _.jsx("div",{className:"pollo",children:_.jsx("img",{src:"https://i.pinimg.com/originals/b0/ec/ce/b0ecce5d028525d08389f01324fec5b4.jpg",alt:""})})}function AM(){return _.jsxs("div",{className:"container-loader",children:[_.jsx("span",{className:"loader"}),_.jsx("p",{children:"Cargando..."})]})}const SM=()=>{const[e,t]=I.useState(window.innerWidth),[n,r]=I.useState(window.innerHeight);I.useEffect(()=>(window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}),[]);const i=()=>{t(window.innerWidth),r(window.innerHeight)};return{width:e,height:n}};function CM(e){return kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2.75 6a.75.75 0 0 0 0 1.5h18.5a.75.75 0 0 0 0-1.5H2.75ZM6 11.75a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75Zm4 4.938a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"}}]})(e)}function RM({menu:e,setMenu:t,setCategory:n,setOrdenByDate:r,setOrdenByName:i}){const[o,s]=I.useState(-1),[a,l]=I.useState(!1),[u,c]=I.useState(0),{products:d,expiredProducts:h,productsVence:f,favorite:y}=Pi(),v=`container-filters ${e?"container-filters-open":""}`,w=`sub-container-menu ${e?"sub-container-menu-open":""}`,m=()=>{n(""),i(""),r(""),s(-1),c(0)},g=(x,j)=>{n(x),s(j)},E=()=>{i(""),r("")},p=()=>{i(""),r("orden2")},T=()=>{r(""),i("orden1")},C=x=>{const F=(x!=="all"?d.filter(ue=>ue.category==x):d).length;return _.jsx("span",{children:F})},P=()=>_.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsxs("span",{children:["Productos: ",d.length]}),_.jsxs("span",{children:["Productos por vencer: ",f.length]}),_.jsxs("span",{children:["Productos ya vencidos: ",h.length]}),_.jsxs("span",{children:["Favoritos: ",y.length]})]});return _.jsx("div",{className:v,children:_.jsxs("div",{className:w,children:[_.jsx("button",{className:"btn-filters",onClick:()=>t(!1),children:_.jsx(dI,{size:20})}),_.jsxs("div",{children:[_.jsxs("div",{className:"container-header",children:[_.jsx("p",{children:"Mis filtros"}),_.jsx(CM,{size:60})]}),_.jsxs("div",{children:[_.jsx("button",{className:"resetAllfilter",onClick:()=>m(),children:"Resetear filtros"}),_.jsxs("div",{className:"list-filters",children:[_.jsxs("button",{className:o===-1?"btn-filter active-filter":"btn-filter",onClick:()=>{n(""),s(-1)},children:["Todos ",C("all")]}),Array.from(new Set(d.map(x=>x.category))).map((x,j)=>{if(x)return _.jsxs("button",{className:o===j?"btn-filter active-filter":"btn-filter",onClick:()=>g(x,j),children:[x,C(x)]},j)})]})]}),_.jsxs("div",{children:[_.jsx("p",{style:{textAlign:"center",margin:"10px"},children:"Ordenar por"}),_.jsxs("div",{className:"list-filters",children:[_.jsx("button",{className:u===0?"btn-filter-orden active-orden":"btn-filter",onClick:()=>{E(),c(0)},children:"Por defecto"}),_.jsx("button",{className:u===1?"btn-filter-orden active-orden":"btn-filter",onClick:()=>{p(),c(1)},children:"Fecha de vencimiento"}),_.jsx("button",{className:u===2?"btn-filter-orden active-orden":"btn-filter",onClick:()=>{T(),c(2)},children:"Alfabeticamente"})]})]})]}),_.jsx(og,{setIsOpen:l,open:a,close:()=>l(!1),children:_.jsx(P,{})}),_.jsx("div",{className:"container-footer",children:_.jsxs("button",{onClick:()=>l(!0),children:[_.jsx(TO,{size:20})," Informacion adicional"]})})]})})}function PM(){const{products:e,productsVence:t,expiredProducts:n,loader:r,setLoader:i,favorite:o}=Pi(),[s,a]=I.useState(!1),[l,u]=I.useState(!1),[c,d]=I.useState(""),[h,f]=I.useState(""),[y,v]=I.useState(""),[w,m]=I.useState(""),[g,E]=I.useState(localStorage.getItem("menuType")||[]),{width:p}=SM();I.useEffect(()=>{BT()},[r]);const T=M=>w.toLowerCase()===""?M:zT(M,w),C=M=>c===""?M:M.category===c,P=(M,G)=>{if(h!=="")return M.date<G.date?-1:M.date>G.date?1:0},x=(M,G)=>{if(y!=="")return M.name<G.name?-1:M.name>G.name?1:0},j=M=>_.jsx(jO,{menuType:g,product:M,setIsOpen:a},M.id);localStorage.setItem("menuType",g);const F=()=>{E("list")},ue=()=>{E("square")},q={color:"white",backgroundColor:"#0089e4",userSelect:"none",borderRadius:"10px",position:"relative"};return _.jsxs(_.Fragment,{children:[_.jsx(pr,{children:_.jsxs(ho,{children:[_.jsx("title",{children:"Productos | Registro Productos"}),_.jsx("meta",{name:"descripción",content:"Ingrese su producto favorito!!"})]})}),_.jsx(ng,{}),_.jsxs("section",{className:"section",children:[_.jsx(og,{setIsOpen:a,open:s,close:()=>a(!1),children:_.jsx(HO,{setIsOpen:a})}),_.jsxs("div",{className:"container-full-products",children:[e.length>0&&_.jsx("h1",{className:"myProducts",children:"Mis productos"}),_.jsx("div",{children:_.jsx("button",{"aria-label":"Agregar nuevo producto",className:"btn-add-product",onClick:()=>a(!0),children:"Nuevo producto"})}),r?_.jsx(AM,{}):e.length===0?_.jsx(IM,{}):_.jsxs(_.Fragment,{children:[_.jsx(qO,{setSearch:m,search:w,products:e}),_.jsx("div",{children:_.jsx("button",{className:"add-filter-btn",onClick:()=>u(!0),children:"Ver filtros"})}),_.jsx(RM,{setMenu:u,menu:l,setCategory:d,setOrdenByDate:f,setOrdenByName:v}),p>=900&&_.jsx(TM,{clickList:F,clickSquare:ue}),_.jsxs(oM,{allowZeroExpanded:!0,allowMultipleExpanded:!0,preExpanded:["a"],style:{borderRadius:"10px",border:"none"},children:[_.jsxs(Es,{uuid:"a",children:[_.jsx(ws,{children:_.jsxs(Al,{style:q,children:["Productos",_.jsx("span",{className:"span-length",children:e.length})]})}),_.jsx(Sl,{children:_.jsxs("div",{className:"container-products",children:[e.length<1&&"No hay productos",e.filter(M=>T(M)).filter(M=>C(M)).sort((M,G)=>P(M,G)).sort((M,G)=>x(M,G)).map(M=>j(M))]})})]}),_.jsxs(Es,{children:[_.jsx(ws,{children:_.jsxs(Al,{style:q,children:["Productos por vencer",_.jsx("span",{className:"span-length",children:t.length})]})}),_.jsx(Sl,{children:_.jsxs("div",{className:"container-products",children:[t.length<1&&"No hay productos por vencer",t.filter(M=>T(M)).filter(M=>C(M)).sort((M,G)=>P(M,G)).sort((M,G)=>x(M,G)).map(M=>j(M))]})})]}),_.jsxs(Es,{children:[_.jsx(ws,{children:_.jsxs(Al,{style:q,children:["Productos vencidos",_.jsx("span",{className:"span-length",children:n.length})]})}),_.jsx(Sl,{children:_.jsxs("div",{className:"container-products",children:[n.length<1&&"No hay productos vencidos",n.filter(M=>T(M)).filter(M=>C(M)).sort((M,G)=>P(M,G)).sort((M,G)=>x(M,G)).map(M=>j(M))]})})]}),_.jsxs(Es,{children:[_.jsx(ws,{children:_.jsxs(Al,{style:q,children:["Favoritos",_.jsx("span",{className:"span-length",children:o.length})]})}),_.jsx(Sl,{children:_.jsxs("div",{className:"container-products",children:[o.length<1&&"No hay favoritos",o.filter(M=>T(M)).filter(M=>C(M)).sort((M,G)=>P(M,G)).sort((M,G)=>x(M,G)).map(M=>j(M))]})})]})]})]})]})]}),_.jsx(ig,{}),_.jsx(rg,{})]})}function xM(){return _.jsxs(_.Fragment,{children:[_.jsx(pr,{children:_.jsx(ho,{children:_.jsx("title",{children:"404 | Registro Productos"})})}),_.jsx(ng,{}),_.jsx("section",{className:"section",children:_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[_.jsx("h1",{style:{fontSize:"120px"},children:"404"}),_.jsx("p",{style:{fontSize:"24px"},children:"Pagina no encontrada"}),_.jsx(po,{style:{marginTop:"20px"},to:"/",children:"Volver al Inicio"})]})}),_.jsx(ig,{}),_.jsx(rg,{})]})}const kM=[{path:"/",element:_.jsx(BO,{}),errorElement:_.jsx(xM,{})},{path:"/products",element:_.jsx(PM,{})}],DM=dO(kM);nh.createRoot(document.getElementById("root")).render(_.jsxs(AD,{children:[_.jsx(rO,{router:DM}),_.jsx(Df,{})]}));
